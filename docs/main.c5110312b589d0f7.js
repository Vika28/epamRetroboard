var qj=Object.defineProperty,Wj=Object.defineProperties,Zj=Object.getOwnPropertyDescriptors,EF=Object.getOwnPropertySymbols,Kj=Object.prototype.hasOwnProperty,Yj=Object.prototype.propertyIsEnumerable,wF=(Ye,be,N)=>be in Ye?qj(Ye,be,{enumerable:!0,configurable:!0,writable:!0,value:N}):Ye[be]=N,Ke=(Ye,be)=>{for(var N in be||(be={}))Kj.call(be,N)&&wF(Ye,N,be[N]);if(EF)for(var N of EF(be))Yj.call(be,N)&&wF(Ye,N,be[N]);return Ye},Ii=(Ye,be)=>Wj(Ye,Zj(be));(self.webpackChunkepamRetroboard1=self.webpackChunkepamRetroboard1||[]).push([[179],{7905:(Ye,be,N)=>{"use strict";N.d(be,{hO:()=>je,xv:()=>he,Dh:()=>ae,GT:()=>me,cc:()=>xe,on:()=>G,pX:()=>oe});var d=N(3668),te=N(7892),L=N(7233);Ye=N.hmd(Ye);const le=["ngOnDestroy"],oe=(X,_e,Pe,Ce={})=>new Proxy(X,{get:(qe,ke)=>Pe.runOutsideAngular(()=>{var We;if(X[ke])return(null===(We=null==Ce?void 0:Ce.spy)||void 0===We?void 0:We.get)&&Ce.spy.get(ke,X[ke]),X[ke];if(le.indexOf(ke)>-1)return()=>{};const Qe=_e.toPromise().then(mt=>{const re=mt&&mt[ke];return"function"==typeof re?re.bind(mt):re&&re.then?re.then(pe=>Pe.run(()=>pe)):Pe.run(()=>re)});return new Proxy(()=>{},{get:(mt,re)=>Qe[re],apply:(mt,re,pe)=>Qe.then(Ee=>{var Te;const Ve=Ee&&Ee(...pe);return(null===(Te=null==Ce?void 0:Ce.spy)||void 0===Te?void 0:Te.apply)&&Ce.spy.apply(ke,pe,Ve),Ve})})})}),me=(X,_e)=>{_e.forEach(Pe=>{Object.getOwnPropertyNames(Pe.prototype||Pe).forEach(Ce=>{Object.defineProperty(X.prototype,Ce,Object.getOwnPropertyDescriptor(Pe.prototype||Pe,Ce))})})};class ne{constructor(_e){return _e}}const ae=new d.OlP("angularfire2.app.options"),he=new d.OlP("angularfire2.app.name");function G(X,_e,Pe){const qe="object"==typeof Pe&&Pe||{};qe.name=qe.name||"string"==typeof Pe&&Pe||"[DEFAULT]";const We=te.Z.apps.filter(Qe=>Qe&&Qe.name===qe.name)[0]||_e.runOutsideAngular(()=>te.Z.initializeApp(X,qe));try{JSON.stringify(X)!==JSON.stringify(We.options)&&z("error",`${We.name} Firebase App already initialized with different options${Ye.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Qe){}return new ne(We)}const z=(X,..._e)=>{(0,d.X6Q)()&&"undefined"!=typeof console&&console[X](..._e)},Y={provide:ne,useFactory:G,deps:[ae,d.R0b,[new d.FiY,he]]};let je=(()=>{class X{constructor(Pe){te.Z.registerVersion("angularfire",L.q4.full,"core"),te.Z.registerVersion("angularfire",L.q4.full,"app-compat"),te.Z.registerVersion("angular",d.q4F.full,Pe.toString())}static initializeApp(Pe,Ce){return{ngModule:X,providers:[{provide:ae,useValue:Pe},{provide:he,useValue:Ce}]}}}return X.\u0275fac=function(Pe){return new(Pe||X)(d.LFG(d.Lbi))},X.\u0275mod=d.oAB({type:X}),X.\u0275inj=d.cJS({providers:[Y]}),X})();function xe(X,_e,Pe,Ce,qe){const[,ke,We]=globalThis.\u0275AngularfireInstanceCache.find(Qe=>Qe[0]===X)||[];if(ke)return function(X,_e){try{return X.toString()===_e.toString()}catch(Pe){return X===_e}}(qe,We)||(ve("error",`${_e} was already initialized on the ${Pe} Firebase App with different settings.${tt?" You may need to reload as Firebase is not HMR aware.":""}`),ve("warn",{is:qe,was:We})),ke;{const Qe=Ce();return globalThis.\u0275AngularfireInstanceCache.push([X,Qe,qe]),Qe}}const tt=!!Ye.hot,ve=(X,..._e)=>{(0,d.X6Q)()&&"undefined"!=typeof console&&console[X](..._e)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},7233:(Ye,be,N)=>{"use strict";N.d(be,{q4:()=>_s,iC:()=>ks,HU:()=>Tp,vb:()=>v_,JM:()=>Ho});var d=N(3668),te=N(7713),L=N(8239),le=N(1572),oe=N(4213),me=N(1177),ne=N(3855),ae=N(4995);const he="@firebase/installations",G="0.5.4",Y=`w:${G}`,je="FIS_v2",_e=new oe.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Pe(D){return D instanceof oe.ZR&&D.code.includes("request-failed")}function Ce({projectId:D}){return`https://firebaseinstallations.googleapis.com/v1/projects/${D}/installations`}function qe(D){return{token:D.token,requestStatus:2,expiresIn:Ee(D.expiresIn),creationTime:Date.now()}}function ke(D,S){return We.apply(this,arguments)}function We(){return(We=(0,L.Z)(function*(D,S){const B=(yield S.json()).error;return _e.create("request-failed",{requestName:D,serverCode:B.code,serverMessage:B.message,serverStatus:B.status})})).apply(this,arguments)}function Qe({apiKey:D}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D})}function mt(D,{refreshToken:S}){const k=Qe(D);return k.append("Authorization",function(D){return`${je} ${D}`}(S)),k}function re(D){return pe.apply(this,arguments)}function pe(){return(pe=(0,L.Z)(function*(D){const S=yield D();return S.status>=500&&S.status<600?D():S})).apply(this,arguments)}function Ee(D){return Number(D.replace("s","000"))}function Ve(D,S){return ye.apply(this,arguments)}function ye(){return(ye=(0,L.Z)(function*(D,{fid:S}){const k=Ce(D),ue={method:"POST",headers:Qe(D),body:JSON.stringify({fid:S,authVersion:je,appId:D.appId,sdkVersion:Y})},Ae=yield re(()=>fetch(k,ue));if(Ae.ok){const He=yield Ae.json();return{fid:He.fid||S,registrationStatus:2,refreshToken:He.refreshToken,authToken:qe(He.authToken)}}throw yield ke("Create Installation",Ae)})).apply(this,arguments)}function Mt(D){return new Promise(S=>{setTimeout(S,D)})}const tr=/^[cdef][\w-]{21}$/;function Ct(){try{const D=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(D),D[0]=112+D[0]%16;const k=function(D){return function(D){return btoa(String.fromCharCode(...D)).replace(/\+/g,"-").replace(/\//g,"_")}(D).substr(0,22)}(D);return tr.test(k)?k:""}catch(D){return""}}function mn(D){return`${D.appName}!${D.appId}`}const $r=new Map;function oi(D,S){const k=mn(D);xn(k,S),function(D,S){const k=(!Zt&&"BroadcastChannel"in self&&(Zt=new BroadcastChannel("[Firebase] FID Change"),Zt.onmessage=D=>{xn(D.data.key,D.data.fid)}),Zt);k&&k.postMessage({key:D,fid:S}),0===$r.size&&Zt&&(Zt.close(),Zt=null)}(k,S)}function xn(D,S){const k=$r.get(D);if(k)for(const B of k)B(S)}let Zt=null;const Me="firebase-installations-store";let cr=null;function qn(){return cr||(cr=(0,ae.openDb)("firebase-installations-database",1,D=>{0===D.oldVersion&&D.createObjectStore(Me)})),cr}function it(D,S){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,L.Z)(function*(D,S){const k=mn(D),J=(yield qn()).transaction(Me,"readwrite"),ue=J.objectStore(Me),Ae=yield ue.get(k);return yield ue.put(S,k),yield J.complete,(!Ae||Ae.fid!==S.fid)&&oi(D,S.fid),S})).apply(this,arguments)}function Ui(D){return ai.apply(this,arguments)}function ai(){return(ai=(0,L.Z)(function*(D){const S=mn(D),B=(yield qn()).transaction(Me,"readwrite");yield B.objectStore(Me).delete(S),yield B.complete})).apply(this,arguments)}function pt(D,S){return yt.apply(this,arguments)}function yt(){return(yt=(0,L.Z)(function*(D,S){const k=mn(D),J=(yield qn()).transaction(Me,"readwrite"),ue=J.objectStore(Me),Ae=yield ue.get(k),He=S(Ae);return void 0===He?yield ue.delete(k):yield ue.put(He,k),yield J.complete,He&&(!Ae||Ae.fid!==He.fid)&&oi(D,He.fid),He})).apply(this,arguments)}function Ut(D){return jt.apply(this,arguments)}function jt(){return(jt=(0,L.Z)(function*(D){let S;const k=yield pt(D,B=>{const J=li(B),ue=Jt(D,J);return S=ue.registrationPromise,ue.installationEntry});return""===k.fid?{installationEntry:yield S}:{installationEntry:k,registrationPromise:S}})).apply(this,arguments)}function li(D){return Tt(D||{fid:Ct(),registrationStatus:0})}function Jt(D,S){if(0===S.registrationStatus){if(!navigator.onLine)return{installationEntry:S,registrationPromise:Promise.reject(_e.create("app-offline"))};const k={fid:S.fid,registrationStatus:1,registrationTime:Date.now()},B=function(D,S){return dt.apply(this,arguments)}(D,k);return{installationEntry:k,registrationPromise:B}}return 1===S.registrationStatus?{installationEntry:S,registrationPromise:Ru(D)}:{installationEntry:S}}function dt(){return(dt=(0,L.Z)(function*(D,S){try{return it(D,yield Ve(D,S))}catch(k){throw Pe(k)&&409===k.customData.serverCode?yield Ui(D):yield it(D,{fid:S.fid,registrationStatus:0}),k}})).apply(this,arguments)}function Ru(D){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,L.Z)(function*(D){let S=yield nn(D);for(;1===S.registrationStatus;)yield Mt(100),S=yield nn(D);if(0===S.registrationStatus){const{installationEntry:k,registrationPromise:B}=yield Ut(D);return B||k}return S})).apply(this,arguments)}function nn(D){return pt(D,S=>{if(!S)throw _e.create("installation-not-found");return Tt(S)})}function Tt(D){return function(D){return 1===D.registrationStatus&&D.registrationTime+1e4<Date.now()}(D)?{fid:D.fid,registrationStatus:0}:D}function Pu(D,S){return q.apply(this,arguments)}function q(){return(q=(0,L.Z)(function*({appConfig:D,platformLoggerProvider:S},k){const B=j(D,k),J=mt(D,k),ue=S.getImmediate({optional:!0});ue&&J.append("x-firebase-client",ue.getPlatformInfoString());const He={method:"POST",headers:J,body:JSON.stringify({installation:{sdkVersion:Y}})},Le=yield re(()=>fetch(B,He));if(Le.ok)return qe(yield Le.json());throw yield ke("Generate Auth Token",Le)})).apply(this,arguments)}function j(D,{fid:S}){return`${Ce(D)}/${S}/authTokens:generate`}function K(D){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,L.Z)(function*(D,S=!1){let k;const B=yield pt(D.appConfig,ue=>{if(!Rn(ue))throw _e.create("not-registered");const Ae=ue.authToken;if(!S&&ci(Ae))return ue;if(1===Ae.requestStatus)return k=ie(D,S),ue;{if(!navigator.onLine)throw _e.create("app-offline");const He=Cr(ue);return k=rn(D,He),He}});return k?yield k:B.authToken})).apply(this,arguments)}function ie(D,S){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,L.Z)(function*(D,S){let k=yield _t(D.appConfig);for(;1===k.authToken.requestStatus;)yield Mt(100),k=yield _t(D.appConfig);const B=k.authToken;return 0===B.requestStatus?K(D,S):B})).apply(this,arguments)}function _t(D){return pt(D,S=>{if(!Rn(S))throw _e.create("not-registered");return function(D){return 1===D.requestStatus&&D.requestTime+1e4<Date.now()}(S.authToken)?Object.assign(Object.assign({},S),{authToken:{requestStatus:0}}):S})}function rn(D,S){return wr.apply(this,arguments)}function wr(){return(wr=(0,L.Z)(function*(D,S){try{const k=yield Pu(D,S),B=Object.assign(Object.assign({},S),{authToken:k});return yield it(D.appConfig,B),k}catch(k){if(!Pe(k)||401!==k.customData.serverCode&&404!==k.customData.serverCode){const B=Object.assign(Object.assign({},S),{authToken:{requestStatus:0}});yield it(D.appConfig,B)}else yield Ui(D.appConfig);throw k}})).apply(this,arguments)}function Rn(D){return void 0!==D&&2===D.registrationStatus}function ci(D){return 2===D.requestStatus&&!function(D){const S=Date.now();return S<D.creationTime||D.creationTime+D.expiresIn<S+36e5}(D)}function Cr(D){const S={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},D),{authToken:S})}function ul(){return(ul=(0,L.Z)(function*(D){const S=D,{installationEntry:k,registrationPromise:B}=yield Ut(S.appConfig);return B?B.catch(console.error):K(S).catch(console.error),k.fid})).apply(this,arguments)}function xo(){return(xo=(0,L.Z)(function*(D,S=!1){const k=D;return yield ku(k.appConfig),(yield K(k,S)).token})).apply(this,arguments)}function ku(D){return _n.apply(this,arguments)}function _n(){return(_n=(0,L.Z)(function*(D){const{registrationPromise:S}=yield Ut(D);S&&(yield S)})).apply(this,arguments)}function Hi(D){return _e.create("missing-app-config-values",{valueName:D})}const Wn="installations";(0,le._registerComponent)(new me.wA(Wn,D=>{const S=D.getProvider("app").getImmediate(),k=function(D){if(!D||!D.options)throw Hi("App Configuration");if(!D.name)throw Hi("App Name");const S=["projectId","apiKey","appId"];for(const k of S)if(!D.options[k])throw Hi(k);return{appName:D.name,projectId:D.options.projectId,apiKey:D.options.apiKey,appId:D.options.appId}}(S);return{app:S,appConfig:k,platformLoggerProvider:(0,le._getProvider)(S,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,le._registerComponent)(new me.wA("installations-internal",D=>{const S=D.getProvider("app").getImmediate(),k=(0,le._getProvider)(S,Wn).getImmediate();return{getId:()=>function(D){return ul.apply(this,arguments)}(k),getToken:J=>function(D){return xo.apply(this,arguments)}(k,J)}},"PRIVATE")),(0,le.registerVersion)(he,G),(0,le.registerVersion)(he,G,"esm2017");const vt="@firebase/remote-config",on=new oe.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class gp{constructor(S,k,B,J){this.client=S,this.storage=k,this.storageCache=B,this.logger=J}isCachedDataFresh(S,k){if(!k)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const B=Date.now()-k,J=B<=S;return this.logger.debug(`Config fetch cache check. Cache age millis: ${B}. Cache max age millis (minimumFetchIntervalMillis setting): ${S}. Is cache hit: ${J}.`),J}fetch(S){var k=this;return(0,L.Z)(function*(){const[B,J]=yield Promise.all([k.storage.getLastSuccessfulFetchTimestampMillis(),k.storage.getLastSuccessfulFetchResponse()]);if(J&&k.isCachedDataFresh(S.cacheMaxAgeMillis,B))return J;S.eTag=J&&J.eTag;const ue=yield k.client.fetch(S),Ae=[k.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ue.status&&Ae.push(k.storage.setLastSuccessfulFetchResponse(ue)),yield Promise.all(Ae),ue})()}}function o_(D=navigator){return D.languages&&D.languages[0]||D.language}class qi{constructor(S,k,B,J,ue,Ae){this.firebaseInstallations=S,this.sdkVersion=k,this.namespace=B,this.projectId=J,this.apiKey=ue,this.appId=Ae}fetch(S){var k=this;return(0,L.Z)(function*(){const[B,J]=yield Promise.all([k.firebaseInstallations.getId(),k.firebaseInstallations.getToken()]),Ae=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${k.projectId}/namespaces/${k.namespace}:fetch?key=${k.apiKey}`,He={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":S.eTag||"*"},Le={sdk_version:k.sdkVersion,app_instance_id:B,app_instance_id_token:J,app_id:k.appId,language_code:o_()},Kt={method:"POST",headers:He,body:JSON.stringify(Le)},un=fetch(Ae,Kt),Hn=new Promise((Yn,ki)=>{S.signal.addEventListener(()=>{const Vr=new Error("The operation was aborted.");Vr.name="AbortError",ki(Vr)})});let Kn;try{yield Promise.race([un,Hn]),Kn=yield un}catch(Yn){let ki="fetch-client-network";throw"AbortError"===Yn.name&&(ki="fetch-timeout"),on.create(ki,{originalErrorMessage:Yn.message})}let gr=Kn.status;const po=Kn.headers.get("ETag")||void 0;let Fa,ts;if(200===Kn.status){let Yn;try{Yn=yield Kn.json()}catch(ki){throw on.create("fetch-client-parse",{originalErrorMessage:ki.message})}Fa=Yn.entries,ts=Yn.state}if("INSTANCE_STATE_UNSPECIFIED"===ts?gr=500:"NO_CHANGE"===ts?gr=304:("NO_TEMPLATE"===ts||"EMPTY_CONFIG"===ts)&&(Fa={}),304!==gr&&200!==gr)throw on.create("fetch-status",{httpStatus:gr});return{status:gr,eTag:po,config:Fa}})()}}class dh{constructor(S,k){this.client=S,this.storage=k}fetch(S){var k=this;return(0,L.Z)(function*(){const B=(yield k.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return k.attemptFetch(S,B)})()}attemptFetch(S,{throttleEndTimeMillis:k,backoffCount:B}){var J=this;return(0,L.Z)(function*(){yield function(D,S){return new Promise((k,B)=>{const J=Math.max(S-Date.now(),0),ue=setTimeout(k,J);D.addEventListener(()=>{clearTimeout(ue),B(on.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}(S.signal,k);try{const ue=yield J.client.fetch(S);return yield J.storage.deleteThrottleMetadata(),ue}catch(ue){if(!function(D){if(!(D instanceof oe.ZR&&D.customData))return!1;const S=Number(D.customData.httpStatus);return 429===S||500===S||503===S||504===S}(ue))throw ue;const Ae={throttleEndTimeMillis:Date.now()+(0,oe.$s)(B),backoffCount:B+1};return yield J.storage.setThrottleMetadata(Ae),J.attemptFetch(S,Ae)}})()}}class a_{constructor(S,k,B,J,ue){this.app=S,this._client=k,this._storageCache=B,this._storage=J,this._logger=ue,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function pl(D,S){const k=D.target.error||void 0;return on.create(S,{originalErrorMessage:k&&k.message})}const ba="app_namespace_store";class l_{constructor(S,k,B,J=function(){return new Promise((D,S)=>{try{const k=indexedDB.open("firebase_remote_config",1);k.onerror=B=>{S(pl(B,"storage-open"))},k.onsuccess=B=>{D(B.target.result)},k.onupgradeneeded=B=>{0===B.oldVersion&&B.target.result.createObjectStore(ba,{keyPath:"compositeKey"})}}catch(k){S(on.create("storage-open",{originalErrorMessage:k}))}})}()){this.appId=S,this.appName=k,this.namespace=B,this.openDbPromise=J}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(S){return this.set("last_fetch_status",S)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(S){return this.set("last_successful_fetch_timestamp_millis",S)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(S){return this.set("last_successful_fetch_response",S)}getActiveConfig(){return this.get("active_config")}setActiveConfig(S){return this.set("active_config",S)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(S){return this.set("active_config_etag",S)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(S){return this.set("throttle_metadata",S)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(S){var k=this;return(0,L.Z)(function*(){const B=yield k.openDbPromise;return new Promise((J,ue)=>{const He=B.transaction([ba],"readonly").objectStore(ba),Le=k.createCompositeKey(S);try{const Kt=He.get(Le);Kt.onerror=un=>{ue(pl(un,"storage-get"))},Kt.onsuccess=un=>{const Hn=un.target.result;J(Hn?Hn.value:void 0)}}catch(Kt){ue(on.create("storage-get",{originalErrorMessage:Kt&&Kt.message}))}})})()}set(S,k){var B=this;return(0,L.Z)(function*(){const J=yield B.openDbPromise;return new Promise((ue,Ae)=>{const Le=J.transaction([ba],"readwrite").objectStore(ba),Kt=B.createCompositeKey(S);try{const un=Le.put({compositeKey:Kt,value:k});un.onerror=Hn=>{Ae(pl(Hn,"storage-set"))},un.onsuccess=()=>{ue()}}catch(un){Ae(on.create("storage-set",{originalErrorMessage:un&&un.message}))}})})()}delete(S){var k=this;return(0,L.Z)(function*(){const B=yield k.openDbPromise;return new Promise((J,ue)=>{const He=B.transaction([ba],"readwrite").objectStore(ba),Le=k.createCompositeKey(S);try{const Kt=He.delete(Le);Kt.onerror=un=>{ue(pl(un,"storage-delete"))},Kt.onsuccess=()=>{J()}}catch(Kt){ue(on.create("storage-delete",{originalErrorMessage:Kt&&Kt.message}))}})})()}createCompositeKey(S){return[this.appId,this.appName,this.namespace,S].join()}}class ph{constructor(S){this.storage=S}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var S=this;return(0,L.Z)(function*(){const k=S.storage.getLastFetchStatus(),B=S.storage.getLastSuccessfulFetchTimestampMillis(),J=S.storage.getActiveConfig(),ue=yield k;ue&&(S.lastFetchStatus=ue);const Ae=yield B;Ae&&(S.lastSuccessfulFetchTimestampMillis=Ae);const He=yield J;He&&(S.activeConfig=He)})()}setLastFetchStatus(S){return this.lastFetchStatus=S,this.storage.setLastFetchStatus(S)}setLastSuccessfulFetchTimestampMillis(S){return this.lastSuccessfulFetchTimestampMillis=S,this.storage.setLastSuccessfulFetchTimestampMillis(S)}setActiveConfig(S){return this.activeConfig=S,this.storage.setActiveConfig(S)}}function gl(){return Vu.apply(this,arguments)}function Vu(){return(Vu=(0,L.Z)(function*(){if(!(0,oe.hl)())return!1;try{return yield(0,oe.eu)()}catch(D){return!1}})).apply(this,arguments)}(0,le._registerComponent)(new me.wA("remote-config",function(S,{instanceIdentifier:k}){const B=S.getProvider("app").getImmediate(),J=S.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw on.create("registration-window");if(!(0,oe.hl)())throw on.create("indexed-db-unavailable");const{projectId:ue,apiKey:Ae,appId:He}=B.options;if(!ue)throw on.create("registration-project-id");if(!Ae)throw on.create("registration-api-key");if(!He)throw on.create("registration-app-id");const Le=new l_(He,B.name,k=k||"firebase"),Kt=new ph(Le),un=new ne.Yd(vt);un.logLevel=ne.in.ERROR;const Hn=new qi(J,le.SDK_VERSION,k,ue,Ae,He),Kn=new dh(Hn,Le),gr=new gp(Kn,Le,Kt,un),po=new a_(B,gr,Kt,Le,un);return function(D){const S=(0,oe.m9)(D);S._initializePromise||(S._initializePromise=S._storageCache.loadFromStorage().then(()=>{S._isInitializationComplete=!0}))}(po),po},"PUBLIC").setMultipleInstances(!0)),(0,le.registerVersion)(vt,"0.3.3"),(0,le.registerVersion)(vt,"0.3.3","esm2017");const gh="/firebase-messaging-sw.js",u_="/firebase-cloud-messaging-push-scope",ds="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Js="google.c.a.c_id",Ea="google.c.a.c_l",eo="google.c.a.ts",to="google.c.a.e";var Ir=(()=>{return(D=Ir||(Ir={})).PUSH_RECEIVED="push-received",D.NOTIFICATION_CLICKED="notification-clicked",Ir;var D})();function Ss(D){const S=new Uint8Array(D);return btoa(String.fromCharCode(...S)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ml(D){const k=(D+"=".repeat((4-D.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),B=atob(k),J=new Uint8Array(B.length);for(let ue=0;ue<B.length;++ue)J[ue]=B.charCodeAt(ue);return J}const Bu="fcm_token_details_db",_h="fcm_token_object_Store";function Uu(D){return dc.apply(this,arguments)}function dc(){return dc=(0,L.Z)(function*(D){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ue=>ue.name).includes(Bu))return null;let S=null;return(yield(0,ae.openDb)(Bu,5,function(){var B=(0,L.Z)(function*(J){var ue;if(J.oldVersion<2||!J.objectStoreNames.contains(_h))return;const Ae=J.transaction.objectStore(_h),He=yield Ae.index("fcmSenderId").get(D);if(yield Ae.clear(),He)if(2===J.oldVersion){const Le=He;if(!Le.auth||!Le.p256dh||!Le.endpoint)return;S={token:Le.fcmToken,createTime:null!==(ue=Le.createTime)&&void 0!==ue?ue:Date.now(),subscriptionOptions:{auth:Le.auth,p256dh:Le.p256dh,endpoint:Le.endpoint,swScope:Le.swScope,vapidKey:"string"==typeof Le.vapidKey?Le.vapidKey:Ss(Le.vapidKey)}}}else if(3===J.oldVersion){const Le=He;S={token:Le.fcmToken,createTime:Le.createTime,subscriptionOptions:{auth:Ss(Le.auth),p256dh:Ss(Le.p256dh),endpoint:Le.endpoint,swScope:Le.swScope,vapidKey:Ss(Le.vapidKey)}}}else if(4===J.oldVersion){const Le=He;S={token:Le.fcmToken,createTime:Le.createTime,subscriptionOptions:{auth:Ss(Le.auth),p256dh:Ss(Le.p256dh),endpoint:Le.endpoint,swScope:Le.swScope,vapidKey:Ss(Le.vapidKey)}}}});return function(J){return B.apply(this,arguments)}}())).close(),yield(0,ae.deleteDb)(Bu),yield(0,ae.deleteDb)("fcm_vapid_details_db"),yield(0,ae.deleteDb)("undefined"),vp(S)?S:null}),dc.apply(this,arguments)}function vp(D){if(!D||!D.subscriptionOptions)return!1;const{subscriptionOptions:S}=D;return"number"==typeof D.createTime&&D.createTime>0&&"string"==typeof D.token&&D.token.length>0&&"string"==typeof S.auth&&S.auth.length>0&&"string"==typeof S.p256dh&&S.p256dh.length>0&&"string"==typeof S.endpoint&&S.endpoint.length>0&&"string"==typeof S.swScope&&S.swScope.length>0&&"string"==typeof S.vapidKey&&S.vapidKey.length>0}const ln="firebase-messaging-store";let ju=null;function Po(){return ju||(ju=(0,ae.openDb)("firebase-messaging-database",1,D=>{0===D.oldVersion&&D.createObjectStore(ln)})),ju}function Un(D){return ko.apply(this,arguments)}function ko(){return(ko=(0,L.Z)(function*(D){const S=Oo(D),B=yield(yield Po()).transaction(ln).objectStore(ln).get(S);if(B)return B;{const J=yield Uu(D.appConfig.senderId);if(J)return yield qr(D,J),J}})).apply(this,arguments)}function qr(D,S){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,L.Z)(function*(D,S){const k=Oo(D),J=(yield Po()).transaction(ln,"readwrite");return yield J.objectStore(ln).put(S,k),yield J.complete,S})).apply(this,arguments)}function jn(D){return hc.apply(this,arguments)}function hc(){return(hc=(0,L.Z)(function*(D){const S=Oo(D),B=(yield Po()).transaction(ln,"readwrite");yield B.objectStore(ln).delete(S),yield B.complete})).apply(this,arguments)}function Oo({appConfig:D}){return D.appId}const sn=new oe.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function As(D,S){return yl.apply(this,arguments)}function yl(){return(yl=(0,L.Z)(function*(D,S){const k=yield $u(D),B=pc(S),J={method:"POST",headers:k,body:JSON.stringify(B)};let ue;try{ue=yield(yield fetch(nt(D.appConfig),J)).json()}catch(Ae){throw sn.create("token-subscribe-failed",{errorInfo:Ae})}if(ue.error)throw sn.create("token-subscribe-failed",{errorInfo:ue.error.message});if(!ue.token)throw sn.create("token-subscribe-no-token");return ue.token})).apply(this,arguments)}function fc(D,S){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,L.Z)(function*(D,S){const k=yield $u(D),B=pc(S.subscriptionOptions),J={method:"PATCH",headers:k,body:JSON.stringify(B)};let ue;try{ue=yield(yield fetch(`${nt(D.appConfig)}/${S.token}`,J)).json()}catch(Ae){throw sn.create("token-update-failed",{errorInfo:Ae})}if(ue.error)throw sn.create("token-update-failed",{errorInfo:ue.error.message});if(!ue.token)throw sn.create("token-update-no-token");return ue.token})).apply(this,arguments)}function Hu(D,S){return wa.apply(this,arguments)}function wa(){return(wa=(0,L.Z)(function*(D,S){const B={method:"DELETE",headers:yield $u(D)};try{const ue=yield(yield fetch(`${nt(D.appConfig)}/${S}`,B)).json();if(ue.error)throw sn.create("token-unsubscribe-failed",{errorInfo:ue.error.message})}catch(J){throw sn.create("token-unsubscribe-failed",{errorInfo:J})}})).apply(this,arguments)}function nt({projectId:D}){return`https://fcmregistrations.googleapis.com/v1/projects/${D}/registrations`}function $u(D){return zu.apply(this,arguments)}function zu(){return(zu=(0,L.Z)(function*({appConfig:D,installations:S}){const k=yield S.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D.apiKey,"x-goog-firebase-installations-auth":`FIS ${k}`})})).apply(this,arguments)}function pc({p256dh:D,auth:S,endpoint:k,vapidKey:B}){const J={web:{endpoint:k,auth:S,p256dh:D}};return B!==ds&&(J.web.applicationPubKey=B),J}const vl=6048e5;function Gu(D){return gc.apply(this,arguments)}function gc(){return(gc=(0,L.Z)(function*(D){const S=yield Fo(D.swRegistration,D.vapidKey),k={vapidKey:D.vapidKey,swScope:D.swRegistration.scope,endpoint:S.endpoint,auth:Ss(S.getKey("auth")),p256dh:Ss(S.getKey("p256dh"))},B=yield Un(D.firebaseDependencies);if(B){if(bl(B.subscriptionOptions,k))return Date.now()>=B.createTime+vl?Ht(D,{token:B.token,createTime:Date.now(),subscriptionOptions:k}):B.token;try{yield Hu(D.firebaseDependencies,B.token)}catch(J){console.warn(J)}return yn(D.firebaseDependencies,k)}return yn(D.firebaseDependencies,k)})).apply(this,arguments)}function yh(D){return Se.apply(this,arguments)}function Se(){return(Se=(0,L.Z)(function*(D){const S=yield Un(D.firebaseDependencies);S&&(yield Hu(D.firebaseDependencies,S.token),yield jn(D.firebaseDependencies));const k=yield D.swRegistration.pushManager.getSubscription();return!k||k.unsubscribe()})).apply(this,arguments)}function Ht(D,S){return hs.apply(this,arguments)}function hs(){return(hs=(0,L.Z)(function*(D,S){try{const k=yield fc(D.firebaseDependencies,S),B=Object.assign(Object.assign({},S),{token:k,createTime:Date.now()});return yield qr(D.firebaseDependencies,B),k}catch(k){throw yield yh(D),k}})).apply(this,arguments)}function yn(D,S){return no.apply(this,arguments)}function no(){return(no=(0,L.Z)(function*(D,S){const B={token:yield As(D,S),createTime:Date.now(),subscriptionOptions:S};return yield qr(D,B),B.token})).apply(this,arguments)}function Fo(D,S){return rr.apply(this,arguments)}function rr(){return(rr=(0,L.Z)(function*(D,S){return(yield D.pushManager.getSubscription())||D.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ml(S)})})).apply(this,arguments)}function bl(D,S){return S.vapidKey===D.vapidKey&&S.endpoint===D.endpoint&&S.auth===D.auth&&S.p256dh===D.p256dh}function ro(D){const S={from:D.from,collapseKey:D.collapse_key,messageId:D.fcm_message_id};return function(D,S){if(!S.notification)return;D.notification={};const k=S.notification.title;k&&(D.notification.title=k);const B=S.notification.body;B&&(D.notification.body=B);const J=S.notification.image;J&&(D.notification.image=J)}(S,D),function(D,S){!S.data||(D.data=S.data)}(S,D),function(D,S){if(!S.fcmOptions)return;D.fcmOptions={};const k=S.fcmOptions.link;k&&(D.fcmOptions.link=k);const B=S.fcmOptions.analytics_label;B&&(D.fcmOptions.analyticsLabel=B)}(S,D),S}function Da(D){return"object"==typeof D&&!!D&&Js in D}function ur(D,S){const k=[];for(let B=0;B<D.length;B++)k.push(D.charAt(B)),B<S.length&&k.push(S.charAt(B));return k.join("")}function _c(D){return sn.create("missing-app-config-values",{valueName:D})}ur("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ur("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Yi{constructor(S,k,B){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const J=function(D){if(!D||!D.options)throw _c("App Configuration Object");if(!D.name)throw _c("App Name");const S=["projectId","apiKey","appId","messagingSenderId"],{options:k}=D;for(const B of S)if(!k[B])throw _c(B);return{appName:D.name,projectId:k.projectId,apiKey:k.apiKey,appId:k.appId,senderId:k.messagingSenderId}}(S);this.firebaseDependencies={app:S,appConfig:J,installations:k,analyticsProvider:B}}_delete(){return Promise.resolve()}}function Qi(D){return yc.apply(this,arguments)}function yc(){return(yc=(0,L.Z)(function*(D){try{D.swRegistration=yield navigator.serviceWorker.register(gh,{scope:u_}),D.swRegistration.update().catch(()=>{})}catch(S){throw sn.create("failed-service-worker-registration",{browserErrorMessage:S.message})}})).apply(this,arguments)}function io(D,S){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,L.Z)(function*(D,S){if(!S&&!D.swRegistration&&(yield Qi(D)),S||!D.swRegistration){if(!(S instanceof ServiceWorkerRegistration))throw sn.create("invalid-sw-registration");D.swRegistration=S}})).apply(this,arguments)}function vc(D,S){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,L.Z)(function*(D,S){S?D.vapidKey=S:D.vapidKey||(D.vapidKey=ds)})).apply(this,arguments)}function bc(){return(bc=(0,L.Z)(function*(D,S){if(!navigator)throw sn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw sn.create("permission-blocked");return yield vc(D,null==S?void 0:S.vapidKey),yield io(D,null==S?void 0:S.serviceWorkerRegistration),Gu(D)})).apply(this,arguments)}function wl(D,S,k){return qu.apply(this,arguments)}function qu(){return(qu=(0,L.Z)(function*(D,S,k){const B=Sa(S);(yield D.firebaseDependencies.analyticsProvider.get()).logEvent(B,{message_id:k[Js],message_name:k[Ea],message_time:k[eo],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Sa(D){switch(D){case Ir.NOTIFICATION_CLICKED:return"notification_open";case Ir.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function xa(){return(xa=(0,L.Z)(function*(D,S){const k=S.data;if(!k.isFirebaseMessaging)return;D.onMessageHandler&&k.messageType===Ir.PUSH_RECEIVED&&("function"==typeof D.onMessageHandler?D.onMessageHandler(ro(k)):D.onMessageHandler.next(ro(k)));const B=k.data;Da(B)&&"1"===B[to]&&(yield wl(D,k.messageType,B))})).apply(this,arguments)}const Wu="@firebase/messaging";function Zu(){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,L.Z)(function*(){return"undefined"!=typeof window&&(0,oe.hl)()&&(yield(0,oe.eu)())&&(0,oe.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}(0,le._registerComponent)(new me.wA("messaging",D=>{const S=new Yi(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),D.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",k=>function(D,S){return xa.apply(this,arguments)}(S,k)),S},"PUBLIC")),(0,le._registerComponent)(new me.wA("messaging-internal",D=>{const S=D.getProvider("messaging").getImmediate();return{getToken:B=>function(D,S){return bc.apply(this,arguments)}(S,B)}},"PRIVATE")),(0,le.registerVersion)(Wu,"0.9.4"),(0,le.registerVersion)(Wu,"0.9.4","esm2017");const xs="analytics",Ec="firebase_id",Qu="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ep="https://www.googletagmanager.com/gtag/js",vn=new ne.Yd("@firebase/analytics");function Pa(D){return Promise.all(D.map(S=>S.catch(k=>k)))}function wp(D,S){const k=document.createElement("script");k.src=`${Ep}?l=${D}&id=${S}`,k.async=!0,document.head.appendChild(k)}function ka(D,S,k,B,J,ue){return Dl.apply(this,arguments)}function Dl(){return(Dl=(0,L.Z)(function*(D,S,k,B,J,ue){const Ae=B[J];try{if(Ae)yield S[Ae];else{const Le=(yield Pa(k)).find(Kt=>Kt.measurementId===J);Le&&(yield S[Le.appId])}}catch(He){vn.error(He)}D("config",J,ue)})).apply(this,arguments)}function Il(D,S,k,B,J){return Ju.apply(this,arguments)}function Ju(){return(Ju=(0,L.Z)(function*(D,S,k,B,J){try{let ue=[];if(J&&J.send_to){let Ae=J.send_to;Array.isArray(Ae)||(Ae=[Ae]);const He=yield Pa(k);for(const Le of Ae){const Kt=He.find(Hn=>Hn.measurementId===Le),un=Kt&&S[Kt.appId];if(!un){ue=[];break}ue.push(un)}}0===ue.length&&(ue=Object.values(S)),yield Promise.all(ue),D("event",B,J||{})}catch(ue){vn.error(ue)}})).apply(this,arguments)}function wc(){const D=window.document.getElementsByTagName("script");for(const S of Object.values(D))if(S.src&&S.src.includes(Ep))return S;return null}const dr=new oe.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Tl=new class{constructor(S={},k=1e3){this.throttleMetadata=S,this.intervalMillis=k}getThrottleMetadata(S){return this.throttleMetadata[S]}setThrottleMetadata(S,k){this.throttleMetadata[S]=k}deleteThrottleMetadata(S){delete this.throttleMetadata[S]}};function m_(D){return new Headers({Accept:"application/json","x-goog-api-key":D})}function Dc(D){return Ic.apply(this,arguments)}function Ic(){return(Ic=(0,L.Z)(function*(D){var S;const{appId:k,apiKey:B}=D,J={method:"GET",headers:m_(B)},ue=Qu.replace("{app-id}",k),Ae=yield fetch(ue,J);if(200!==Ae.status&&304!==Ae.status){let He="";try{const Le=yield Ae.json();(null===(S=Le.error)||void 0===S?void 0:S.message)&&(He=Le.error.message)}catch(Le){}throw dr.create("config-fetch-failed",{httpStatus:Ae.status,responseMessage:He})}return Ae.json()})).apply(this,arguments)}function Sl(D){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,L.Z)(function*(D,S=Tl,k){const{appId:B,apiKey:J,measurementId:ue}=D.options;if(!B)throw dr.create("no-app-id");if(!J){if(ue)return{measurementId:ue,appId:B};throw dr.create("no-api-key")}const Ae=S.getThrottleMetadata(B)||{backoffCount:0,throttleEndTimeMillis:Date.now()},He=new fs;return setTimeout((0,L.Z)(function*(){He.abort()}),void 0!==k?k:6e4),Tc({appId:B,apiKey:J,measurementId:ue},Ae,He,S)})).apply(this,arguments)}function Tc(D,S,k){return Sc.apply(this,arguments)}function Sc(){return(Sc=(0,L.Z)(function*(D,{throttleEndTimeMillis:S,backoffCount:k},B,J=Tl){const{appId:ue,measurementId:Ae}=D;try{yield __(B,S)}catch(He){if(Ae)return vn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ae} provided in the "measurementId" field in the local Firebase config. [${He.message}]`),{appId:ue,measurementId:Ae};throw He}try{const He=yield Dc(D);return J.deleteThrottleMetadata(ue),He}catch(He){if(!Pn(He)){if(J.deleteThrottleMetadata(ue),Ae)return vn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ae} provided in the "measurementId" field in the local Firebase config. [${He.message}]`),{appId:ue,measurementId:Ae};throw He}const Le=503===Number(He.customData.httpStatus)?(0,oe.$s)(k,J.intervalMillis,30):(0,oe.$s)(k,J.intervalMillis),Kt={throttleEndTimeMillis:Date.now()+Le,backoffCount:k+1};return J.setThrottleMetadata(ue,Kt),vn.debug(`Calling attemptFetch again in ${Le} millis`),Tc(D,Kt,B,J)}})).apply(this,arguments)}function __(D,S){return new Promise((k,B)=>{const J=Math.max(S-Date.now(),0),ue=setTimeout(k,J);D.addEventListener(()=>{clearTimeout(ue),B(dr.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}function Pn(D){if(!(D instanceof oe.ZR&&D.customData))return!1;const S=Number(D.customData.httpStatus);return 429===S||500===S||503===S||504===S}class fs{constructor(){this.listeners=[]}addEventListener(S){this.listeners.push(S)}abort(){this.listeners.forEach(S=>S())}}function st(){return gt.apply(this,arguments)}function gt(){return(gt=(0,L.Z)(function*(){if(!(0,oe.hl)())return vn.warn(dr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,oe.eu)()}catch(D){return vn.warn(dr.create("indexeddb-unavailable",{errorInfo:D}).message),!1}return!0})).apply(this,arguments)}function hn(){return(hn=(0,L.Z)(function*(D,S,k,B,J,ue,Ae){var He;const Le=Sl(D);Le.then(gr=>{k[gr.measurementId]=gr.appId,D.options.measurementId&&gr.measurementId!==D.options.measurementId&&vn.warn(`The measurement ID in the local Firebase config (${D.options.measurementId}) does not match the measurement ID fetched from the server (${gr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(gr=>vn.error(gr)),S.push(Le);const Kt=st().then(gr=>{if(gr)return B.getId()}),[un,Hn]=yield Promise.all([Le,Kt]);wc()||wp(ue,un.measurementId),J("js",new Date);const Kn=null!==(He=null==Ae?void 0:Ae.config)&&void 0!==He?He:{};return Kn.origin="firebase",Kn.update=!0,null!=Hn&&(Kn[Ec]=Hn),J("config",un.measurementId,Kn),un.measurementId})).apply(this,arguments)}class Ch{constructor(S){this.app=S}_delete(){return delete ps[this.app.options.appId],Promise.resolve()}}let ps={},ed=[];const td={};let Ml,Je,Al="dataLayer",jo=!1;function nd(D,S,k){!function(){const D=[];if((0,oe.ru)()&&D.push("This is a browser extension environment."),(0,oe.zI)()||D.push("Cookies are not available."),D.length>0){const S=D.map((B,J)=>`(${J+1}) ${B}`).join(" "),k=dr.create("invalid-analytics-context",{errorInfo:S});vn.warn(k.message)}}();const B=D.options.appId;if(!B)throw dr.create("no-app-id");if(!D.options.apiKey){if(!D.options.measurementId)throw dr.create("no-api-key");vn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${D.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ps[B])throw dr.create("already-exists",{id:B});if(!jo){!function(D){let S=[];Array.isArray(window[D])?S=window[D]:window[D]=S}(Al);const{wrappedGtag:ue,gtagCore:Ae}=function(D,S,k,B,J){let ue=function(...Ae){window[B].push(arguments)};return window[J]&&"function"==typeof window[J]&&(ue=window[J]),window[J]=function(D,S,k,B){function ue(){return(ue=(0,L.Z)(function*(Ae,He,Le){try{"event"===Ae?yield Il(D,S,k,He,Le):"config"===Ae?yield ka(D,S,k,B,He,Le):D("set",He)}catch(Kt){vn.error(Kt)}})).apply(this,arguments)}return function(Ae,He,Le){return ue.apply(this,arguments)}}(ue,D,S,k),{gtagCore:ue,wrappedGtag:window[J]}}(ps,ed,td,Al,"gtag");Je=ue,Ml=Ae,jo=!0}return ps[B]=function(D,S,k,B,J,ue,Ae){return hn.apply(this,arguments)}(D,ed,td,S,Ml,Al,k),new Ch(D)}function Ac(){return(Ac=(0,L.Z)(function*(D,S,k,B,J){if(J&&J.global)D("event",k,B);else{const ue=yield S;D("event",k,Object.assign(Object.assign({},B),{send_to:ue}))}})).apply(this,arguments)}function gs(){return hi.apply(this,arguments)}function hi(){return(hi=(0,L.Z)(function*(){if((0,oe.ru)()||!(0,oe.zI)()||!(0,oe.hl)())return!1;try{return yield(0,oe.eu)()}catch(D){return!1}})).apply(this,arguments)}const Ri="@firebase/analytics";(0,le._registerComponent)(new me.wA(xs,(S,{options:k})=>nd(S.getProvider("app").getImmediate(),S.getProvider("installations-internal").getImmediate(),k),"PUBLIC")),(0,le._registerComponent)(new me.wA("analytics-internal",function(S){try{const k=S.getProvider(xs).getImmediate();return{logEvent:(B,J,ue)=>function(D,S,k,B){D=(0,oe.m9)(D),function(D,S,k,B,J){return Ac.apply(this,arguments)}(Je,ps[D.app.options.appId],S,k,B).catch(J=>vn.error(J))}(k,B,J,ue)}}catch(k){throw dr.create("interop-component-reg-failed",{reason:k})}},"PRIVATE")),(0,le.registerVersion)(Ri,"0.7.4"),(0,le.registerVersion)(Ri,"0.7.4","esm2017");var Kr=N(2869),Tr=N(8843);const lo=new class extends Tr.v{}(class extends Kr.o{constructor(S,k){super(S,k),this.scheduler=S,this.work=k}schedule(S,k=0){return k>0?super.schedule(S,k):(this.delay=k,this.state=S,this.scheduler.flush(this),this)}execute(S,k){return k>0||this.closed?super.execute(S,k):this._execute(S,k)}requestAsyncId(S,k,B=0){return null!=B&&B>0||null==B&&this.delay>0?super.requestAsyncId(S,k,B):S.flush(this)}});var Dp=N(2210),Ih=N(7384),Yr=N(5222),ms=N(4763);const _s=new d.GfV("7.2.0"),Ji="__angularfire_symbol__analyticsIsSupported",kl="__angularfire_symbol__remoteConfigIsSupported",id="__angularfire_symbol__messagingIsSupported";function Ho(D,S,k){if(S){if(1===S.length)return S[0];const ue=S.filter(Ae=>Ae.app===k);if(1===ue.length)return ue[0]}return k.container.getProvider(D).getImmediate({optional:!0})}globalThis[Ji]||(globalThis[Ji]=gs().then(D=>globalThis.__angularfire_symbol__analyticsIsSupportedValue=D)),globalThis[id]||(globalThis[id]=Zu().then(D=>globalThis.__angularfire_symbol__messagingIsSupportedValue=D)),globalThis[kl]||(globalThis[kl]=gl().then(D=>globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=D));const v_=(D,S)=>{const k=S?[S]:(0,te.C6)(),B=[];return k.forEach(J=>{J.container.getProvider(D).instances.forEach(Ae=>{B.includes(Ae)||B.push(Ae)})}),B};function ho(){}class sd{constructor(S,k=lo){this.zone=S,this.delegate=k}now(){return this.delegate.now()}schedule(S,k,B){const J=this.zone;return this.delegate.schedule(function(Ae){J.runGuarded(()=>{S.apply(this,[Ae])})},k,B)}}class od{constructor(S){this.zone=S,this.task=null}call(S,k){const B=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ho,{},ho,ho)),k.pipe((0,Ih.b)({next:B,complete:B,error:B})).subscribe(S).add(B)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Tp=(()=>{class D{constructor(k){this.ngZone=k,this.outsideAngular=k.runOutsideAngular(()=>new sd(Zone.current)),this.insideAngular=k.run(()=>new sd(Zone.current,Dp.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return D.\u0275fac=function(k){return new(k||D)(d.LFG(d.R0b))},D.\u0275prov=d.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function Ps(){const D=globalThis.\u0275AngularFireScheduler;if(!D)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return D}function ks(D){return Ps(),function(D){return function(k){return(k=k.lift(new od(D.ngZone))).pipe((0,Yr.R)(D.outsideAngular),(0,ms.Q)(D.insideAngular))}}(Ps())(D)}},4213:(Ye,be,N)=>{"use strict";N.d(be,{BH:()=>je,LL:()=>ye,ZR:()=>Ve,zI:()=>pe,US:()=>me,tV:()=>he,$s:()=>nn,r3:()=>dn,Sg:()=>xe,ne:()=>cr,vZ:()=>Zt,ZB:()=>z,pd:()=>cs,m9:()=>Pu,z$:()=>Ue,jU:()=>X,ru:()=>_e,d:()=>Ce,xb:()=>xn,w1:()=>qe,hl:()=>mt,uI:()=>tt,UG:()=>ve,b$:()=>Pe,G6:()=>Qe,Mn:()=>ke,xO:()=>_a,zd:()=>Bi,eu:()=>re});const le=function(q){const j=[];let K=0;for(let Ie=0;Ie<q.length;Ie++){let ie=q.charCodeAt(Ie);ie<128?j[K++]=ie:ie<2048?(j[K++]=ie>>6|192,j[K++]=63&ie|128):55296==(64512&ie)&&Ie+1<q.length&&56320==(64512&q.charCodeAt(Ie+1))?(ie=65536+((1023&ie)<<10)+(1023&q.charCodeAt(++Ie)),j[K++]=ie>>18|240,j[K++]=ie>>12&63|128,j[K++]=ie>>6&63|128,j[K++]=63&ie|128):(j[K++]=ie>>12|224,j[K++]=ie>>6&63|128,j[K++]=63&ie|128)}return j},me={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(q,j){if(!Array.isArray(q))throw Error("encodeByteArray takes an array as a parameter");this.init_();const K=j?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ie=[];for(let ie=0;ie<q.length;ie+=3){const Xe=q[ie],_t=ie+1<q.length,rn=_t?q[ie+1]:0,wr=ie+2<q.length,Rn=wr?q[ie+2]:0;let Cr=(15&rn)<<2|Rn>>6,Ao=63&Rn;wr||(Ao=64,_t||(Cr=64)),Ie.push(K[Xe>>2],K[(3&Xe)<<4|rn>>4],K[Cr],K[Ao])}return Ie.join("")},encodeString(q,j){return this.HAS_NATIVE_SUPPORT&&!j?btoa(q):this.encodeByteArray(le(q),j)},decodeString(q,j){return this.HAS_NATIVE_SUPPORT&&!j?atob(q):function(q){const j=[];let K=0,Ie=0;for(;K<q.length;){const ie=q[K++];if(ie<128)j[Ie++]=String.fromCharCode(ie);else if(ie>191&&ie<224){const Xe=q[K++];j[Ie++]=String.fromCharCode((31&ie)<<6|63&Xe)}else if(ie>239&&ie<365){const wr=((7&ie)<<18|(63&q[K++])<<12|(63&q[K++])<<6|63&q[K++])-65536;j[Ie++]=String.fromCharCode(55296+(wr>>10)),j[Ie++]=String.fromCharCode(56320+(1023&wr))}else{const Xe=q[K++],_t=q[K++];j[Ie++]=String.fromCharCode((15&ie)<<12|(63&Xe)<<6|63&_t)}}return j.join("")}(this.decodeStringToByteArray(q,j))},decodeStringToByteArray(q,j){this.init_();const K=j?this.charToByteMapWebSafe_:this.charToByteMap_,Ie=[];for(let ie=0;ie<q.length;){const Xe=K[q.charAt(ie++)],rn=ie<q.length?K[q.charAt(ie)]:0;++ie;const Rn=ie<q.length?K[q.charAt(ie)]:64;++ie;const Gt=ie<q.length?K[q.charAt(ie)]:64;if(++ie,null==Xe||null==rn||null==Rn||null==Gt)throw Error();Ie.push(Xe<<2|rn>>4),64!==Rn&&(Ie.push(rn<<4&240|Rn>>2),64!==Gt&&Ie.push(Rn<<6&192|Gt))}return Ie},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let q=0;q<this.ENCODED_VALS.length;q++)this.byteToCharMap_[q]=this.ENCODED_VALS.charAt(q),this.charToByteMap_[this.byteToCharMap_[q]]=q,this.byteToCharMapWebSafe_[q]=this.ENCODED_VALS_WEBSAFE.charAt(q),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[q]]=q,q>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(q)]=q,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(q)]=q)}}},ae=function(q){return function(q){const j=le(q);return me.encodeByteArray(j,!0)}(q).replace(/\./g,"")},he=function(q){try{return me.decodeString(q,!0)}catch(j){console.error("base64Decode failed: ",j)}return null};function z(q,j){if(!(j instanceof Object))return j;switch(j.constructor){case Date:return new Date(j.getTime());case Object:void 0===q&&(q={});break;case Array:q=[];break;default:return j}for(const K in j)!j.hasOwnProperty(K)||!Y(K)||(q[K]=z(q[K],j[K]));return q}function Y(q){return"__proto__"!==q}class je{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((j,K)=>{this.resolve=j,this.reject=K})}wrapCallback(j){return(K,Ie)=>{K?this.reject(K):this.resolve(Ie),"function"==typeof j&&(this.promise.catch(()=>{}),1===j.length?j(K):j(K,Ie))}}}function xe(q,j){if(q.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ie=j||"demo-project",ie=q.iat||0,Xe=q.sub||q.user_id;if(!Xe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const _t=Object.assign({iss:`https://securetoken.google.com/${Ie}`,aud:Ie,iat:ie,exp:ie+3600,auth_time:ie,sub:Xe,user_id:Xe,firebase:{sign_in_provider:"custom",identities:{}}},q);return[ae(JSON.stringify({alg:"none",type:"JWT"})),ae(JSON.stringify(_t)),""].join(".")}function Ue(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function tt(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ue())}function ve(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(q){return!1}}function X(){return"object"==typeof self&&self.self===self}function _e(){const q="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof q&&void 0!==q.id}function Pe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ce(){return Ue().indexOf("Electron/")>=0}function qe(){const q=Ue();return q.indexOf("MSIE ")>=0||q.indexOf("Trident/")>=0}function ke(){return Ue().indexOf("MSAppHost/")>=0}function Qe(){return!ve()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function mt(){return"object"==typeof indexedDB}function re(){return new Promise((q,j)=>{try{let K=!0;const Ie="validate-browser-context-for-indexeddb-analytics-module",ie=self.indexedDB.open(Ie);ie.onsuccess=()=>{ie.result.close(),K||self.indexedDB.deleteDatabase(Ie),q(!0)},ie.onupgradeneeded=()=>{K=!1},ie.onerror=()=>{var Xe;j((null===(Xe=ie.error)||void 0===Xe?void 0:Xe.message)||"")}}catch(K){j(K)}})}function pe(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Ve extends Error{constructor(j,K,Ie){super(K),this.code=j,this.customData=Ie,this.name="FirebaseError",Object.setPrototypeOf(this,Ve.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ye.prototype.create)}}class ye{constructor(j,K,Ie){this.service=j,this.serviceName=K,this.errors=Ie}create(j,...K){const Ie=K[0]||{},ie=`${this.service}/${j}`,Xe=this.errors[j],_t=Xe?function(q,j){return q.replace(Qt,(K,Ie)=>{const ie=j[Ie];return null!=ie?String(ie):`<${Ie}?>`})}(Xe,Ie):"Error";return new Ve(ie,`${this.serviceName}: ${_t} (${ie}).`,Ie)}}const Qt=/\{\$([^}]+)}/g;function dn(q,j){return Object.prototype.hasOwnProperty.call(q,j)}function xn(q){for(const j in q)if(Object.prototype.hasOwnProperty.call(q,j))return!1;return!0}function Zt(q,j){if(q===j)return!0;const K=Object.keys(q),Ie=Object.keys(j);for(const ie of K){if(!Ie.includes(ie))return!1;const Xe=q[ie],_t=j[ie];if(Mn(Xe)&&Mn(_t)){if(!Zt(Xe,_t))return!1}else if(Xe!==_t)return!1}for(const ie of Ie)if(!K.includes(ie))return!1;return!0}function Mn(q){return null!==q&&"object"==typeof q}function _a(q){const j=[];for(const[K,Ie]of Object.entries(q))Array.isArray(Ie)?Ie.forEach(ie=>{j.push(encodeURIComponent(K)+"="+encodeURIComponent(ie))}):j.push(encodeURIComponent(K)+"="+encodeURIComponent(Ie));return j.length?"&"+j.join("&"):""}function Bi(q){const j={};return q.replace(/^\?/,"").split("&").forEach(Ie=>{if(Ie){const[ie,Xe]=Ie.split("=");j[decodeURIComponent(ie)]=decodeURIComponent(Xe)}}),j}function cs(q){const j=q.indexOf("?");if(!j)return"";const K=q.indexOf("#",j);return q.substring(j,K>0?K:void 0)}function cr(q,j){const K=new qn(q,j);return K.subscribe.bind(K)}class qn{constructor(j,K){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=K,this.task.then(()=>{j(this)}).catch(Ie=>{this.error(Ie)})}next(j){this.forEachObserver(K=>{K.next(j)})}error(j){this.forEachObserver(K=>{K.error(j)}),this.close(j)}complete(){this.forEachObserver(j=>{j.complete()}),this.close()}subscribe(j,K,Ie){let ie;if(void 0===j&&void 0===K&&void 0===Ie)throw new Error("Missing Observer.");ie=function(q,j){if("object"!=typeof q||null===q)return!1;for(const K of["next","error","complete"])if(K in q&&"function"==typeof q[K])return!0;return!1}(j)?j:{next:j,error:K,complete:Ie},void 0===ie.next&&(ie.next=Ui),void 0===ie.error&&(ie.error=Ui),void 0===ie.complete&&(ie.complete=Ui);const Xe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ie.error(this.finalError):ie.complete()}catch(_t){}}),this.observers.push(ie),Xe}unsubscribeOne(j){void 0===this.observers||void 0===this.observers[j]||(delete this.observers[j],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(j){if(!this.finalized)for(let K=0;K<this.observers.length;K++)this.sendOne(K,j)}sendOne(j,K){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[j])try{K(this.observers[j])}catch(Ie){"undefined"!=typeof console&&console.error&&console.error(Ie)}})}close(j){this.finalized||(this.finalized=!0,void 0!==j&&(this.finalError=j),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ui(){}function nn(q,j=1e3,K=2){const Ie=j*Math.pow(K,q),ie=Math.round(.5*Ie*(Math.random()-.5)*2);return Math.min(144e5,Ie+ie)}function Pu(q){return q&&q._delegate?q._delegate:q}},7713:(Ye,be,N)=>{"use strict";N.d(be,{Mq:()=>d.getApp,C6:()=>d.getApps});var d=N(1572);(0,d.registerVersion)("firebase","9.4.1","app")},7892:(Ye,be,N)=>{"use strict";N.d(be,{Z:()=>d.Z});var d=N(6293);d.Z.registerVersion("firebase","9.4.1","app-compat")},9777:(Ye,be,N)=>{"use strict";N.r(be);var d=N(8239),te=N(6293),L=N(4213),le=N(1572);function ae(v,g){var m={};for(var E in v)Object.prototype.hasOwnProperty.call(v,E)&&g.indexOf(E)<0&&(m[E]=v[E]);if(null!=v&&"function"==typeof Object.getOwnPropertySymbols){var x=0;for(E=Object.getOwnPropertySymbols(v);x<E.length;x++)g.indexOf(E[x])<0&&Object.prototype.propertyIsEnumerable.call(v,E[x])&&(m[E[x]]=v[E[x]])}return m}var Ve=N(3855),ye=N(1177);const $r=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},oi=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},dn=new L.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),xn=new Ve.Yd("@firebase/auth");function lr(v,...g){xn.logLevel<=Ve.in.ERROR&&xn.error(`Auth (${le.SDK_VERSION}): ${v}`,...g)}function Zt(v,...g){throw cs(v,...g)}function Mn(v,...g){return cs(v,...g)}function _a(v,g,m){const E=Object.assign(Object.assign({},oi()),{[g]:m});return new L.LL("auth","Firebase",E).create(g,{appName:v.name})}function Bi(v,g,m){if(!(g instanceof m))throw m.name!==g.constructor.name&&Zt(v,"argument-error"),_a(v,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function cs(v,...g){if("string"!=typeof v){const m=g[0],E=[...g.slice(1)];return E[0]&&(E[0].appName=v.name),v._errorFactory.create(m,...E)}return dn.create(v,...g)}function Me(v,g,...m){if(!v)throw cs(g,...m)}function cr(v){const g="INTERNAL ASSERTION FAILED: "+v;throw lr(g),new Error(g)}function qn(v,g){v||cr(g)}const it=new Map;function Yt(v){qn(v instanceof Function,"Expected a class definition");let g=it.get(v);return g?(qn(g instanceof v,"Instance stored in cache mismatched with class"),g):(g=new v,it.set(v,g),g)}function pt(){var v;return"undefined"!=typeof self&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function yt(){return"http:"===Ut()||"https:"===Ut()}function Ut(){var v;return"undefined"!=typeof self&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class Jt{constructor(g,m){this.shortDelay=g,this.longDelay=m,qn(m>g,"Short delay should be less than long delay!"),this.isMobile=(0,L.uI)()||(0,L.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(yt()||(0,L.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Ze(v,g){qn(v.emulator,"Emulator should always be set here");const{url:m}=v.emulator;return g?`${m}${g.startsWith("/")?g.slice(1):g}`:m}class dt{static initialize(g,m,E){this.fetchImpl=g,m&&(this.headersImpl=m),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void cr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void cr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void cr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ru={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Ks=new Jt(3e4,6e4);function nn(v,g){return v.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:v.tenantId}):g}function Tt(v,g,m,E){return zr.apply(this,arguments)}function zr(){return(zr=(0,d.Z)(function*(v,g,m,E,x={}){return Pu(v,x,()=>{let P={},$={};E&&("GET"===g?$=E:P={body:JSON.stringify(E)});const se=(0,L.xO)(Object.assign({key:v.config.apiKey},$)).slice(1),Be=new(dt.headers());return Be.set("Content-Type","application/json"),Be.set("X-Client-Version",v._getSdkClientVersion()),v.languageCode&&Be.set("X-Firebase-Locale",v.languageCode),dt.fetch()(Ie(v,v.config.apiHost,m,se),Object.assign({method:g,headers:Be,referrerPolicy:"no-referrer"},P))})})).apply(this,arguments)}function Pu(v,g,m){return q.apply(this,arguments)}function q(){return(q=(0,d.Z)(function*(v,g,m){v._canInitEmulator=!1;const E=Object.assign(Object.assign({},Ru),g);try{const x=new ie(v),P=yield Promise.race([m(),x.promise]);x.clearNetworkTimeout();const $=yield P.json();if("needConfirmation"in $)throw Xe(v,"account-exists-with-different-credential",$);if(P.ok&&!("errorMessage"in $))return $;{const se=P.ok?$.errorMessage:$.error.message,[Be,Ne]=se.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Be)throw Xe(v,"credential-already-in-use",$);if("EMAIL_EXISTS"===Be)throw Xe(v,"email-already-in-use",$);const ot=E[Be]||Be.toLowerCase().replace(/[_\s]+/g,"-");if(Ne)throw _a(v,ot,Ne);Zt(v,ot)}}catch(x){if(x instanceof L.ZR)throw x;Zt(v,"network-request-failed")}})).apply(this,arguments)}function j(v,g,m,E){return K.apply(this,arguments)}function K(){return(K=(0,d.Z)(function*(v,g,m,E,x={}){const P=yield Tt(v,g,m,E,x);return"mfaPendingCredential"in P&&Zt(v,"multi-factor-auth-required",{_serverResponse:P}),P})).apply(this,arguments)}function Ie(v,g,m,E){const x=`${g}${m}?${E}`;return v.config.emulator?Ze(v.config,x):`${v.config.apiScheme}://${x}`}class ie{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((m,E)=>{this.timer=setTimeout(()=>E(Mn(this.auth,"timeout")),Ks.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Xe(v,g,m){const E={appName:v.name};m.email&&(E.email=m.email),m.phoneNumber&&(E.phoneNumber=m.phoneNumber);const x=Mn(v,g,E);return x.customData._tokenResponse=m,x}function rn(){return(rn=(0,d.Z)(function*(v,g){return Tt(v,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function wr(v,g){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,d.Z)(function*(v,g){return Tt(v,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function ci(v,g){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,d.Z)(function*(v,g){return Tt(v,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function Cr(v){if(v)try{const g=new Date(Number(v));if(!isNaN(g.getTime()))return g.toUTCString()}catch(g){}}function ul(){return(ul=(0,d.Z)(function*(v,g=!1){const m=(0,L.m9)(v),E=yield m.getIdToken(g),x=xo(E);Me(x&&x.exp&&x.auth_time&&x.iat,m.auth,"internal-error");const P="object"==typeof x.firebase?x.firebase:void 0,$=null==P?void 0:P.sign_in_provider;return{claims:x,token:E,authTime:Cr(oc(x.auth_time)),issuedAtTime:Cr(oc(x.iat)),expirationTime:Cr(oc(x.exp)),signInProvider:$||null,signInSecondFactor:(null==P?void 0:P.sign_in_second_factor)||null}})).apply(this,arguments)}function oc(v){return 1e3*Number(v)}function xo(v){const[g,m,E]=v.split(".");if(void 0===g||void 0===m||void 0===E)return lr("JWT malformed, contained fewer than 3 sections"),null;try{const x=(0,L.tV)(m);return x?JSON.parse(x):(lr("Failed to decode base64 JWT payload"),null)}catch(x){return lr("Caught error parsing JWT payload as JSON",x),null}}function _n(v,g){return ji.apply(this,arguments)}function ji(){return(ji=(0,d.Z)(function*(v,g,m=!1){if(m)return g;try{return yield g}catch(E){throw E instanceof L.ZR&&Ti(E)&&v.auth.currentUser===v&&(yield v.auth.signOut()),E}})).apply(this,arguments)}function Ti({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}class Dr{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var m;if(g){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const x=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,x)}}schedule(g=!1){var m=this;if(!this.isRunning)return;const E=this.getInterval(g);this.timerId=setTimeout((0,d.Z)(function*(){yield m.iteration()}),E)}iteration(){var g=this;return(0,d.Z)(function*(){try{yield g.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m.code&&g.schedule(!0))}g.schedule()})()}}class Si{constructor(g,m){this.createdAt=g,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=Cr(this.lastLoginAt),this.creationTime=Cr(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ze(v){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,d.Z)(function*(v){var g;const m=v.auth,E=yield v.getIdToken(),x=yield _n(v,ci(m,{idToken:E}));Me(null==x?void 0:x.users.length,m,"internal-error");const P=x.users[0];v._notifyReloadListener(P);const $=(null===(g=P.providerUserInfo)||void 0===g?void 0:g.length)?Wn(P.providerUserInfo):[],se=Hi(v.providerData,$),ot=!!v.isAnonymous&&!(v.email&&P.passwordHash||(null==se?void 0:se.length)),rt={uid:P.localId,displayName:P.displayName||null,photoURL:P.photoUrl||null,email:P.email||null,emailVerified:P.emailVerified||!1,phoneNumber:P.phoneNumber||null,tenantId:P.tenantId||null,providerData:se,metadata:new Si(P.createdAt,P.lastLoginAt),isAnonymous:ot};Object.assign(v,rt)})).apply(this,arguments)}function Fr(){return(Fr=(0,d.Z)(function*(v){const g=(0,L.m9)(v);yield ze(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function Hi(v,g){return[...v.filter(E=>!g.some(x=>x.providerId===E.providerId)),...g]}function Wn(v){return v.map(g=>{var{providerId:m}=g,E=ae(g,["providerId"]);return{providerId:m,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}function Tn(){return(Tn=(0,d.Z)(function*(v,g){const m=yield Pu(v,{},()=>{const E=(0,L.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:x,apiKey:P}=v.config,$=Ie(v,x,"/v1/token",`key=${P}`);return dt.fetch()($,{method:"POST",headers:{"X-Client-Version":v._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:E})});return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class $i{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){Me(g.idToken,"internal-error"),Me(void 0!==g.idToken,"internal-error"),Me(void 0!==g.refreshToken,"internal-error");const m="expiresIn"in g&&void 0!==g.expiresIn?Number(g.expiresIn):function(v){const g=xo(v);return Me(g,"internal-error"),Me(void 0!==g.exp,"internal-error"),Me(void 0!==g.iat,"internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,m)}getToken(g,m=!1){var E=this;return(0,d.Z)(function*(){return Me(!E.accessToken||E.refreshToken,g,"user-token-expired"),m||!E.accessToken||E.isExpired?E.refreshToken?(yield E.refresh(g,E.refreshToken),E.accessToken):null:E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,m){var E=this;return(0,d.Z)(function*(){const{accessToken:x,refreshToken:P,expiresIn:$}=yield function(v,g){return Tn.apply(this,arguments)}(g,m);E.updateTokensAndExpiration(x,P,Number($))})()}updateTokensAndExpiration(g,m,E){this.refreshToken=m||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(g,m){const{refreshToken:E,accessToken:x,expirationTime:P}=m,$=new $i;return E&&(Me("string"==typeof E,"internal-error",{appName:g}),$.refreshToken=E),x&&(Me("string"==typeof x,"internal-error",{appName:g}),$.accessToken=x),P&&(Me("number"==typeof P,"internal-error",{appName:g}),$.expirationTime=P),$}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new $i,this.toJSON())}_performRefresh(){return cr("not implemented")}}function ui(v,g){Me("string"==typeof v||void 0===v,"internal-error",{appName:g})}class vt{constructor(g){var{uid:m,auth:E,stsTokenManager:x}=g,P=ae(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new Dr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=E,this.stsTokenManager=x,this.accessToken=x.accessToken,this.displayName=P.displayName||null,this.email=P.email||null,this.emailVerified=P.emailVerified||!1,this.phoneNumber=P.phoneNumber||null,this.photoURL=P.photoURL||null,this.isAnonymous=P.isAnonymous||!1,this.tenantId=P.tenantId||null,this.metadata=new Si(P.createdAt||void 0,P.lastLoginAt||void 0)}getIdToken(g){var m=this;return(0,d.Z)(function*(){const E=yield _n(m,m.stsTokenManager.getToken(m.auth,g));return Me(E,m.auth,"internal-error"),m.accessToken!==E&&(m.accessToken=E,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),E})()}getIdTokenResult(g){return function(v){return ul.apply(this,arguments)}(this,g)}reload(){return function(v){return Fr.apply(this,arguments)}(this)}_assign(g){this!==g&&(Me(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(m=>Object.assign({},m)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){return new vt(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(g){Me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,m=!1){var E=this;return(0,d.Z)(function*(){let x=!1;g.idToken&&g.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(g),x=!0),m&&(yield ze(E)),yield E.auth._persistUserIfCurrent(E),x&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var g=this;return(0,d.Z)(function*(){const m=yield g.getIdToken();return yield _n(g,function(v,g){return rn.apply(this,arguments)}(g.auth,{idToken:m})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,m){var E,x,P,$,se,Be,Ne,ot;const rt=null!==(E=m.displayName)&&void 0!==E?E:void 0,qt=null!==(x=m.email)&&void 0!==x?x:void 0,ir=null!==(P=m.phoneNumber)&&void 0!==P?P:void 0,An=null!==($=m.photoURL)&&void 0!==$?$:void 0,jc=null!==(se=m.tenantId)&&void 0!==se?se:void 0,Hc=null!==(Be=m._redirectEventId)&&void 0!==Be?Be:void 0,Dd=null!==(Ne=m.createdAt)&&void 0!==Ne?Ne:void 0,Gl=null!==(ot=m.lastLoginAt)&&void 0!==ot?ot:void 0,{uid:Zo,emailVerified:Ha,isAnonymous:Xp,providerData:Id,stsTokenManager:z_}=m;Me(Zo&&z_,g,"internal-error");const Td=$i.fromJSON(this.name,z_);Me("string"==typeof Zo,g,"internal-error"),ui(rt,g.name),ui(qt,g.name),Me("boolean"==typeof Ha,g,"internal-error"),Me("boolean"==typeof Xp,g,"internal-error"),ui(ir,g.name),ui(An,g.name),ui(jc,g.name),ui(Hc,g.name),ui(Dd,g.name),ui(Gl,g.name);const zh=new vt({uid:Zo,auth:g,email:qt,emailVerified:Ha,displayName:rt,isAnonymous:Xp,photoURL:An,phoneNumber:ir,tenantId:jc,stsTokenManager:Td,createdAt:Dd,lastLoginAt:Gl});return Id&&Array.isArray(Id)&&(zh.providerData=Id.map(Gh=>Object.assign({},Gh))),Hc&&(zh._redirectEventId=Hc),zh}static _fromIdTokenResponse(g,m,E=!1){return(0,d.Z)(function*(){const x=new $i;x.updateFromServerResponse(m);const P=new vt({uid:m.localId,auth:g,stsTokenManager:x,isAnonymous:E});return yield ze(P),P})()}}const Ai=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,d.Z)(function*(){return!0})()}_set(m,E){var x=this;return(0,d.Z)(function*(){x.storage[m]=E})()}_get(m){var E=this;return(0,d.Z)(function*(){const x=E.storage[m];return void 0===x?null:x})()}_remove(m){var E=this;return(0,d.Z)(function*(){delete E.storage[m]})()}_addListener(m,E){}_removeListener(m,E){}}return v.type="NONE",v})();function di(v,g,m){return`firebase:${v}:${g}:${m}`}class xi{constructor(g,m,E){this.persistence=g,this.auth=m,this.userKey=E;const{config:x,name:P}=this.auth;this.fullUserKey=di(this.userKey,x.apiKey,P),this.fullPersistenceKey=di("persistence",x.apiKey,P),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,d.Z)(function*(){const m=yield g.persistence._get(g.fullUserKey);return m?vt._fromJSON(g.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var m=this;return(0,d.Z)(function*(){if(m.persistence===g)return;const E=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=g,E?m.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,m,E="authUser"){return(0,d.Z)(function*(){if(!m.length)return new xi(Yt(Ai),g,E);const x=(yield Promise.all(m.map(function(){var Ne=(0,d.Z)(function*(ot){if(yield ot._isAvailable())return ot});return function(ot){return Ne.apply(this,arguments)}}()))).filter(Ne=>Ne);let P=x[0]||Yt(Ai);const $=di(E,g.config.apiKey,g.name);let se=null;for(const Ne of m)try{const ot=yield Ne._get($);if(ot){const rt=vt._fromJSON(g,ot);Ne!==P&&(se=rt),P=Ne;break}}catch(ot){}const Be=x.filter(Ne=>Ne._shouldAllowMigration);return P._shouldAllowMigration&&Be.length?(P=Be[0],se&&(yield P._set($,se.toJSON())),yield Promise.all(m.map(function(){var Ne=(0,d.Z)(function*(ot){if(ot!==P)try{yield ot._remove($)}catch(rt){}});return function(ot){return Ne.apply(this,arguments)}}())),new xi(P,g,E)):new xi(P,g,E)})()}}function on(v){const g=v.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(an(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(dl(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(ya(g))return"Blackberry";if(fl(g))return"Webos";if(Ys(g))return"Safari";if((g.includes("chrome/")||Mi(g))&&!g.includes("edge/"))return"Chrome";if(hl(g))return"Android";{const E=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==E?void 0:E.length))return E[1]}return"Other"}function dl(v=(0,L.z$)()){return/firefox\//i.test(v)}function Ys(v=(0,L.z$)()){const g=v.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function Mi(v=(0,L.z$)()){return/crios\//i.test(v)}function an(v=(0,L.z$)()){return/iemobile/i.test(v)}function hl(v=(0,L.z$)()){return/android/i.test(v)}function ya(v=(0,L.z$)()){return/blackberry/i.test(v)}function fl(v=(0,L.z$)()){return/webos/i.test(v)}function Qs(v=(0,L.z$)()){return/iphone|ipad|ipod/i.test(v)}function Nn(v=(0,L.z$)()){return Qs(v)||hl(v)||fl(v)||ya(v)||/windows phone/i.test(v)||an(v)}function Gi(v,g=[]){let m;switch(v){case"Browser":m=on((0,L.z$)());break;case"Worker":m=`${on((0,L.z$)())}-${v}`;break;default:m=v}const E=g.length?g.join(","):"FirebaseCore-web";return`${m}/JsCore/${le.SDK_VERSION}/${E}`}class us{constructor(g,m){this.app=g,this.config=m,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ts(this),this.idTokenSubscription=new Ts(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=dn,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=m.sdkClientVersion}_initializeWithPersistence(g,m){var E=this;return m&&(this._popupRedirectResolver=Yt(m)),this._initializationPromise=this.queue((0,d.Z)(function*(){var x,P;E._deleted||(E.persistenceManager=yield xi.create(E,g),!E._deleted&&((null===(x=E._popupRedirectResolver)||void 0===x?void 0:x._shouldInitProactively)&&(yield E._popupRedirectResolver._initialize(E)),yield E.initializeCurrentUser(m),E.lastNotifiedUid=(null===(P=E.currentUser)||void 0===P?void 0:P.uid)||null,!E._deleted&&(E._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,d.Z)(function*(){if(g._deleted)return;const m=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||m){if(g.currentUser&&m&&g.currentUser.uid===m.uid)return g._currentUser._assign(m),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(m)}})()}initializeCurrentUser(g){var m=this;return(0,d.Z)(function*(){var E;let x=yield m.assertedPersistence.getCurrentUser();if(g&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const P=null===(E=m.redirectUser)||void 0===E?void 0:E._redirectEventId,$=null==x?void 0:x._redirectEventId,se=yield m.tryRedirectSignIn(g);(!P||P===$)&&(null==se?void 0:se.user)&&(x=se.user)}return x?x._redirectEventId?(Me(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===x._redirectEventId?m.directlySetCurrentUser(x):m.reloadAndSetCurrentUserOrClear(x)):m.reloadAndSetCurrentUserOrClear(x):m.directlySetCurrentUser(null)})()}tryRedirectSignIn(g){var m=this;return(0,d.Z)(function*(){let E=null;try{E=yield m._popupRedirectResolver._completeRedirectFn(m,g,!0)}catch(x){yield m._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(g){var m=this;return(0,d.Z)(function*(){try{yield ze(g)}catch(E){if("auth/network-request-failed"!==E.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var g=this;return(0,d.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var m=this;return(0,d.Z)(function*(){const E=g?(0,L.m9)(g):null;return E&&Me(E.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(E&&E._clone(m))})()}_updateCurrentUser(g){var m=this;return(0,d.Z)(function*(){if(!m._deleted)return g&&Me(m.tenantId===g.tenantId,m,"tenant-id-mismatch"),m.queue((0,d.Z)(function*(){yield m.directlySetCurrentUser(g),m.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,d.Z)(function*(){return(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null)})()}setPersistence(g){var m=this;return this.queue((0,d.Z)(function*(){yield m.assertedPersistence.setPersistence(Yt(g))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new L.LL("auth","Firebase",g())}onAuthStateChanged(g,m,E){return this.registerStateListener(this.authStateSubscription,g,m,E)}onIdTokenChanged(g,m,E){return this.registerStateListener(this.idTokenSubscription,g,m,E)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,m){var E=this;return(0,d.Z)(function*(){const x=yield E.getOrInitRedirectPersistenceManager(m);return null===g?x.removeCurrentUser():x.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var m=this;return(0,d.Z)(function*(){if(!m.redirectPersistenceManager){const E=g&&Yt(g)||m._popupRedirectResolver;Me(E,m,"argument-error"),m.redirectPersistenceManager=yield xi.create(m,[Yt(E._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(g){var m=this;return(0,d.Z)(function*(){var E,x;return m._isInitialized&&(yield m.queue((0,d.Z)(function*(){}))),(null===(E=m._currentUser)||void 0===E?void 0:E._redirectEventId)===g?m._currentUser:(null===(x=m.redirectUser)||void 0===x?void 0:x._redirectEventId)===g?m.redirectUser:null})()}_persistUserIfCurrent(g){var m=this;return(0,d.Z)(function*(){if(g===m.currentUser)return m.queue((0,d.Z)(function*(){return m.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(m=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,m,E,x){if(this._deleted)return()=>{};const P="function"==typeof m?m:m.next.bind(m),$=this._isInitialized?Promise.resolve():this._initializationPromise;return Me($,this,"internal-error"),$.then(()=>P(this.currentUser)),"function"==typeof m?g.addObserver(m,E,x):g.addObserver(m)}directlySetCurrentUser(g){var m=this;return(0,d.Z)(function*(){m.currentUser&&m.currentUser!==g&&(m._currentUser._stopProactiveRefresh(),g&&m.isProactiveRefreshEnabled&&g._startProactiveRefresh()),m.currentUser=g,g?yield m.assertedPersistence.setCurrentUser(g):yield m.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return Me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=Gi(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function nr(v){return(0,L.m9)(v)}class Ts{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,L.ne)(m=>this.observer=m)}get next(){return Me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Gr(v){const g=v.indexOf(":");return g<0?"":v.substr(0,g+1)}function o_(v){if(!v)return null;const g=Number(v);return isNaN(g)?null:g}class va{constructor(g,m){this.providerId=g,this.signInMethod=m}toJSON(){return cr("not implemented")}_getIdTokenResponse(g){return cr("not implemented")}_linkToIdToken(g,m){return cr("not implemented")}_getReauthenticationResolver(g){return cr("not implemented")}}function mp(v,g){return dh.apply(this,arguments)}function dh(){return(dh=(0,d.Z)(function*(v,g){return Tt(v,"POST","/v1/accounts:resetPassword",nn(v,g))})).apply(this,arguments)}function _p(v,g){return Fu.apply(this,arguments)}function Fu(){return(Fu=(0,d.Z)(function*(v,g){return Tt(v,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function a_(v,g){return pl.apply(this,arguments)}function pl(){return(pl=(0,d.Z)(function*(v,g){return Tt(v,"POST","/v1/accounts:update",nn(v,g))})).apply(this,arguments)}function hh(){return(hh=(0,d.Z)(function*(v,g){return j(v,"POST","/v1/accounts:signInWithPassword",nn(v,g))})).apply(this,arguments)}function Lu(v,g){return fh.apply(this,arguments)}function fh(){return(fh=(0,d.Z)(function*(v,g){return Tt(v,"POST","/v1/accounts:sendOobCode",nn(v,g))})).apply(this,arguments)}function l_(v,g){return ph.apply(this,arguments)}function ph(){return(ph=(0,d.Z)(function*(v,g){return Lu(v,g)})).apply(this,arguments)}function c_(v,g){return yp.apply(this,arguments)}function yp(){return(yp=(0,d.Z)(function*(v,g){return Lu(v,g)})).apply(this,arguments)}function cc(v,g){return gl.apply(this,arguments)}function gl(){return(gl=(0,d.Z)(function*(v,g){return Lu(v,g)})).apply(this,arguments)}function Vu(v,g){return gh.apply(this,arguments)}function gh(){return(gh=(0,d.Z)(function*(v,g){return Lu(v,g)})).apply(this,arguments)}function ds(){return(ds=(0,d.Z)(function*(v,g){return j(v,"POST","/v1/accounts:signInWithEmailLink",nn(v,g))})).apply(this,arguments)}function Js(){return(Js=(0,d.Z)(function*(v,g){return j(v,"POST","/v1/accounts:signInWithEmailLink",nn(v,g))})).apply(this,arguments)}class Ea extends va{constructor(g,m,E,x=null){super("password",E),this._email=g,this._password=m,this._tenantId=x}static _fromEmailAndPassword(g,m){return new Ea(g,m,"password")}static _fromEmailAndCode(g,m,E=null){return new Ea(g,m,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g;if((null==m?void 0:m.email)&&(null==m?void 0:m.password)){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(g){var m=this;return(0,d.Z)(function*(){switch(m.signInMethod){case"password":return function(v,g){return hh.apply(this,arguments)}(g,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function(v,g){return ds.apply(this,arguments)}(g,{email:m._email,oobCode:m._password});default:Zt(g,"internal-error")}})()}_linkToIdToken(g,m){var E=this;return(0,d.Z)(function*(){switch(E.signInMethod){case"password":return _p(g,{idToken:m,returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function(v,g){return Js.apply(this,arguments)}(g,{idToken:m,email:E._email,oobCode:E._password});default:Zt(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function eo(v,g){return to.apply(this,arguments)}function to(){return(to=(0,d.Z)(function*(v,g){return j(v,"POST","/v1/accounts:signInWithIdp",nn(v,g))})).apply(this,arguments)}class Ir extends va{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const m=new Ir(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(m.idToken=g.idToken),g.accessToken&&(m.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(m.nonce=g.nonce),g.pendingToken&&(m.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(m.accessToken=g.oauthToken,m.secret=g.oauthTokenSecret):Zt("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g,{providerId:E,signInMethod:x}=m,P=ae(m,["providerId","signInMethod"]);if(!E||!x)return null;const $=new Ir(E,x);return $.idToken=P.idToken||void 0,$.accessToken=P.accessToken||void 0,$.secret=P.secret,$.nonce=P.nonce,$.pendingToken=P.pendingToken||null,$}_getIdTokenResponse(g){return eo(g,this.buildRequest())}_linkToIdToken(g,m){const E=this.buildRequest();return E.idToken=m,eo(g,E)}_getReauthenticationResolver(g){const m=this.buildRequest();return m.autoCreate=!1,eo(g,m)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),g.postBody=(0,L.xO)(m)}return g}}function Ss(v,g){return ml.apply(this,arguments)}function ml(){return(ml=(0,d.Z)(function*(v,g){return Tt(v,"POST","/v1/accounts:sendVerificationCode",nn(v,g))})).apply(this,arguments)}function Lr(){return(Lr=(0,d.Z)(function*(v,g){return j(v,"POST","/v1/accounts:signInWithPhoneNumber",nn(v,g))})).apply(this,arguments)}function Uu(){return(Uu=(0,d.Z)(function*(v,g){const m=yield j(v,"POST","/v1/accounts:signInWithPhoneNumber",nn(v,g));if(m.temporaryProof)throw Xe(v,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const dc={USER_NOT_FOUND:"user-not-found"};function _l(){return(_l=(0,d.Z)(function*(v,g){return j(v,"POST","/v1/accounts:signInWithPhoneNumber",nn(v,Object.assign(Object.assign({},g),{operation:"REAUTH"})),dc)})).apply(this,arguments)}class Ro extends va{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,m){return new Ro({verificationId:g,verificationCode:m})}static _fromTokenResponse(g,m){return new Ro({phoneNumber:g,temporaryProof:m})}_getIdTokenResponse(g){return function(v,g){return Lr.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,m){return function(v,g){return Uu.apply(this,arguments)}(g,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function(v,g){return _l.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:m,verificationId:E,verificationCode:x}=this.params;return g&&m?{temporaryProof:g,phoneNumber:m}:{sessionInfo:E,code:x}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:m,verificationCode:E,phoneNumber:x,temporaryProof:P}=g;return E||m||x||P?new Ro({verificationId:m,verificationCode:E,phoneNumber:x,temporaryProof:P}):null}}class Po{constructor(g){var m,E,x,P,$,se;const Be=(0,L.zd)((0,L.pd)(g)),Ne=null!==(m=Be.apiKey)&&void 0!==m?m:null,ot=null!==(E=Be.oobCode)&&void 0!==E?E:null,rt=function(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(x=Be.mode)&&void 0!==x?x:null);Me(Ne&&ot&&rt,"argument-error"),this.apiKey=Ne,this.operation=rt,this.code=ot,this.continueUrl=null!==(P=Be.continueUrl)&&void 0!==P?P:null,this.languageCode=null!==($=Be.languageCode)&&void 0!==$?$:null,this.tenantId=null!==(se=Be.tenantId)&&void 0!==se?se:null}static parseLink(g){const m=function(v){const g=(0,L.zd)((0,L.pd)(v)).link,m=g?(0,L.zd)((0,L.pd)(g)).deep_link_id:null,E=(0,L.zd)((0,L.pd)(v)).deep_link_id;return(E?(0,L.zd)((0,L.pd)(E)).link:null)||E||m||g||v}(g);try{return new Po(m)}catch(E){return null}}}let ko=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(m,E){return Ea._fromEmailAndPassword(m,E)}static credentialWithLink(m,E){const x=Po.parseLink(E);return Me(x,"argument-error"),Ea._fromEmailAndCode(m,x.code,x.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class qr{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class Wi extends qr{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class jn extends Wi{static credentialFromJSON(g){const m="string"==typeof g?JSON.parse(g):g;return Me("providerId"in m&&"signInMethod"in m,"argument-error"),Ir._fromParams(m)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return Me(g.idToken||g.accessToken,"argument-error"),Ir._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return jn.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return jn.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:m,oauthAccessToken:E,oauthTokenSecret:x,pendingToken:P,nonce:$,providerId:se}=g;if(!E&&!x&&!m&&!P||!se)return null;try{return new jn(se)._credential({idToken:m,accessToken:E,nonce:$,pendingToken:P})}catch(Be){return null}}}let hc=(()=>{class v extends Wi{constructor(){super("facebook.com")}static credential(m){return Ir._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch(E){return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),Oo=(()=>{class v extends Wi{constructor(){super("google.com"),this.addScope("profile")}static credential(m,E){return Ir._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:E})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:E,oauthAccessToken:x}=m;if(!E&&!x)return null;try{return v.credential(E,x)}catch(P){return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),No=(()=>{class v extends Wi{constructor(){super("github.com")}static credential(m){return Ir._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch(E){return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class As extends va{constructor(g,m){super(g,g),this.pendingToken=m}_getIdTokenResponse(g){return eo(g,this.buildRequest())}_linkToIdToken(g,m){const E=this.buildRequest();return E.idToken=m,eo(g,E)}_getReauthenticationResolver(g){const m=this.buildRequest();return m.autoCreate=!1,eo(g,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g,{providerId:E,signInMethod:x,pendingToken:P}=m;return E&&x&&P&&E===x?new As(E,P):null}static _create(g,m){return new As(g,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class fc extends qr{constructor(g){Me(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return fc.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return fc.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const m=As.fromJSON(g);return Me(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:m,providerId:E}=g;if(!m||!E)return null;try{return As._create(E,m)}catch(x){return null}}}let Zi=(()=>{class v extends Wi{constructor(){super("twitter.com")}static credential(m,E){return Ir._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:E})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:E,oauthTokenSecret:x}=m;if(!E||!x)return null;try{return v.credential(E,x)}catch(P){return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function Hu(v,g){return wa.apply(this,arguments)}function wa(){return(wa=(0,d.Z)(function*(v,g){return j(v,"POST","/v1/accounts:signUp",nn(v,g))})).apply(this,arguments)}class nt{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,m,E,x=!1){return(0,d.Z)(function*(){const P=yield vt._fromIdTokenResponse(g,E,x),$=$u(E);return new nt({user:P,providerId:$,_tokenResponse:E,operationType:m})})()}static _forOperation(g,m,E){return(0,d.Z)(function*(){yield g._updateTokensIfNecessary(E,!0);const x=$u(E);return new nt({user:g,providerId:x,_tokenResponse:E,operationType:m})})()}}function $u(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function pc(){return(pc=(0,d.Z)(function*(v){var g;const m=nr(v);if(yield m._initializationPromise,null===(g=m.currentUser)||void 0===g?void 0:g.isAnonymous)return new nt({user:m.currentUser,providerId:null,operationType:"signIn"});const E=yield Hu(m,{returnSecureToken:!0}),x=yield nt._fromIdTokenResponse(m,"signIn",E,!0);return yield m._updateCurrentUser(x.user),x})).apply(this,arguments)}class vl extends L.ZR{constructor(g,m,E,x){var P;super(m.code,m.message),this.operationType=E,this.user=x,Object.setPrototypeOf(this,vl.prototype),this.customData={appName:g.name,tenantId:null!==(P=g.tenantId)&&void 0!==P?P:void 0,_serverResponse:m.customData._serverResponse,operationType:E}}static _fromErrorAndOperation(g,m,E,x){return new vl(g,m,E,x)}}function Gu(v,g,m,E){return("reauthenticate"===g?m._getReauthenticationResolver(v):m._getIdTokenResponse(v)).catch(P=>{throw"auth/multi-factor-auth-required"===P.code?vl._fromErrorAndOperation(v,P,g,E):P})}function gc(v){return new Set(v.map(({providerId:g})=>g).filter(g=>!!g))}function Se(){return(Se=(0,d.Z)(function*(v,g){const m=(0,L.m9)(v);yield yn(!0,m,g);const{providerUserInfo:E}=yield wr(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[g]}),x=gc(E||[]);return m.providerData=m.providerData.filter(P=>x.has(P.providerId)),x.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function Ht(v,g){return hs.apply(this,arguments)}function hs(){return(hs=(0,d.Z)(function*(v,g,m=!1){const E=yield _n(v,g._linkToIdToken(v.auth,yield v.getIdToken()),m);return nt._forOperation(v,"link",E)})).apply(this,arguments)}function yn(v,g,m){return no.apply(this,arguments)}function no(){return(no=(0,d.Z)(function*(v,g,m){yield ze(g);const x=!1===v?"provider-already-linked":"no-such-provider";Me(gc(g.providerData).has(m)===v,g.auth,x)})).apply(this,arguments)}function Fo(v,g){return rr.apply(this,arguments)}function rr(){return(rr=(0,d.Z)(function*(v,g,m=!1){const{auth:E}=v,x="reauthenticate";try{const P=yield _n(v,Gu(E,x,g,v),m);Me(P.idToken,E,"internal-error");const $=xo(P.idToken);Me($,E,"internal-error");const{sub:se}=$;return Me(v.uid===se,E,"user-mismatch"),nt._forOperation(v,x,P)}catch(P){throw"auth/user-not-found"===(null==P?void 0:P.code)&&Zt(E,"user-mismatch"),P}})).apply(this,arguments)}function bl(v,g){return ro.apply(this,arguments)}function ro(){return(ro=(0,d.Z)(function*(v,g,m=!1){const E="signIn",x=yield Gu(v,E,g),P=yield nt._fromIdTokenResponse(v,E,x);return m||(yield v._updateCurrentUser(P.user)),P})).apply(this,arguments)}function El(v,g){return mc.apply(this,arguments)}function mc(){return(mc=(0,d.Z)(function*(v,g){return bl(nr(v),g)})).apply(this,arguments)}function Ca(v,g){return Da.apply(this,arguments)}function Da(){return(Da=(0,d.Z)(function*(v,g){const m=(0,L.m9)(v);return yield yn(!1,m,g.providerId),Ht(m,g)})).apply(this,arguments)}function ur(v,g){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,d.Z)(function*(v,g){return Fo((0,L.m9)(v),g)})).apply(this,arguments)}function _c(v,g){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,d.Z)(function*(v,g){return j(v,"POST","/v1/accounts:signInWithCustomToken",nn(v,g))})).apply(this,arguments)}function yc(){return(yc=(0,d.Z)(function*(v,g){const m=nr(v),E=yield _c(m,{token:g,returnSecureToken:!0}),x=yield nt._fromIdTokenResponse(m,"signIn",E);return yield m._updateCurrentUser(x.user),x})).apply(this,arguments)}class io{constructor(g,m){this.factorId=g,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(g,m){return"phoneInfo"in m?Lo._fromServerResponse(g,m):Zt(g,"internal-error")}}class Lo extends io{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,m){return new Lo(m)}}function vc(v,g,m){var E;Me((null===(E=m.url)||void 0===E?void 0:E.length)>0,v,"invalid-continue-uri"),Me(void 0===m.dynamicLinkDomain||m.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),g.continueUrl=m.url,g.dynamicLinkDomain=m.dynamicLinkDomain,g.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(Me(m.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),g.iOSBundleId=m.iOS.bundleId),m.android&&(Me(m.android.packageName.length>0,v,"missing-android-pkg-name"),g.androidInstallApp=m.android.installApp,g.androidMinimumVersionCode=m.android.minimumVersion,g.androidPackageName=m.android.packageName)}function Ta(){return(Ta=(0,d.Z)(function*(v,g,m){const E=(0,L.m9)(v),x={requestType:"PASSWORD_RESET",email:g};m&&vc(E,x,m),yield c_(E,x)})).apply(this,arguments)}function wl(){return(wl=(0,d.Z)(function*(v,g,m){yield mp((0,L.m9)(v),{oobCode:g,newPassword:m})})).apply(this,arguments)}function Sa(){return(Sa=(0,d.Z)(function*(v,g){yield a_((0,L.m9)(v),{oobCode:g})})).apply(this,arguments)}function Aa(v,g){return xa.apply(this,arguments)}function xa(){return(xa=(0,d.Z)(function*(v,g){const m=(0,L.m9)(v),E=yield mp(m,{oobCode:g}),x=E.requestType;switch(Me(x,m,"internal-error"),x){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Me(E.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Me(E.mfaInfo,m,"internal-error");default:Me(E.email,m,"internal-error")}let P=null;return E.mfaInfo&&(P=io._fromServerResponse(nr(m),E.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.newEmail:E.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.email:E.newEmail)||null,multiFactorInfo:P},operation:x}})).apply(this,arguments)}function Cl(){return(Cl=(0,d.Z)(function*(v,g){const{data:m}=yield Aa((0,L.m9)(v),g);return m.email})).apply(this,arguments)}function Ma(){return(Ma=(0,d.Z)(function*(v,g,m){const E=nr(v),x=yield Hu(E,{returnSecureToken:!0,email:g,password:m}),P=yield nt._fromIdTokenResponse(E,"signIn",x);return yield E._updateCurrentUser(P.user),P})).apply(this,arguments)}function Zn(){return(Zn=(0,d.Z)(function*(v,g,m){const E=(0,L.m9)(v),x={requestType:"EMAIL_SIGNIN",email:g};Me(m.handleCodeInApp,E,"argument-error"),m&&vc(E,x,m),yield cc(E,x)})).apply(this,arguments)}function Ku(){return(Ku=(0,d.Z)(function*(v,g,m){const E=(0,L.m9)(v),x=ko.credentialWithLink(g,m||pt());return Me(x._tenantId===(E.tenantId||null),E,"tenant-id-mismatch"),El(E,x)})).apply(this,arguments)}function h_(v,g){return vh.apply(this,arguments)}function vh(){return(vh=(0,d.Z)(function*(v,g){return Tt(v,"POST","/v1/accounts:createAuthUri",nn(v,g))})).apply(this,arguments)}function bh(){return(bh=(0,d.Z)(function*(v,g){const E={identifier:g,continueUri:yt()?pt():"http://localhost"},{signinMethods:x}=yield h_((0,L.m9)(v),E);return x||[]})).apply(this,arguments)}function xs(){return(xs=(0,d.Z)(function*(v,g){const m=(0,L.m9)(v),x={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};g&&vc(m.auth,x,g);const{email:P}=yield l_(m.auth,x);P!==v.email&&(yield v.reload())})).apply(this,arguments)}function Ra(){return(Ra=(0,d.Z)(function*(v,g,m){const E=(0,L.m9)(v),P={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:g};m&&vc(E.auth,P,m);const{email:$}=yield Vu(E.auth,P);$!==v.email&&(yield v.reload())})).apply(this,arguments)}function Yu(v,g){return Qu.apply(this,arguments)}function Qu(){return(Qu=(0,d.Z)(function*(v,g){return Tt(v,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function vn(){return(vn=(0,d.Z)(function*(v,{displayName:g,photoURL:m}){if(void 0===g&&void 0===m)return;const E=(0,L.m9)(v),P={idToken:yield E.getIdToken(),displayName:g,photoUrl:m,returnSecureToken:!0},$=yield _n(E,Yu(E.auth,P));E.displayName=$.displayName||null,E.photoURL=$.photoUrl||null;const se=E.providerData.find(({providerId:Be})=>"password"===Be);se&&(se.displayName=E.displayName,se.photoURL=E.photoURL),yield E._updateTokensIfNecessary($)})).apply(this,arguments)}function Xu(v,g,m){return ka.apply(this,arguments)}function ka(){return(ka=(0,d.Z)(function*(v,g,m){const{auth:E}=v,P={idToken:yield v.getIdToken(),returnSecureToken:!0};g&&(P.email=g),m&&(P.password=m);const $=yield _n(v,_p(E,P));yield v._updateTokensIfNecessary($,!0)})).apply(this,arguments)}class Il{constructor(g,m,E={}){this.isNewUser=g,this.providerId=m,this.profile=E}}class Ju extends Il{constructor(g,m,E,x){super(g,m,E),this.username=x}}class f_ extends Il{constructor(g,m){super(g,"facebook.com",m)}}class Bo extends Ju{constructor(g,m){super(g,"github.com",m,"string"==typeof(null==m?void 0:m.login)?null==m?void 0:m.login:null)}}class wc extends Il{constructor(g,m){super(g,"google.com",m)}}class wh extends Ju{constructor(g,m,E){super(g,"twitter.com",m,E)}}function dr(v){const{user:g,_tokenResponse:m}=v;return g.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function(v){var g,m;if(!v)return null;const{providerId:E}=v,x=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},P=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!E&&(null==v?void 0:v.idToken)){const $=null===(m=null===(g=xo(v.idToken))||void 0===g?void 0:g.firebase)||void 0===m?void 0:m.sign_in_provider;if($)return new Il(P,"anonymous"!==$&&"custom"!==$?$:null)}if(!E)return null;switch(E){case"facebook.com":return new f_(P,x);case"github.com":return new Bo(P,x);case"google.com":return new wc(P,x);case"twitter.com":return new wh(P,x,v.screenName||null);case"custom":case"anonymous":return new Il(P,null);default:return new Il(P,E,x)}}(m)}class Uo{constructor(g,m){this.type=g,this.credential=m}static _fromIdtoken(g){return new Uo("enroll",g)}static _fromMfaPendingCredential(g){return new Uo("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var m,E;if(null==g?void 0:g.multiFactorSession){if(null===(m=g.multiFactorSession)||void 0===m?void 0:m.pendingCredential)return Uo._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null===(E=g.multiFactorSession)||void 0===E?void 0:E.idToken)return Uo._fromIdtoken(g.multiFactorSession.idToken)}return null}}class Tc{constructor(g,m,E){this.session=g,this.hints=m,this.signInResolver=E}static _fromError(g,m){const E=nr(g),x=m.customData._serverResponse,P=(x.mfaInfo||[]).map(se=>io._fromServerResponse(E,se));Me(x.mfaPendingCredential,E,"internal-error");const $=Uo._fromMfaPendingCredential(x.mfaPendingCredential);return new Tc($,P,function(){var se=(0,d.Z)(function*(Be){const Ne=yield Be._process(E,$);delete x.mfaInfo,delete x.mfaPendingCredential;const ot=Object.assign(Object.assign({},x),{idToken:Ne.idToken,refreshToken:Ne.refreshToken});switch(m.operationType){case"signIn":const rt=yield nt._fromIdTokenResponse(E,m.operationType,ot);return yield E._updateCurrentUser(rt.user),rt;case"reauthenticate":return Me(m.user,E,"internal-error"),nt._forOperation(m.user,m.operationType,ot);default:Zt(E,"internal-error")}});return function(Be){return se.apply(this,arguments)}}())}resolveSignIn(g){var m=this;return(0,d.Z)(function*(){return m.signInResolver(g)})()}}function __(v,g){return Tt(v,"POST","/v2/accounts/mfaEnrollment:start",nn(v,g))}class st{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(E=>io._fromServerResponse(g.auth,E)))})}static _fromUser(g){return new st(g)}getSession(){var g=this;return(0,d.Z)(function*(){return Uo._fromIdtoken(yield g.user.getIdToken())})()}enroll(g,m){var E=this;return(0,d.Z)(function*(){const x=g,P=yield E.getSession(),$=yield _n(E.user,x._process(E.user.auth,P,m));return yield E.user._updateTokensIfNecessary($),E.user.reload()})()}unenroll(g){var m=this;return(0,d.Z)(function*(){const E="string"==typeof g?g:g.uid,x=yield m.user.getIdToken(),P=yield _n(m.user,function(v,g){return Tt(v,"POST","/v2/accounts/mfaEnrollment:withdraw",nn(v,g))}(m.user.auth,{idToken:x,mfaEnrollmentId:E}));m.enrolledFactors=m.enrolledFactors.filter(({uid:$})=>$!==E),yield m.user._updateTokensIfNecessary(P);try{yield m.user.reload()}catch($){if("auth/user-token-expired"!==$.code)throw $}})()}}const gt=new WeakMap,hn="__sak";class Ch{constructor(g,m){this.storageRetriever=g,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(hn,"1"),this.storage.removeItem(hn),Promise.resolve(!0)):Promise.resolve(!1)}catch(g){return Promise.resolve(!1)}}_set(g,m){return this.storage.setItem(g,JSON.stringify(m)),Promise.resolve()}_get(g){const m=this.storage.getItem(g);return Promise.resolve(m?JSON.parse(m):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const xl=(()=>{class v extends Ch{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,E)=>this.onStorageEvent(m,E),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const v=(0,L.z$)();return Ys(v)||Qs(v)}()&&function(){try{return!(!window||window===window.top)}catch(v){return!1}}(),this.fallbackToPolling=Nn(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const E of Object.keys(this.listeners)){const x=this.storage.getItem(E),P=this.localCache[E];x!==P&&m(E,P,x)}}onStorageEvent(m,E=!1){if(!m.key)return void this.forAllChangedKeys((se,Be,Ne)=>{this.notifyListeners(se,Ne)});const x=m.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const se=this.storage.getItem(x);if(m.newValue!==se)null!==m.newValue?this.storage.setItem(x,m.newValue):this.storage.removeItem(x);else if(this.localCache[x]===m.newValue&&!E)return}const P=()=>{const se=this.storage.getItem(x);!E&&this.localCache[x]===se||this.notifyListeners(x,se)},$=this.storage.getItem(x);(0,L.w1)()&&10===document.documentMode&&$!==m.newValue&&m.newValue!==m.oldValue?setTimeout(P,10):P()}notifyListeners(m,E){this.localCache[m]=E;const x=this.listeners[m];if(x)for(const P of Array.from(x))P(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,E,x)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:E,newValue:x}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(E)}_removeListener(m,E){this.listeners[m]&&(this.listeners[m].delete(E),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,E){var x=()=>super._set,P=this;return(0,d.Z)(function*(){yield x().call(P,m,E),P.localCache[m]=JSON.stringify(E)})()}_get(m){var E=()=>super._get,x=this;return(0,d.Z)(function*(){const P=yield E().call(x,m);return x.localCache[m]=JSON.stringify(P),P})()}_remove(m){var E=()=>super._remove,x=this;return(0,d.Z)(function*(){yield E().call(x,m),delete x.localCache[m]})()}}return v.type="LOCAL",v})(),Je=(()=>{class v extends Ch{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,E){}_removeListener(m,E){}}return v.type="SESSION",v})();let y_=(()=>{class v{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const E=this.receivers.find(P=>P.isListeningto(m));if(E)return E;const x=new v(m);return this.receivers.push(x),x}isListeningto(m){return this.eventTarget===m}handleEvent(m){var E=this;return(0,d.Z)(function*(){const x=m,{eventId:P,eventType:$,data:se}=x.data,Be=E.handlersMap[$];if(!(null==Be?void 0:Be.size))return;x.ports[0].postMessage({status:"ack",eventId:P,eventType:$});const Ne=Array.from(Be).map(function(){var rt=(0,d.Z)(function*(qt){return qt(x.origin,se)});return function(qt){return rt.apply(this,arguments)}}()),ot=yield function(v){return Promise.all(v.map(function(){var g=(0,d.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(E){return{fulfilled:!1,reason:E}}});return function(m){return g.apply(this,arguments)}}()))}(Ne);x.ports[0].postMessage({status:"done",eventId:P,eventType:$,response:ot})})()}_subscribe(m,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(E)}_unsubscribe(m,E){this.handlersMap[m]&&E&&this.handlersMap[m].delete(E),(!E||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function oo(v="",g=10){let m="";for(let E=0;E<g;E++)m+=Math.floor(10*Math.random());return v+m}class nd{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,m,E=50){var x=this;return(0,d.Z)(function*(){const P="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!P)throw new Error("connection_unavailable");let $,se;return new Promise((Be,Ne)=>{const ot=oo("",20);P.port1.start();const rt=setTimeout(()=>{Ne(new Error("unsupported_event"))},E);se={messageChannel:P,onMessage(qt){const ir=qt;if(ir.data.eventId===ot)switch(ir.data.status){case"ack":clearTimeout(rt),$=setTimeout(()=>{Ne(new Error("timeout"))},3e3);break;case"done":clearTimeout($),Be(ir.data.response);break;default:clearTimeout(rt),clearTimeout($),Ne(new Error("invalid_response"))}}},x.handlers.add(se),P.port1.addEventListener("message",se.onMessage),x.target.postMessage({eventType:g,eventId:ot,data:m},[P.port2])}).finally(()=>{se&&x.removeMessageHandler(se)})})()}}function kt(){return window}function Rl(){return void 0!==kt().WorkerGlobalScope&&"function"==typeof kt().importScripts}function Ms(){return(Ms=(0,d.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(v){return null}})).apply(this,arguments)}const Xi="firebaseLocalStorageDb",Wr="firebaseLocalStorage",Oa="fbase_key";class Na{constructor(g){this.request=g}toPromise(){return new Promise((g,m)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function gs(v,g){return v.transaction([Wr],g?"readwrite":"readonly").objectStore(Wr)}function fr(){const v=indexedDB.open(Xi,1);return new Promise((g,m)=>{v.addEventListener("error",()=>{m(v.error)}),v.addEventListener("upgradeneeded",()=>{const E=v.result;try{E.createObjectStore(Wr,{keyPath:Oa})}catch(x){m(x)}}),v.addEventListener("success",(0,d.Z)(function*(){const E=v.result;E.objectStoreNames.contains(Wr)?g(E):(E.close(),yield function(){const v=indexedDB.deleteDatabase(Xi);return new Na(v).toPromise()}(),g(yield fr()))}))})}function Sn(v,g,m){return Dh.apply(this,arguments)}function Dh(){return(Dh=(0,d.Z)(function*(v,g,m){const E=gs(v,!0).put({[Oa]:g,value:m});return new Na(E).toPromise()})).apply(this,arguments)}function fi(){return(fi=(0,d.Z)(function*(v,g){const m=gs(v,!1).get(g),E=yield new Na(m).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function Ri(v,g){const m=gs(v,!0).delete(g);return new Na(m).toPromise()}const pr=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,d.Z)(function*(){return m.db||(m.db=yield fr()),m.db})()}_withRetries(m){var E=this;return(0,d.Z)(function*(){let x=0;for(;;)try{const P=yield E._openDb();return yield m(P)}catch(P){if(x++>3)throw P;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,d.Z)(function*(){return Rl()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,d.Z)(function*(){m.receiver=y_._getInstance(Rl()?self:null),m.receiver._subscribe("keyChanged",function(){var E=(0,d.Z)(function*(x,P){return{keyProcessed:(yield m._poll()).includes(P.key)}});return function(x,P){return E.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var E=(0,d.Z)(function*(x,P){return["keyChanged"]});return function(x,P){return E.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,d.Z)(function*(){var E,x;if(m.activeServiceWorker=yield function(){return Ms.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new nd(m.activeServiceWorker);const P=yield m.sender._send("ping",{},800);!P||(null===(E=P[0])||void 0===E?void 0:E.fulfilled)&&(null===(x=P[0])||void 0===x?void 0:x.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var E=this;return(0,d.Z)(function*(){if(E.sender&&E.activeServiceWorker&&function(){var v;return(null===(v=null==navigator?void 0:navigator.serviceWorker)||void 0===v?void 0:v.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:m},E.serviceWorkerReceiverAvailable?800:50)}catch(x){}})()}_isAvailable(){return(0,d.Z)(function*(){try{if(!indexedDB)return!1;const m=yield fr();return yield Sn(m,hn,"1"),yield Ri(m,hn),!0}catch(m){}return!1})()}_withPendingWrite(m){var E=this;return(0,d.Z)(function*(){E.pendingWrites++;try{yield m()}finally{E.pendingWrites--}})()}_set(m,E){var x=this;return(0,d.Z)(function*(){return x._withPendingWrite((0,d.Z)(function*(){return yield x._withRetries(P=>Sn(P,m,E)),x.localCache[m]=E,x.notifyServiceWorker(m)}))})()}_get(m){var E=this;return(0,d.Z)(function*(){const x=yield E._withRetries(P=>function(v,g){return fi.apply(this,arguments)}(P,m));return E.localCache[m]=x,x})()}_remove(m){var E=this;return(0,d.Z)(function*(){return E._withPendingWrite((0,d.Z)(function*(){return yield E._withRetries(x=>Ri(x,m)),delete E.localCache[m],E.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,d.Z)(function*(){const E=yield m._withRetries($=>{const se=gs($,!1).getAll();return new Na(se).toPromise()});if(!E)return[];if(0!==m.pendingWrites)return[];const x=[],P=new Set;for(const{fbase_key:$,value:se}of E)P.add($),JSON.stringify(m.localCache[$])!==JSON.stringify(se)&&(m.notifyListeners($,se),x.push($));for(const $ of Object.keys(m.localCache))m.localCache[$]&&!P.has($)&&(m.notifyListeners($,null),x.push($));return x})()}notifyListeners(m,E){this.localCache[m]=E;const x=this.listeners[m];if(x)for(const P of Array.from(x))P(E)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,d.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(E)}_removeListener(m,E){this.listeners[m]&&(this.listeners[m].delete(E),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})();function Tr(v,g){return Tt(v,"POST","/v2/accounts/mfaSignIn:start",nn(v,g))}function co(){return(co=(0,d.Z)(function*(v){return(yield Tt(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ih(v){return new Promise((g,m)=>{const E=document.createElement("script");E.setAttribute("src",v),E.onload=g,E.onerror=x=>{const P=Mn("internal-error");P.customData=x,m(P)},E.type="text/javascript",E.charset="UTF-8",function(){var v,g;return null!==(g=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==g?g:document}().appendChild(E)})}function Yr(v){return`__${v}${Math.floor(1e6*Math.random())}`}const fn=1e12;class Ji{constructor(g){this.auth=g,this.counter=fn,this._widgets=new Map}render(g,m){const E=this.counter;return this._widgets.set(E,new es(g,this.auth.name,m||{})),this.counter++,E}reset(g){var m;const E=g||fn;null===(m=this._widgets.get(E))||void 0===m||m.delete(),this._widgets.delete(E)}getResponse(g){var m;return(null===(m=this._widgets.get(g||fn))||void 0===m?void 0:m.getResponse())||""}execute(g){var m=this;return(0,d.Z)(function*(){var E;return null===(E=m._widgets.get(g||fn))||void 0===E||E.execute(),""})()}}class es{constructor(g,m,E){this.params=E,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const x="string"==typeof g?document.getElementById(g):g;Me(x,"argument-error",{appName:m}),this.container=x,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(v){const g=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<50;E++)g.push(m.charAt(Math.floor(Math.random()*m.length)));return g.join("")}();const{callback:g,"expired-callback":m}=this.params;if(g)try{g(this.responseToken)}catch(E){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch(E){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const uo=Yr("rcb"),id=new Jt(3e4,6e4);class Ip{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!kt().grecaptcha}load(g,m=""){return Me((v=m).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v),g,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(kt().grecaptcha):new Promise((E,x)=>{const P=kt().setTimeout(()=>{x(Mn(g,"network-request-failed"))},id.get());kt()[uo]=()=>{kt().clearTimeout(P),delete kt()[uo];const se=kt().grecaptcha;if(!se)return void x(Mn(g,"internal-error"));const Be=se.render;se.render=(Ne,ot)=>{const rt=Be(Ne,ot);return this.counter++,rt},this.hostLanguage=m,E(se)},Ih(`https://www.google.com/recaptcha/api.js??${(0,L.xO)({onload:uo,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(P),x(Mn(g,"internal-error"))})});var v}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){return!!kt().grecaptcha&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Sh{load(g){return(0,d.Z)(function*(){return new Ji(g)})()}clearedOneInstance(){}}const Ho="recaptcha",v_={theme:"light",type:"image"};class ho{constructor(g,m=Object.assign({},v_),E){this.parameters=m,this.type=Ho,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=nr(E),this.isInvisible="invisible"===this.parameters.size,Me("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const x="string"==typeof g?document.getElementById(g):g;Me(x,this.auth,"argument-error"),this.container=x,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Sh:new Ip,this.validateStartingState()}verify(){var g=this;return(0,d.Z)(function*(){g.assertNotDestroyed();const m=yield g.render(),E=g.getAssertedRecaptcha();return E.getResponse(m)||new Promise(P=>{const $=se=>{!se||(g.tokenChangeListeners.delete($),P(se))};g.tokenChangeListeners.add($),g.isInvisible&&E.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){Me(!this.parameters.sitekey,this.auth,"argument-error"),Me(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Me("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return m=>{if(this.tokenChangeListeners.forEach(E=>E(m)),"function"==typeof g)g(m);else if("string"==typeof g){const E=kt()[g];"function"==typeof E&&E(m)}}}assertNotDestroyed(){Me(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,d.Z)(function*(){if(yield g.init(),!g.widgetId){let m=g.container;if(!g.isInvisible){const E=document.createElement("div");m.appendChild(E),m=E}g.widgetId=g.getAssertedRecaptcha().render(m,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,d.Z)(function*(){Me(yt()&&!Rl(),g.auth,"internal-error"),yield function(){let v=null;return new Promise(g=>{"complete"!==document.readyState?(v=()=>g(),window.addEventListener("load",v)):g()}).catch(g=>{throw v&&window.removeEventListener("load",v),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const m=yield function(v){return co.apply(this,arguments)}(g.auth);Me(m,g.auth,"internal-error"),g.parameters.sitekey=m})()}getAssertedRecaptcha(){return Me(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class od{constructor(g,m){this.verificationId=g,this.onConfirmation=m}confirm(g){const m=Ro._fromVerification(this.verificationId,g);return this.onConfirmation(m)}}function Ps(){return(Ps=(0,d.Z)(function*(v,g,m){const E=nr(v),x=yield ks(E,g,(0,L.m9)(m));return new od(x,P=>El(E,P))})).apply(this,arguments)}function Qr(){return(Qr=(0,d.Z)(function*(v,g,m){const E=(0,L.m9)(v);yield yn(!1,E,"phone");const x=yield ks(E.auth,g,(0,L.m9)(m));return new od(x,P=>Ca(E,P))})).apply(this,arguments)}function Ol(){return(Ol=(0,d.Z)(function*(v,g,m){const E=(0,L.m9)(v),x=yield ks(E.auth,g,(0,L.m9)(m));return new od(x,P=>ur(E,P))})).apply(this,arguments)}function ks(v,g,m){return fo.apply(this,arguments)}function fo(){return(fo=(0,d.Z)(function*(v,g,m){var E;const x=yield m.verify();try{let P;if(Me("string"==typeof x,v,"argument-error"),Me(m.type===Ho,v,"argument-error"),P="string"==typeof g?{phoneNumber:g}:g,"session"in P){const $=P.session;if("phoneNumber"in P)return Me("enroll"===$.type,v,"internal-error"),(yield __(v,{idToken:$.credential,phoneEnrollmentInfo:{phoneNumber:P.phoneNumber,recaptchaToken:x}})).phoneSessionInfo.sessionInfo;{Me("signin"===$.type,v,"internal-error");const se=(null===(E=P.multiFactorHint)||void 0===E?void 0:E.uid)||P.multiFactorUid;return Me(se,v,"missing-multi-factor-info"),(yield Tr(v,{mfaPendingCredential:$.credential,mfaEnrollmentId:se,phoneSignInInfo:{recaptchaToken:x}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:$}=yield Ss(v,{phoneNumber:P.phoneNumber,recaptchaToken:x});return $}}finally{m._reset()}})).apply(this,arguments)}function $o(){return($o=(0,d.Z)(function*(v,g){yield Ht((0,L.m9)(v),g)})).apply(this,arguments)}let D=(()=>{class v{constructor(m){this.providerId=v.PROVIDER_ID,this.auth=nr(m)}verifyPhoneNumber(m,E){return ks(this.auth,m,(0,L.m9)(E))}static credential(m,E){return Ro._fromVerification(m,E)}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:E,temporaryProof:x}=m;return E&&x?Ro._fromTokenResponse(E,x):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function S(v,g){return g?Yt(g):(Me(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class k extends va{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return eo(g,this._buildIdpRequest())}_linkToIdToken(g,m){return eo(g,this._buildIdpRequest(m))}_getReauthenticationResolver(g){return eo(g,this._buildIdpRequest())}_buildIdpRequest(g){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(m.idToken=g),m}}function B(v){return bl(v.auth,new k(v),v.bypassAuthState)}function J(v){const{auth:g,user:m}=v;return Me(m,g,"internal-error"),Fo(m,new k(v),v.bypassAuthState)}function ue(v){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,d.Z)(function*(v){const{auth:g,user:m}=v;return Me(m,g,"internal-error"),Ht(m,new k(v),v.bypassAuthState)})).apply(this,arguments)}class He{constructor(g,m,E,x,P=!1){this.auth=g,this.resolver=E,this.user=x,this.bypassAuthState=P,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var g=this;return new Promise(function(){var m=(0,d.Z)(function*(E,x){g.pendingPromise={resolve:E,reject:x};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(P){g.reject(P)}});return function(E,x){return m.apply(this,arguments)}}())}onAuthEvent(g){var m=this;return(0,d.Z)(function*(){const{urlResponse:E,sessionId:x,postBody:P,tenantId:$,error:se,type:Be}=g;if(se)return void m.reject(se);const Ne={auth:m.auth,requestUri:E,sessionId:x,tenantId:$||void 0,postBody:P||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(Be)(Ne))}catch(ot){m.reject(ot)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return B;case"linkViaPopup":case"linkViaRedirect":return ue;case"reauthViaPopup":case"reauthViaRedirect":return J;default:Zt(this.auth,"internal-error")}}resolve(g){qn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){qn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Le=new Jt(2e3,1e4);function un(){return(un=(0,d.Z)(function*(v,g,m){const E=nr(v);Bi(v,g,qr);const x=S(E,m);return new Fa(E,"signInViaPopup",g,x).executeNotNull()})).apply(this,arguments)}function Kn(){return(Kn=(0,d.Z)(function*(v,g,m){const E=(0,L.m9)(v);Bi(E.auth,g,qr);const x=S(E.auth,m);return new Fa(E.auth,"reauthViaPopup",g,x,E).executeNotNull()})).apply(this,arguments)}function po(){return(po=(0,d.Z)(function*(v,g,m){const E=(0,L.m9)(v);Bi(E.auth,g,qr);const x=S(E.auth,m);return new Fa(E.auth,"linkViaPopup",g,x,E).executeNotNull()})).apply(this,arguments)}let Fa=(()=>{class v extends He{constructor(m,E,x,P,$){super(m,E,P,$),this.provider=x,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var m=this;return(0,d.Z)(function*(){const E=yield m.execute();return Me(E,m.auth,"internal-error"),E})()}onExecution(){var m=this;return(0,d.Z)(function*(){qn(1===m.filter.length,"Popup operations only handle one event");const E=oo();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],E),m.authWindow.associatedEvent=E,m.resolver._originValidation(m.auth).catch(x=>{m.reject(x)}),m.resolver._isIframeWebStorageSupported(m.auth,x=>{x||m.reject(Mn(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(Mn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const m=()=>{var E,x;this.pollId=(null===(x=null===(E=this.authWindow)||void 0===E?void 0:E.window)||void 0===x?void 0:x.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Mn(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,Le.get())};m()}}return v.currentPopupAction=null,v})();const Yn=new Map;class ki extends He{constructor(g,m,E=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,E),this.eventId=null}execute(){var g=()=>super.execute,m=this;return(0,d.Z)(function*(){let E=Yn.get(m.auth._key());if(!E){try{const P=(yield function(v,g){return $t.apply(this,arguments)}(m.resolver,m.auth))?yield g().call(m):null;E=()=>Promise.resolve(P)}catch(x){E=()=>Promise.reject(x)}Yn.set(m.auth._key(),E)}return m.bypassAuthState||Yn.set(m.auth._key(),()=>Promise.resolve(null)),E()})()}onAuthEvent(g){var m=()=>super.onAuthEvent,E=this;return(0,d.Z)(function*(){if("signInViaRedirect"===g.type)return m().call(E,g);if("unknown"!==g.type){if(g.eventId){const x=yield E.auth._redirectUserForId(g.eventId);if(x)return E.user=x,m().call(E,g);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,d.Z)(function*(){})()}cleanUp(){}}function $t(){return($t=(0,d.Z)(function*(v,g){const m=xp(g),E=Ap(v);if(!(yield E._isAvailable()))return!1;const x="true"===(yield E._get(m));return yield E._remove(m),x})).apply(this,arguments)}function La(v,g){return ad.apply(this,arguments)}function ad(){return(ad=(0,d.Z)(function*(v,g){return Ap(v)._set(xp(g),"true")})).apply(this,arguments)}function Ap(v){return Yt(v._redirectPersistence)}function xp(v){return di("pendingRedirect",v.config.apiKey,v.name)}function mo(){return(mo=(0,d.Z)(function*(v,g,m){const E=nr(v);Bi(v,g,qr);const x=S(E,m);return yield La(x,E),x._openRedirect(E,g,"signInViaRedirect")})).apply(this,arguments)}function Fl(){return(Fl=(0,d.Z)(function*(v,g,m){const E=(0,L.m9)(v);Bi(E.auth,g,qr);const x=S(E.auth,m);yield La(x,E.auth);const P=yield Vl(E);return x._openRedirect(E.auth,g,"reauthViaRedirect",P)})).apply(this,arguments)}function Rc(){return(Rc=(0,d.Z)(function*(v,g,m){const E=(0,L.m9)(v);Bi(E.auth,g,qr);const x=S(E.auth,m);yield yn(!1,E,g.providerId),yield La(x,E.auth);const P=yield Vl(E);return x._openRedirect(E.auth,g,"linkViaRedirect",P)})).apply(this,arguments)}function Ah(){return(Ah=(0,d.Z)(function*(v,g){return yield nr(v)._initializationPromise,Ll(v,g,!1)})).apply(this,arguments)}function Ll(v,g){return cd.apply(this,arguments)}function cd(){return(cd=(0,d.Z)(function*(v,g,m=!1){const E=nr(v),x=S(E,g),$=yield new ki(E,x,m).execute();return $&&!m&&(delete $.user._redirectEventId,yield E._persistUserIfCurrent($.user),yield E._setRedirectUser(null,g)),$})).apply(this,arguments)}function Vl(v){return Pc.apply(this,arguments)}function Pc(){return(Pc=(0,d.Z)(function*(v){const g=oo(`${v.uid}:::`);return v._redirectEventId=g,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),g})).apply(this,arguments)}class Db{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let m=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(g,E)&&(m=!0,this.sendToConsumer(g,E),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return xh(v);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=g,m=!0)),m}sendToConsumer(g,m){var E;if(g.error&&!xh(g)){const x=(null===(E=g.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";m.onError(Mn(this.auth,x))}else m.onAuthEvent(g)}isEventForConsumer(g,m){const E=null===m.eventId||!!g.eventId&&g.eventId===m.eventId;return m.filter.includes(g.type)&&E}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ud(g))}saveEventToCache(g){this.cachedEventUids.add(ud(g)),this.lastProcessedEventTime=Date.now()}}function ud(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(g=>g).join("-")}function xh({type:v,error:g}){return"unknown"===v&&"auth/no-auth-event"===(null==g?void 0:g.code)}function Mh(v){return kc.apply(this,arguments)}function kc(){return(kc=(0,d.Z)(function*(v,g={}){return Tt(v,"GET","/v1/projects",g)})).apply(this,arguments)}const zo=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Go=/^https?/;function Rh(){return(Rh=(0,d.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:g}=yield Mh(v);for(const m of g)try{if(D_(m))return}catch(E){}Zt(v,"unauthorized-domain")})).apply(this,arguments)}function D_(v){const g=pt(),{protocol:m,hostname:E}=new URL(g);if(v.startsWith("chrome-extension://")){const $=new URL(v);return""===$.hostname&&""===E?"chrome-extension:"===m&&v.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===m&&$.hostname===E}if(!Go.test(m))return!1;if(zo.test(v))return E===v;const x=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+x+"|"+x+")$","i").test(E)}const Ib=new Jt(3e4,6e4);function pi(){const v=kt().___jsl;if(null==v?void 0:v.H)for(const g of Object.keys(v.H))if(v.H[g].r=v.H[g].r||[],v.H[g].L=v.H[g].L||[],v.H[g].r=[...v.H[g].L],v.CP)for(let m=0;m<v.CP.length;m++)v.CP[m]=null}let dd=null;function Ph(v){return dd=dd||function(v){return new Promise((g,m)=>{var E,x,P;function $(){pi(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{pi(),m(Mn(v,"network-request-failed"))},timeout:Ib.get()})}if(null===(x=null===(E=kt().gapi)||void 0===E?void 0:E.iframes)||void 0===x?void 0:x.Iframe)g(gapi.iframes.getContext());else{if(!(null===(P=kt().gapi)||void 0===P?void 0:P.load)){const se=Yr("iframefcb");return kt()[se]=()=>{gapi.load?$():m(Mn(v,"network-request-failed"))},Ih(`https://apis.google.com/js/api.js?onload=${se}`)}$()}}).catch(g=>{throw dd=null,g})}(v),dd}const I_=new Jt(5e3,15e3),Rp={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},kh=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Tb(v){const g=v.config;Me(g.authDomain,v,"auth-domain-config-required");const m=g.emulator?Ze(g,"emulator/auth/iframe"):`https://${v.config.authDomain}/__/auth/iframe`,E={apiKey:g.apiKey,appName:v.name,v:le.SDK_VERSION},x=kh.get(v.config.apiHost);x&&(E.eid=x);const P=v._getFrameworks();return P.length&&(E.fw=P.join(",")),`${m}?${(0,L.xO)(E).slice(1)}`}function Pp(){return Pp=(0,d.Z)(function*(v){const g=yield Ph(v),m=kt().gapi;return Me(m,v,"internal-error"),g.open({where:document.body,url:Tb(v),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Rp,dontclear:!0},E=>new Promise(function(){var x=(0,d.Z)(function*(P,$){yield E.restyle({setHideOnLeave:!1});const se=Mn(v,"network-request-failed"),Be=kt().setTimeout(()=>{$(se)},I_.get());function Ne(){kt().clearTimeout(Be),P(E)}E.ping(Ne).then(Ne,()=>{$(se)})});return function(P,$){return x.apply(this,arguments)}}()))}),Pp.apply(this,arguments)}const Sb={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ys{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(g){}}}function x_(v,g,m,E,x,P){Me(v.config.authDomain,v,"auth-domain-config-required"),Me(v.config.apiKey,v,"invalid-api-key");const $={apiKey:v.config.apiKey,appName:v.name,authType:m,redirectUrl:E,v:le.SDK_VERSION,eventId:x};if(g instanceof qr){g.setDefaultLanguage(v.languageCode),$.providerId=g.providerId||"",(0,L.xb)(g.getCustomParameters())||($.customParameters=JSON.stringify(g.getCustomParameters()));for(const[Be,Ne]of Object.entries(P||{}))$[Be]=Ne}if(g instanceof Wi){const Be=g.getScopes().filter(Ne=>""!==Ne);Be.length>0&&($.scopes=Be.join(","))}v.tenantId&&($.tid=v.tenantId);const se=$;for(const Be of Object.keys(se))void 0===se[Be]&&delete se[Be];return`${function({config:v}){return v.emulator?Ze(v,"emulator/auth/handler"):`https://${v.authDomain}/__/auth/handler`}(v)}?${(0,L.xO)(se).slice(1)}`}const kp="webStorageSupport";class M_ extends class{constructor(g){this.factorId=g}_process(g,m,E){switch(m.type){case"enroll":return this._finalizeEnroll(g,m.credential,E);case"signin":return this._finalizeSignIn(g,m.credential);default:return cr("unexpected MultiFactorSessionType")}}}{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new M_(g)}_finalizeEnroll(g,m,E){return function(v,g){return Tt(v,"POST","/v2/accounts/mfaEnrollment:finalize",nn(v,g))}(g,{idToken:m,displayName:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,m){return function(v,g){return Tt(v,"POST","/v2/accounts/mfaSignIn:finalize",nn(v,g))}(g,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Ab=(()=>{class v{constructor(){}static assertion(m){return M_._fromCredential(m)}}return v.FACTOR_ID="phone",v})();var v,Vh="@firebase/auth";class xb{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var m=this;return(0,d.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const m=this.auth.onIdTokenChanged(E=>{var x;g((null===(x=E)||void 0===x?void 0:x.stsTokenManager.accessToken)||null)});this.internalListeners.set(g,m),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const m=this.internalListeners.get(g);!m||(this.internalListeners.delete(g),m(),this.updateProactiveRefresh())}assertAuthConfigured(){Me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function _o(){return window}function Fp(){return Fp=(0,d.Z)(function*(v,g,m){var E;const{BuildInfo:x}=_o();qn(g.sessionId,"AuthEvent did not contain a session ID");const P=yield Vp(g.sessionId),$={};return Qs()?$.ibi=x.packageName:hl()?$.apn=x.packageName:Zt(v,"operation-not-supported-in-this-environment"),x.displayName&&($.appDisplayName=x.displayName),$.sessionId=P,x_(v,m,g.type,void 0,null!==(E=g.eventId)&&void 0!==E?E:void 0,$)}),Fp.apply(this,arguments)}function Lp(){return Lp=(0,d.Z)(function*(v){const{BuildInfo:g}=_o(),m={};Qs()?m.iosBundleId=g.packageName:hl()?m.androidPackageName=g.packageName:Zt(v,"operation-not-supported-in-this-environment"),yield Mh(v,m)}),Lp.apply(this,arguments)}function Bh(){return Bh=(0,d.Z)(function*(v,g,m){const{cordova:E}=_o();let x=()=>{};try{yield new Promise((P,$)=>{let se=null;function Be(){var rt;P();const qt=null===(rt=E.plugins.browsertab)||void 0===rt?void 0:rt.close;"function"==typeof qt&&qt(),"function"==typeof(null==m?void 0:m.close)&&m.close()}function Ne(){se||(se=window.setTimeout(()=>{$(Mn(v,"redirect-cancelled-by-user"))},2e3))}function ot(){"visible"===(null==document?void 0:document.visibilityState)&&Ne()}g.addPassiveListener(Be),document.addEventListener("resume",Ne,!1),hl()&&document.addEventListener("visibilitychange",ot,!1),x=()=>{g.removePassiveListener(Be),document.removeEventListener("resume",Ne,!1),document.removeEventListener("visibilitychange",ot,!1),se&&window.clearTimeout(se)}})}finally{x()}}),Bh.apply(this,arguments)}function Vp(v){return Bp.apply(this,arguments)}function Bp(){return Bp=(0,d.Z)(function*(v){const g=P_(v),m=yield crypto.subtle.digest("SHA-256",g);return Array.from(new Uint8Array(m)).map(x=>x.toString(16).padStart(2,"0")).join("")}),Bp.apply(this,arguments)}function P_(v){if(qn(/[0-9a-zA-Z]+/.test(v),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(v);const g=new ArrayBuffer(v.length),m=new Uint8Array(g);for(let E=0;E<v.length;E++)m[E]=v.charCodeAt(E);return m}v="Browser",(0,le._registerComponent)(new ye.wA("auth",(g,{options:m})=>{const E=g.getProvider("app").getImmediate(),{apiKey:x,authDomain:P}=E.options;return($=>{Me(x&&!x.includes(":"),"invalid-api-key",{appName:$.name}),Me(!(null==P?void 0:P.includes(":")),"argument-error",{appName:$.name});const se={apiKey:x,authDomain:P,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Gi(v)},Be=new us($,se);return function(v,g){const m=(null==g?void 0:g.persistence)||[],E=(Array.isArray(m)?m:[m]).map(Yt);(null==g?void 0:g.errorMap)&&v._updateErrorMap(g.errorMap),v._initializeWithPersistence(E,null==g?void 0:g.popupRedirectResolver)}(Be,m),Be})(E)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,m,E)=>{g.getProvider("auth-internal").initialize()})),(0,le._registerComponent)(new ye.wA("auth-internal",g=>{const m=nr(g.getProvider("auth").getImmediate());return new xb(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,le.registerVersion)(Vh,"0.19.3",void 0),(0,le.registerVersion)(Vh,"0.19.3","esm2017");class P0 extends Db{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(g=>{this.resolveInialized=g})}addPassiveListener(g){this.passiveListeners.add(g)}removePassiveListener(g){this.passiveListeners.delete(g)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(g){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(g)),super.onEvent(g)}initialized(){var g=this;return(0,d.Z)(function*(){yield g.initPromise})()}}function wn(v){return Lc.apply(this,arguments)}function Lc(){return Lc=(0,d.Z)(function*(v){const g=yield Qn()._get(Hl(v));return g&&(yield Qn()._remove(Hl(v))),g}),Lc.apply(this,arguments)}function md(){const v=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<20;m++){const E=Math.floor(Math.random()*g.length);v.push(g.charAt(E))}return v.join("")}function Qn(){return Yt(xl)}function Hl(v){return di("authEvent",v.config.apiKey,v.name)}function Uh(v){if(!(null==v?void 0:v.includes("?")))return{};const[g,...m]=v.split("?");return(0,L.zd)(m.join("?"))}function Vc(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Mn("no-auth-event")}}function yd(){var v;return(null===(v=null==self?void 0:self.location)||void 0===v?void 0:v.protocol)||null}function Gp(v=(0,L.z$)()){return!("file:"!==yd()&&"ionic:"!==yd()||!v.toLowerCase().match(/iphone|ipad|ipod|android/))}function bd(){try{const v=self.localStorage,g=oo();if(v)return v.setItem(g,"1"),v.removeItem(g),!function(v=(0,L.z$)()){return(0,L.w1)()&&11===(null==document?void 0:document.documentMode)||function(v=(0,L.z$)()){return/Edge\/\d+/.test(v)}(v)}()||(0,L.hl)()}catch(v){return qp()&&(0,L.hl)()}return!1}function qp(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Ua(){return("http:"===yd()||"https:"===yd()||(0,L.ru)()||Gp())&&!((0,L.b$)()||(0,L.UG)())&&bd()&&!qp()}function Ed(){return Gp()&&"undefined"!=typeof document}function $l(){return $l=(0,d.Z)(function*(){return!!Ed()&&new Promise(v=>{const g=setTimeout(()=>{v(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(g),v(!0)})})}),$l.apply(this,arguments)}const ns={LOCAL:"local",NONE:"none",SESSION:"session"},wd=Me,Wo="persistence";function Wp(v){return Zp.apply(this,arguments)}function Zp(){return Zp=(0,d.Z)(function*(v){yield v._initializationPromise;const g=Kp(),m=di(Wo,v.config.apiKey,v.name);(null==g?void 0:g.sessionStorage)&&g.sessionStorage.setItem(m,v._getPersistence())}),Zp.apply(this,arguments)}function Kp(){return"undefined"!=typeof window?window:null}const Nb=Me;class ja{constructor(){this.browserResolver=Yt(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Je,this._completeRedirectFn=Ll}_openPopup(g,m,E,x){var P=this;return(0,d.Z)(function*(){var $;qn(null===($=P.eventManagers[g._key()])||void 0===$?void 0:$.manager,"_initialize() not called before _openPopup()");const se=x_(g,m,E,pt(),x);return function(v,g,m,E=500,x=600){const P=Math.max((window.screen.availHeight-x)/2,0).toString(),$=Math.max((window.screen.availWidth-E)/2,0).toString();let se="";const Be=Object.assign(Object.assign({},Sb),{width:E.toString(),height:x.toString(),top:P,left:$}),Ne=(0,L.z$)().toLowerCase();m&&(se=Mi(Ne)?"_blank":m),dl(Ne)&&(g=g||"http://localhost",Be.scrollbars="yes");const ot=Object.entries(Be).reduce((qt,[ir,An])=>`${qt}${ir}=${An},`,"");if(function(v=(0,L.z$)()){var g;return Qs(v)&&!!(null===(g=window.navigator)||void 0===g?void 0:g.standalone)}(Ne)&&"_self"!==se)return function(v,g){const m=document.createElement("a");m.href=v,m.target=g;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(E)}(g||"",se),new ys(null);const rt=window.open(g||"",se,ot);Me(rt,v,"popup-blocked");try{rt.focus()}catch(qt){}return new ys(rt)}(g,se,oo())})()}_openRedirect(g,m,E,x){var P=this;return(0,d.Z)(function*(){return yield P._originValidation(g),v=x_(g,m,E,pt(),x),kt().location.href=v,new Promise(()=>{});var v})()}_initialize(g){const m=g._key();if(this.eventManagers[m]){const{manager:x,promise:P}=this.eventManagers[m];return x?Promise.resolve(x):(qn(P,"If manager is not set, promise should be"),P)}const E=this.initAndGetManager(g);return this.eventManagers[m]={promise:E},E}initAndGetManager(g){var m=this;return(0,d.Z)(function*(){const E=yield function(v){return Pp.apply(this,arguments)}(g),x=new Db(g);return E.register("authEvent",P=>(Me(null==P?void 0:P.authEvent,g,"invalid-auth-event"),{status:x.onEvent(P.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[g._key()]={manager:x},m.iframes[g._key()]=E,x})()}_isIframeWebStorageSupported(g,m){this.iframes[g._key()].send(kp,{type:kp},x=>{var P;const $=null===(P=null==x?void 0:x[0])||void 0===P?void 0:P[kp];void 0!==$&&m(!!$),Zt(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const m=g._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function(v){return Rh.apply(this,arguments)}(g)),this.originValidationPromises[m]}get _shouldInitProactively(){return Nn()||Ys()||Qs()}}),this.cordovaResolver=Yt(class{constructor(){this._redirectPersistence=Je,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Ll}_initialize(g){var m=this;return(0,d.Z)(function*(){const E=g._key();let x=m.eventManagers.get(E);return x||(x=new P0(g),m.eventManagers.set(E,x),m.attachCallbackListeners(g,x)),x})()}_openPopup(g){Zt(g,"operation-not-supported-in-this-environment")}_openRedirect(g,m,E,x){var P=this;return(0,d.Z)(function*(){!function(v){var g,m,E,x,P,$,se,Be,Ne,ot;const rt=_o();Me("function"==typeof(null===(g=null==rt?void 0:rt.universalLinks)||void 0===g?void 0:g.subscribe),v,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Me(void 0!==(null===(m=null==rt?void 0:rt.BuildInfo)||void 0===m?void 0:m.packageName),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Me("function"==typeof(null===(P=null===(x=null===(E=null==rt?void 0:rt.cordova)||void 0===E?void 0:E.plugins)||void 0===x?void 0:x.browsertab)||void 0===P?void 0:P.openUrl),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Me("function"==typeof(null===(Be=null===(se=null===($=null==rt?void 0:rt.cordova)||void 0===$?void 0:$.plugins)||void 0===se?void 0:se.browsertab)||void 0===Be?void 0:Be.isAvailable),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Me("function"==typeof(null===(ot=null===(Ne=null==rt?void 0:rt.cordova)||void 0===Ne?void 0:Ne.InAppBrowser)||void 0===ot?void 0:ot.open),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(g);const $=yield P._initialize(g);yield $.initialized(),$.resetRedirect(),Yn.clear(),yield P._originValidation(g);const se=function(v,g,m=null){return{type:g,eventId:m,urlResponse:null,sessionId:md(),postBody:null,tenantId:v.tenantId,error:Mn(v,"no-auth-event")}}(g,E,x);yield function(v,g){return Qn()._set(Hl(v),g)}(g,se);const Be=yield function(v,g,m){return Fp.apply(this,arguments)}(g,se,m),Ne=yield function(v){const{cordova:g}=_o();return new Promise(m=>{g.plugins.browsertab.isAvailable(E=>{let x=null;E?g.plugins.browsertab.openUrl(v):x=g.InAppBrowser.open(v,function(v=(0,L.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}()?"_blank":"_system","location=yes"),m(x)})})}(Be);return function(v,g,m){return Bh.apply(this,arguments)}(g,$,Ne)})()}_isIframeWebStorageSupported(g,m){throw new Error("Method not implemented.")}_originValidation(g){const m=g._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function(v){return Lp.apply(this,arguments)}(g)),this.originValidationPromises[m]}attachCallbackListeners(g,m){const{universalLinks:E,handleOpenURL:x,BuildInfo:P}=_o(),$=setTimeout((0,d.Z)(function*(){yield wn(g),m.onEvent(Vc())}),500),se=function(){var ot=(0,d.Z)(function*(rt){clearTimeout($);const qt=yield wn(g);let ir=null;qt&&(null==rt?void 0:rt.url)&&(ir=function(v,g){var m,E;const x=function(v){const g=Uh(v),m=g.link?decodeURIComponent(g.link):void 0,E=Uh(m).link,x=g.deep_link_id?decodeURIComponent(g.deep_link_id):void 0;return Uh(x).link||x||E||m||v}(g);if(x.includes("/__/auth/callback")){const P=Uh(x),$=P.firebaseError?function(v){try{return JSON.parse(v)}catch(g){return null}}(decodeURIComponent(P.firebaseError)):null,se=null===(E=null===(m=null==$?void 0:$.code)||void 0===m?void 0:m.split("auth/"))||void 0===E?void 0:E[1],Be=se?Mn(se):null;return Be?{type:v.type,eventId:v.eventId,tenantId:v.tenantId,error:Be,urlResponse:null,sessionId:null,postBody:null}:{type:v.type,eventId:v.eventId,tenantId:v.tenantId,sessionId:v.sessionId,urlResponse:x,postBody:null}}return null}(qt,rt.url)),m.onEvent(ir||Vc())});return function(qt){return ot.apply(this,arguments)}}();void 0!==E&&"function"==typeof E.subscribe&&E.subscribe(null,se);const Be=x,Ne=`${P.packageName.toLowerCase()}://`;_o().handleOpenURL=function(){var ot=(0,d.Z)(function*(rt){if(rt.toLowerCase().startsWith(Ne)&&se({url:rt}),"function"==typeof Be)try{Be(rt)}catch(qt){console.error(qt)}});return function(rt){return ot.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Je,this._completeRedirectFn=Ll}_initialize(g){var m=this;return(0,d.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(g)})()}_openPopup(g,m,E,x){var P=this;return(0,d.Z)(function*(){return yield P.selectUnderlyingResolver(),P.assertedUnderlyingResolver._openPopup(g,m,E,x)})()}_openRedirect(g,m,E,x){var P=this;return(0,d.Z)(function*(){return yield P.selectUnderlyingResolver(),P.assertedUnderlyingResolver._openRedirect(g,m,E,x)})()}_isIframeWebStorageSupported(g,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(g,m)}_originValidation(g){return this.assertedUnderlyingResolver._originValidation(g)}get _shouldInitProactively(){return Ed()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Nb(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var g=this;return(0,d.Z)(function*(){if(g.underlyingResolver)return;const m=yield function(){return $l.apply(this,arguments)}();g.underlyingResolver=m?g.cordovaResolver:g.browserResolver})()}}function U_(v){return v.unwrap()}function Os(v){return Fb(v)}function Fb(v){const{_tokenResponse:g}=v instanceof L.ZR?v.customData:v;if(!g)return null;if(!(v instanceof L.ZR)&&"temporaryProof"in g&&"phoneNumber"in g)return D.credentialFromResult(v);const m=g.providerId;if(!m||"password"===m)return null;let E;switch(m){case"google.com":E=Oo;break;case"facebook.com":E=hc;break;case"github.com":E=No;break;case"twitter.com":E=Zi;break;default:const{oauthIdToken:x,oauthAccessToken:P,oauthTokenSecret:$,pendingToken:se,nonce:Be}=g;return P||$||x||se?se?m.startsWith("saml.")?As._create(m,se):Ir._fromParams({providerId:m,signInMethod:m,pendingToken:se,idToken:x,accessToken:P}):new jn(m).credential({idToken:x,accessToken:P,rawNonce:Be}):null}return v instanceof L.ZR?E.credentialFromError(v):E.credentialFromResult(v)}function gi(v,g){return g.catch(m=>{throw m instanceof L.ZR&&function(v,g){var m;const E=null===(m=g.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===g.code)g.resolver=new Hh(v,function(v,g){var m;const E=(0,L.m9)(v),x=g;return Me(g.customData.operationType,E,"argument-error"),Me(null===(m=x.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,E,"argument-error"),Tc._fromError(E,x)}(v,g));else if(E){const x=Fb(g),P=g;x&&(P.credential=x,P.tenantId=E.tenantId||void 0,P.email=E.email||void 0,P.phoneNumber=E.phoneNumber||void 0)}}(v,m),m}).then(m=>{const x=m.user;return{operationType:m.operationType,credential:Os(m),additionalUserInfo:dr(m),user:yo.getOrCreate(x)}})}function j_(v,g){return vs.apply(this,arguments)}function vs(){return vs=(0,d.Z)(function*(v,g){const m=yield g;return{verificationId:m.verificationId,confirm:E=>gi(v,m.confirm(E))}}),vs.apply(this,arguments)}class Hh{constructor(g,m){this.resolver=m,this.auth=function(v){return v.wrapped()}(g)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(g){return gi(U_(this.auth),this.resolver.resolveSignIn(g))}}class yo{constructor(g){this._delegate=g,this.multiFactor=function(v){const g=(0,L.m9)(v);return gt.has(g)||gt.set(g,st._fromUser(g)),gt.get(g)}(g)}static getOrCreate(g){return yo.USER_MAP.has(g)||yo.USER_MAP.set(g,new yo(g)),yo.USER_MAP.get(g)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(g){return this._delegate.getIdTokenResult(g)}getIdToken(g){return this._delegate.getIdToken(g)}linkAndRetrieveDataWithCredential(g){return this.linkWithCredential(g)}linkWithCredential(g){var m=this;return(0,d.Z)(function*(){return gi(m.auth,Ca(m._delegate,g))})()}linkWithPhoneNumber(g,m){var E=this;return(0,d.Z)(function*(){return j_(E.auth,function(v,g,m){return Qr.apply(this,arguments)}(E._delegate,g,m))})()}linkWithPopup(g){var m=this;return(0,d.Z)(function*(){return gi(m.auth,function(v,g,m){return po.apply(this,arguments)}(m._delegate,g,ja))})()}linkWithRedirect(g){var m=this;return(0,d.Z)(function*(){return yield Wp(nr(m.auth)),function(v,g,m){return function(v,g,m){return Rc.apply(this,arguments)}(v,g,m)}(m._delegate,g,ja)})()}reauthenticateAndRetrieveDataWithCredential(g){return this.reauthenticateWithCredential(g)}reauthenticateWithCredential(g){var m=this;return(0,d.Z)(function*(){return gi(m.auth,ur(m._delegate,g))})()}reauthenticateWithPhoneNumber(g,m){return j_(this.auth,function(v,g,m){return Ol.apply(this,arguments)}(this._delegate,g,m))}reauthenticateWithPopup(g){return gi(this.auth,function(v,g,m){return Kn.apply(this,arguments)}(this._delegate,g,ja))}reauthenticateWithRedirect(g){var m=this;return(0,d.Z)(function*(){return yield Wp(nr(m.auth)),function(v,g,m){return function(v,g,m){return Fl.apply(this,arguments)}(v,g,m)}(m._delegate,g,ja)})()}sendEmailVerification(g){return function(v,g){return xs.apply(this,arguments)}(this._delegate,g)}unlink(g){var m=this;return(0,d.Z)(function*(){return yield function(v,g){return Se.apply(this,arguments)}(m._delegate,g),m})()}updateEmail(g){return function(v,g){return Xu((0,L.m9)(v),g,null)}(this._delegate,g)}updatePassword(g){return function(v,g){return Xu((0,L.m9)(v),null,g)}(this._delegate,g)}updatePhoneNumber(g){return function(v,g){return $o.apply(this,arguments)}(this._delegate,g)}updateProfile(g){return function(v,g){return vn.apply(this,arguments)}(this._delegate,g)}verifyBeforeUpdateEmail(g,m){return function(v,g,m){return Ra.apply(this,arguments)}(this._delegate,g,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}yo.USER_MAP=new WeakMap;const Uc=Me;let $h=(()=>{class v{constructor(m,E){if(this.app=m,E.isInitialized())return this._delegate=E.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:x}=m.options;Uc(x,"invalid-api-key",{appName:m.name});let P=[Ai];if("undefined"!=typeof window){P=function(v,g){const m=Kp();if(!(null==m?void 0:m.sessionStorage))return[];const E=di(Wo,v,g);switch(m.sessionStorage.getItem(E)){case ns.NONE:return[Ai];case ns.LOCAL:return[pr,Je];case ns.SESSION:return[Je];default:return[]}}(x,m.name);for(const se of[pr,xl,Je])P.includes(se)||P.push(se)}Uc(x,"invalid-api-key",{appName:m.name});const $="undefined"!=typeof window?ja:void 0;this._delegate=E.initialize({options:{persistence:P,popupRedirectResolver:$}}),this._delegate._updateErrorMap($r),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?yo.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,E){!function(v,g,m){const E=nr(v);Me(E._canInitEmulator,E,"emulator-config-failed"),Me(/^https?:\/\//.test(g),E,"invalid-emulator-scheme");const x=!!(null==m?void 0:m.disableWarnings),P=Gr(g),{host:$,port:se}=function(v){const g=Gr(v),m=/(\/\/)?([^?#/]+)/.exec(v.substr(g.length));if(!m)return{host:"",port:null};const E=m[2].split("@").pop()||"",x=/^(\[[^\]]+\])(:|$)/.exec(E);if(x){const P=x[1];return{host:P,port:o_(E.substr(P.length+1))}}{const[P,$]=E.split(":");return{host:P,port:o_($)}}}(g);E.config.emulator={url:`${P}//${$}${null===se?"":`:${se}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:$,port:se,protocol:P.replace(":",""),options:Object.freeze({disableWarnings:x})}),x||function(){function v(){const g=document.createElement("p"),m=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}(this._delegate,m,E)}applyActionCode(m){return function(v,g){return Sa.apply(this,arguments)}(this._delegate,m)}checkActionCode(m){return Aa(this._delegate,m)}confirmPasswordReset(m,E){return function(v,g,m){return wl.apply(this,arguments)}(this._delegate,m,E)}createUserWithEmailAndPassword(m,E){var x=this;return(0,d.Z)(function*(){return gi(x._delegate,function(v,g,m){return Ma.apply(this,arguments)}(x._delegate,m,E))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return function(v,g){return bh.apply(this,arguments)}(this._delegate,m)}isSignInWithEmailLink(m){return function(v,g){const m=Po.parseLink(g);return"EMAIL_SIGNIN"===(null==m?void 0:m.operation)}(0,m)}getRedirectResult(){var m=this;return(0,d.Z)(function*(){Uc(Ua(),m._delegate,"operation-not-supported-in-this-environment");const E=yield function(v,g){return Ah.apply(this,arguments)}(m._delegate,ja);return E?gi(m._delegate,Promise.resolve(E)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function(v,g){nr(v)._logFramework(g)}(this._delegate,m)}onAuthStateChanged(m,E,x){const{next:P,error:$,complete:se}=zl(m,E,x);return this._delegate.onAuthStateChanged(P,$,se)}onIdTokenChanged(m,E,x){const{next:P,error:$,complete:se}=zl(m,E,x);return this._delegate.onIdTokenChanged(P,$,se)}sendSignInLinkToEmail(m,E){return function(v,g,m){return Zn.apply(this,arguments)}(this._delegate,m,E)}sendPasswordResetEmail(m,E){return function(v,g,m){return Ta.apply(this,arguments)}(this._delegate,m,E||void 0)}setPersistence(m){var E=this;return(0,d.Z)(function*(){let x;switch(function(v,g){wd(Object.values(ns).includes(g),v,"invalid-persistence-type"),(0,L.b$)()?wd(g!==ns.SESSION,v,"unsupported-persistence-type"):(0,L.UG)()?wd(g===ns.NONE,v,"unsupported-persistence-type"):qp()?wd(g===ns.NONE||g===ns.LOCAL&&(0,L.hl)(),v,"unsupported-persistence-type"):wd(g===ns.NONE||bd(),v,"unsupported-persistence-type")}(E._delegate,m),m){case ns.SESSION:x=Je;break;case ns.LOCAL:x=(yield Yt(pr)._isAvailable())?pr:xl;break;case ns.NONE:x=Ai;break;default:return Zt("argument-error",{appName:E._delegate.name})}return E._delegate.setPersistence(x)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return gi(this._delegate,function(v){return pc.apply(this,arguments)}(this._delegate))}signInWithCredential(m){return gi(this._delegate,El(this._delegate,m))}signInWithCustomToken(m){return gi(this._delegate,function(v,g){return yc.apply(this,arguments)}(this._delegate,m))}signInWithEmailAndPassword(m,E){return gi(this._delegate,function(v,g,m){return El((0,L.m9)(v),ko.credential(g,m))}(this._delegate,m,E))}signInWithEmailLink(m,E){return gi(this._delegate,function(v,g,m){return Ku.apply(this,arguments)}(this._delegate,m,E))}signInWithPhoneNumber(m,E){return j_(this._delegate,function(v,g,m){return Ps.apply(this,arguments)}(this._delegate,m,E))}signInWithPopup(m){var E=this;return(0,d.Z)(function*(){return Uc(Ua(),E._delegate,"operation-not-supported-in-this-environment"),gi(E._delegate,function(v,g,m){return un.apply(this,arguments)}(E._delegate,m,ja))})()}signInWithRedirect(m){var E=this;return(0,d.Z)(function*(){return Uc(Ua(),E._delegate,"operation-not-supported-in-this-environment"),yield Wp(E._delegate),function(v,g,m){return function(v,g,m){return mo.apply(this,arguments)}(v,g,m)}(E._delegate,m,ja)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return function(v,g){return Cl.apply(this,arguments)}(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return v.Persistence=ns,v})();function zl(v,g,m){let E=v;"function"!=typeof v&&({next:E,error:g,complete:m}=v);const x=E;return{next:$=>x($&&yo.getOrCreate($)),error:g,complete:m}}class Cd{constructor(){this.providerId="phone",this._delegate=new D(U_(te.Z.auth()))}static credential(g,m){return D.credential(g,m)}verifyPhoneNumber(g,m){return this._delegate.verifyPhoneNumber(g,m)}unwrap(){return this._delegate}}Cd.PHONE_SIGN_IN_METHOD=D.PHONE_SIGN_IN_METHOD,Cd.PROVIDER_ID=D.PROVIDER_ID;const H_=Me;class Yp{constructor(g,m,E=te.Z.app()){var x;H_(null===(x=E.options)||void 0===x?void 0:x.apiKey,"invalid-api-key",{appName:E.name}),this._delegate=new ho(g,m,E.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(v){v.INTERNAL.registerComponent(new ye.wA("auth-compat",g=>{const m=g.getProvider("app-compat").getImmediate(),E=g.getProvider("auth");return new $h(m,E)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:ko,FacebookAuthProvider:hc,GithubAuthProvider:No,GoogleAuthProvider:Oo,OAuthProvider:jn,SAMLAuthProvider:fc,PhoneAuthProvider:Cd,PhoneMultiFactorGenerator:Ab,RecaptchaVerifier:Yp,TwitterAuthProvider:Zi,Auth:$h,AuthCredential:va,Error:L.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),v.registerVersion("@firebase/auth-compat","0.2.3")}(te.Z)},4995:function(Ye,be){!function(N){"use strict";function d(ve){return Array.prototype.slice.call(ve)}function te(ve){return new Promise(function(X,_e){ve.onsuccess=function(){X(ve.result)},ve.onerror=function(){_e(ve.error)}})}function L(ve,X,_e){var Pe,Ce=new Promise(function(qe,ke){te(Pe=ve[X].apply(ve,_e)).then(qe,ke)});return Ce.request=Pe,Ce}function le(ve,X,_e){var Pe=L(ve,X,_e);return Pe.then(function(Ce){if(Ce)return new G(Ce,Pe.request)})}function oe(ve,X,_e){_e.forEach(function(Pe){Object.defineProperty(ve.prototype,Pe,{get:function(){return this[X][Pe]},set:function(Ce){this[X][Pe]=Ce}})})}function me(ve,X,_e,Pe){Pe.forEach(function(Ce){Ce in _e.prototype&&(ve.prototype[Ce]=function(){return L(this[X],Ce,arguments)})})}function ne(ve,X,_e,Pe){Pe.forEach(function(Ce){Ce in _e.prototype&&(ve.prototype[Ce]=function(){return this[X][Ce].apply(this[X],arguments)})})}function ae(ve,X,_e,Pe){Pe.forEach(function(Ce){Ce in _e.prototype&&(ve.prototype[Ce]=function(){return le(this[X],Ce,arguments)})})}function he(ve){this._index=ve}function G(ve,X){this._cursor=ve,this._request=X}function z(ve){this._store=ve}function Y(ve){this._tx=ve,this.complete=new Promise(function(X,_e){ve.oncomplete=function(){X()},ve.onerror=function(){_e(ve.error)},ve.onabort=function(){_e(ve.error)}})}function je(ve,X,_e){this._db=ve,this.oldVersion=X,this.transaction=new Y(_e)}function xe(ve){this._db=ve}oe(he,"_index",["name","keyPath","multiEntry","unique"]),me(he,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),ae(he,"_index",IDBIndex,["openCursor","openKeyCursor"]),oe(G,"_cursor",["direction","key","primaryKey","value"]),me(G,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(ve){ve in IDBCursor.prototype&&(G.prototype[ve]=function(){var X=this,_e=arguments;return Promise.resolve().then(function(){return X._cursor[ve].apply(X._cursor,_e),te(X._request).then(function(Pe){if(Pe)return new G(Pe,X._request)})})})}),z.prototype.createIndex=function(){return new he(this._store.createIndex.apply(this._store,arguments))},z.prototype.index=function(){return new he(this._store.index.apply(this._store,arguments))},oe(z,"_store",["name","keyPath","indexNames","autoIncrement"]),me(z,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),ae(z,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),ne(z,"_store",IDBObjectStore,["deleteIndex"]),Y.prototype.objectStore=function(){return new z(this._tx.objectStore.apply(this._tx,arguments))},oe(Y,"_tx",["objectStoreNames","mode"]),ne(Y,"_tx",IDBTransaction,["abort"]),je.prototype.createObjectStore=function(){return new z(this._db.createObjectStore.apply(this._db,arguments))},oe(je,"_db",["name","version","objectStoreNames"]),ne(je,"_db",IDBDatabase,["deleteObjectStore","close"]),xe.prototype.transaction=function(){return new Y(this._db.transaction.apply(this._db,arguments))},oe(xe,"_db",["name","version","objectStoreNames"]),ne(xe,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(ve){[z,he].forEach(function(X){ve in X.prototype&&(X.prototype[ve.replace("open","iterate")]=function(){var _e=d(arguments),Pe=_e[_e.length-1],Ce=this._store||this._index,qe=Ce[ve].apply(Ce,_e.slice(0,-1));qe.onsuccess=function(){Pe(qe.result)}})})}),[he,z].forEach(function(ve){ve.prototype.getAll||(ve.prototype.getAll=function(X,_e){var Pe=this,Ce=[];return new Promise(function(qe){Pe.iterateCursor(X,function(ke){ke?(Ce.push(ke.value),void 0===_e||Ce.length!=_e?ke.continue():qe(Ce)):qe(Ce)})})})}),N.openDb=function(ve,X,_e){var Pe=L(indexedDB,"open",[ve,X]),Ce=Pe.request;return Ce&&(Ce.onupgradeneeded=function(qe){_e&&_e(new je(Ce.result,qe.oldVersion,Ce.transaction))}),Pe.then(function(qe){return new xe(qe)})},N.deleteDb=function(ve){return L(indexedDB,"deleteDatabase",[ve])},Object.defineProperty(N,"__esModule",{value:!0})}(be)},8410:(Ye,be,N)=>{"use strict";N.d(be,{y:()=>ae});var d=N(584),te=N(7908),L=N(4816),le=N(7979),oe=N(5367),me=N(5044),ne=N(8706);let ae=(()=>{class Y{constructor(xe){xe&&(this._subscribe=xe)}lift(xe){const Ue=new Y;return Ue.source=this,Ue.operator=xe,Ue}subscribe(xe,Ue,tt){const ve=function(Y){return Y&&Y instanceof d.Lv||function(Y){return Y&&(0,me.m)(Y.next)&&(0,me.m)(Y.error)&&(0,me.m)(Y.complete)}(Y)&&(0,te.Nn)(Y)}(xe)?xe:new d.Hp(xe,Ue,tt);return(0,ne.x)(()=>{const{operator:X,source:_e}=this;ve.add(X?X.call(ve,_e):_e?this._subscribe(ve):this._trySubscribe(ve))}),ve}_trySubscribe(xe){try{return this._subscribe(xe)}catch(Ue){xe.error(Ue)}}forEach(xe,Ue){return new(Ue=he(Ue))((tt,ve)=>{let X;X=this.subscribe(_e=>{try{xe(_e)}catch(Pe){ve(Pe),null==X||X.unsubscribe()}},ve,tt)})}_subscribe(xe){var Ue;return null===(Ue=this.source)||void 0===Ue?void 0:Ue.subscribe(xe)}[L.L](){return this}pipe(...xe){return(0,le.U)(xe)(this)}toPromise(xe){return new(xe=he(xe))((Ue,tt)=>{let ve;this.subscribe(X=>ve=X,X=>tt(X),()=>Ue(ve))})}}return Y.create=je=>new Y(je),Y})();function he(Y){var je;return null!==(je=null!=Y?Y:oe.v.Promise)&&void 0!==je?je:Promise}},273:(Ye,be,N)=>{"use strict";N.d(be,{x:()=>ne});var d=N(8410),te=N(7908);const le=(0,N(4893).d)(he=>function(){he(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var oe=N(3980),me=N(8706);let ne=(()=>{class he extends d.y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(z){const Y=new ae(this,this);return Y.operator=z,Y}_throwIfClosed(){if(this.closed)throw new le}next(z){(0,me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){const Y=this.observers.slice();for(const je of Y)je.next(z)}})}error(z){(0,me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=z;const{observers:Y}=this;for(;Y.length;)Y.shift().error(z)}})}complete(){(0,me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:z}=this;for(;z.length;)z.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var z;return(null===(z=this.observers)||void 0===z?void 0:z.length)>0}_trySubscribe(z){return this._throwIfClosed(),super._trySubscribe(z)}_subscribe(z){return this._throwIfClosed(),this._checkFinalizedStatuses(z),this._innerSubscribe(z)}_innerSubscribe(z){const{hasError:Y,isStopped:je,observers:xe}=this;return Y||je?te.Lc:(xe.push(z),new te.w0(()=>(0,oe.P)(xe,z)))}_checkFinalizedStatuses(z){const{hasError:Y,thrownError:je,isStopped:xe}=this;Y?z.error(je):xe&&z.complete()}asObservable(){const z=new d.y;return z.source=this,z}}return he.create=(G,z)=>new ae(G,z),he})();class ae extends ne{constructor(G,z){super(),this.destination=G,this.source=z}next(G){var z,Y;null===(Y=null===(z=this.destination)||void 0===z?void 0:z.next)||void 0===Y||Y.call(z,G)}error(G){var z,Y;null===(Y=null===(z=this.destination)||void 0===z?void 0:z.error)||void 0===Y||Y.call(z,G)}complete(){var G,z;null===(z=null===(G=this.destination)||void 0===G?void 0:G.complete)||void 0===z||z.call(G)}_subscribe(G){var z,Y;return null!==(Y=null===(z=this.source)||void 0===z?void 0:z.subscribe(G))&&void 0!==Y?Y:te.Lc}}},584:(Ye,be,N)=>{"use strict";N.d(be,{Hp:()=>je,Lv:()=>Y});var d=N(5044),te=N(7908),L=N(5367),le=N(5160),oe=N(6921);const me=he("C",void 0,void 0);function he(X,_e,Pe){return{kind:X,value:_e,error:Pe}}var G=N(2496),z=N(8706);class Y extends te.w0{constructor(_e){super(),this.isStopped=!1,_e?(this.destination=_e,(0,te.Nn)(_e)&&_e.add(this)):this.destination=ve}static create(_e,Pe,Ce){return new je(_e,Pe,Ce)}next(_e){this.isStopped?tt(he("N",_e,void 0),this):this._next(_e)}error(_e){this.isStopped?tt(he("E",void 0,_e),this):(this.isStopped=!0,this._error(_e))}complete(){this.isStopped?tt(me,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(_e){this.destination.next(_e)}_error(_e){try{this.destination.error(_e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class je extends Y{constructor(_e,Pe,Ce){let qe;if(super(),(0,d.m)(_e))qe=_e;else if(_e){let ke;({next:qe,error:Pe,complete:Ce}=_e),this&&L.v.useDeprecatedNextContext?(ke=Object.create(_e),ke.unsubscribe=()=>this.unsubscribe()):ke=_e,qe=null==qe?void 0:qe.bind(ke),Pe=null==Pe?void 0:Pe.bind(ke),Ce=null==Ce?void 0:Ce.bind(ke)}this.destination={next:qe?xe(qe):oe.Z,error:xe(null!=Pe?Pe:Ue),complete:Ce?xe(Ce):oe.Z}}}function xe(X,_e){return(...Pe)=>{try{X(...Pe)}catch(Ce){L.v.useDeprecatedSynchronousErrorHandling?(0,z.O)(Ce):(0,le.h)(Ce)}}}function Ue(X){throw X}function tt(X,_e){const{onStoppedNotification:Pe}=L.v;Pe&&G.z.setTimeout(()=>Pe(X,_e))}const ve={closed:!0,next:oe.Z,error:Ue,complete:oe.Z}},7908:(Ye,be,N)=>{"use strict";N.d(be,{Lc:()=>me,w0:()=>oe,Nn:()=>ne});var d=N(5044);const L=(0,N(4893).d)(he=>function(z){he(this),this.message=z?`${z.length} errors occurred during unsubscription:\n${z.map((Y,je)=>`${je+1}) ${Y.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=z});var le=N(3980);class oe{constructor(G){this.initialTeardown=G,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let G;if(!this.closed){this.closed=!0;const{_parentage:z}=this;if(z)if(this._parentage=null,Array.isArray(z))for(const xe of z)xe.remove(this);else z.remove(this);const{initialTeardown:Y}=this;if((0,d.m)(Y))try{Y()}catch(xe){G=xe instanceof L?xe.errors:[xe]}const{_teardowns:je}=this;if(je){this._teardowns=null;for(const xe of je)try{ae(xe)}catch(Ue){G=null!=G?G:[],Ue instanceof L?G=[...G,...Ue.errors]:G.push(Ue)}}if(G)throw new L(G)}}add(G){var z;if(G&&G!==this)if(this.closed)ae(G);else{if(G instanceof oe){if(G.closed||G._hasParent(this))return;G._addParent(this)}(this._teardowns=null!==(z=this._teardowns)&&void 0!==z?z:[]).push(G)}}_hasParent(G){const{_parentage:z}=this;return z===G||Array.isArray(z)&&z.includes(G)}_addParent(G){const{_parentage:z}=this;this._parentage=Array.isArray(z)?(z.push(G),z):z?[z,G]:G}_removeParent(G){const{_parentage:z}=this;z===G?this._parentage=null:Array.isArray(z)&&(0,le.P)(z,G)}remove(G){const{_teardowns:z}=this;z&&(0,le.P)(z,G),G instanceof oe&&G._removeParent(this)}}oe.EMPTY=(()=>{const he=new oe;return he.closed=!0,he})();const me=oe.EMPTY;function ne(he){return he instanceof oe||he&&"closed"in he&&(0,d.m)(he.remove)&&(0,d.m)(he.add)&&(0,d.m)(he.unsubscribe)}function ae(he){(0,d.m)(he)?he():he.unsubscribe()}},5367:(Ye,be,N)=>{"use strict";N.d(be,{v:()=>d});const d={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},5583:(Ye,be,N)=>{"use strict";N.d(be,{E:()=>te});const te=new(N(8410).y)(oe=>oe.complete())},5947:(Ye,be,N)=>{"use strict";N.d(be,{D:()=>qe});var d=N(9985),te=N(4763),L=N(5222),me=N(8410),ae=N(5497),he=N(5044),G=N(8395);function Y(ke,We){if(!ke)throw new Error("Iterable cannot be null");return new me.y(Qe=>{(0,G.f)(Qe,We,()=>{const mt=ke[Symbol.asyncIterator]();(0,G.f)(Qe,We,()=>{mt.next().then(re=>{re.done?Qe.complete():Qe.next(re.value)})},0,!0)})})}var je=N(1073),xe=N(2442),Ue=N(1537),tt=N(2317),ve=N(9908),X=N(3754),_e=N(7751);function qe(ke,We){return We?function(ke,We){if(null!=ke){if((0,je.c)(ke))return function(ke,We){return(0,d.Xf)(ke).pipe((0,L.R)(We),(0,te.Q)(We))}(ke,We);if((0,Ue.z)(ke))return function(ke,We){return new me.y(Qe=>{let mt=0;return We.schedule(function(){mt===ke.length?Qe.complete():(Qe.next(ke[mt++]),Qe.closed||this.schedule())})})}(ke,We);if((0,xe.t)(ke))return function(ke,We){return(0,d.Xf)(ke).pipe((0,L.R)(We),(0,te.Q)(We))}(ke,We);if((0,ve.D)(ke))return Y(ke,We);if((0,tt.T)(ke))return function(ke,We){return new me.y(Qe=>{let mt;return(0,G.f)(Qe,We,()=>{mt=ke[ae.h](),(0,G.f)(Qe,We,()=>{let re,pe;try{({value:re,done:pe}=mt.next())}catch(Ee){return void Qe.error(Ee)}pe?Qe.complete():Qe.next(re)},0,!0)}),()=>(0,he.m)(null==mt?void 0:mt.return)&&mt.return()})}(ke,We);if((0,_e.L)(ke))return function(ke,We){return Y((0,_e.Q)(ke),We)}(ke,We)}throw(0,X.z)(ke)}(ke,We):(0,d.Xf)(ke)}},9985:(Ye,be,N)=>{"use strict";N.d(be,{Xf:()=>je});var d=N(9162),te=N(1537),L=N(2442),le=N(8410),oe=N(1073),me=N(9908),ne=N(3754),ae=N(2317),he=N(7751),G=N(5044),z=N(5160),Y=N(4816);function je(Ce){if(Ce instanceof le.y)return Ce;if(null!=Ce){if((0,oe.c)(Ce))return function(Ce){return new le.y(qe=>{const ke=Ce[Y.L]();if((0,G.m)(ke.subscribe))return ke.subscribe(qe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ce);if((0,te.z)(Ce))return function(Ce){return new le.y(qe=>{for(let ke=0;ke<Ce.length&&!qe.closed;ke++)qe.next(Ce[ke]);qe.complete()})}(Ce);if((0,L.t)(Ce))return function(Ce){return new le.y(qe=>{Ce.then(ke=>{qe.closed||(qe.next(ke),qe.complete())},ke=>qe.error(ke)).then(null,z.h)})}(Ce);if((0,me.D)(Ce))return X(Ce);if((0,ae.T)(Ce))return function(Ce){return new le.y(qe=>{for(const ke of Ce)if(qe.next(ke),qe.closed)return;qe.complete()})}(Ce);if((0,he.L)(Ce))return function(Ce){return X((0,he.Q)(Ce))}(Ce)}throw(0,ne.z)(Ce)}function X(Ce){return new le.y(qe=>{(function(Ce,qe){var ke,We,Qe,mt;return(0,d.mG)(this,void 0,void 0,function*(){try{for(ke=(0,d.KL)(Ce);!(We=yield ke.next()).done;)if(qe.next(We.value),qe.closed)return}catch(re){Qe={error:re}}finally{try{We&&!We.done&&(mt=ke.return)&&(yield mt.call(ke))}finally{if(Qe)throw Qe.error}}qe.complete()})})(Ce,qe).catch(ke=>qe.error(ke))})}},3719:(Ye,be,N)=>{"use strict";N.d(be,{T:()=>me});var d=N(5373),te=N(9985),L=N(5583),le=N(7613),oe=N(5947);function me(...ne){const ae=(0,le.yG)(ne),he=(0,le._6)(ne,1/0),G=ne;return G.length?1===G.length?(0,te.Xf)(G[0]):(0,d.J)(he)((0,oe.D)(G,ae)):L.E}},8889:(Ye,be,N)=>{"use strict";N.d(be,{Q:()=>te});var d=N(584);class te extends d.Lv{constructor(le,oe,me,ne,ae){super(le),this.onFinalize=ae,this._next=oe?function(he){try{oe(he)}catch(G){le.error(G)}}:super._next,this._error=ne?function(he){try{ne(he)}catch(G){le.error(G)}finally{this.unsubscribe()}}:super._error,this._complete=me?function(){try{me()}catch(he){le.error(he)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var le;const{closed:oe}=this;super.unsubscribe(),!oe&&(null===(le=this.onFinalize)||void 0===le||le.call(this))}}},4753:(Ye,be,N)=>{"use strict";N.d(be,{U:()=>L});var d=N(9947),te=N(8889);function L(le,oe){return(0,d.e)((me,ne)=>{let ae=0;me.subscribe(new te.Q(ne,he=>{ne.next(le.call(oe,he,ae++))}))})}},5373:(Ye,be,N)=>{"use strict";N.d(be,{J:()=>L});var d=N(5724),te=N(4623);function L(le=1/0){return(0,d.z)(te.y,le)}},5724:(Ye,be,N)=>{"use strict";N.d(be,{z:()=>ae});var d=N(4753),te=N(9985),L=N(9947),oe=(N(8395),N(8889)),ne=N(5044);function ae(he,G,z=1/0){return(0,ne.m)(G)?ae((Y,je)=>(0,d.U)((xe,Ue)=>G(Y,xe,je,Ue))((0,te.Xf)(he(Y,je))),z):("number"==typeof G&&(z=G),(0,L.e)((Y,je)=>function(he,G,z,Y,je,xe,Ue,tt){const ve=[];let X=0,_e=0,Pe=!1;const Ce=()=>{Pe&&!ve.length&&!X&&G.complete()},qe=We=>X<Y?ke(We):ve.push(We),ke=We=>{X++;let Qe=!1;(0,te.Xf)(z(We,_e++)).subscribe(new oe.Q(G,mt=>{G.next(mt)},()=>{Qe=!0},void 0,()=>{if(Qe)try{for(X--;ve.length&&X<Y;){const mt=ve.shift();ke(mt)}Ce()}catch(mt){G.error(mt)}}))};return he.subscribe(new oe.Q(G,qe,()=>{Pe=!0,Ce()})),()=>{}}(Y,je,he,z)))}},4763:(Ye,be,N)=>{"use strict";N.d(be,{Q:()=>le});var d=N(8395),te=N(9947),L=N(8889);function le(oe,me=0){return(0,te.e)((ne,ae)=>{ne.subscribe(new L.Q(ae,he=>(0,d.f)(ae,oe,()=>ae.next(he),me),()=>(0,d.f)(ae,oe,()=>ae.complete(),me),he=>(0,d.f)(ae,oe,()=>ae.error(he),me)))})}},3174:(Ye,be,N)=>{"use strict";N.d(be,{B:()=>me});var d=N(5947),te=N(9468),L=N(273),le=N(584),oe=N(9947);function me(ae={}){const{connector:he=(()=>new L.x),resetOnError:G=!0,resetOnComplete:z=!0,resetOnRefCountZero:Y=!0}=ae;return je=>{let xe=null,Ue=null,tt=null,ve=0,X=!1,_e=!1;const Pe=()=>{null==Ue||Ue.unsubscribe(),Ue=null},Ce=()=>{Pe(),xe=tt=null,X=_e=!1},qe=()=>{const ke=xe;Ce(),null==ke||ke.unsubscribe()};return(0,oe.e)((ke,We)=>{ve++,!_e&&!X&&Pe();const Qe=tt=null!=tt?tt:he();We.add(()=>{ve--,0===ve&&!_e&&!X&&(Ue=ne(qe,Y))}),Qe.subscribe(We),xe||(xe=new le.Hp({next:mt=>Qe.next(mt),error:mt=>{_e=!0,Pe(),Ue=ne(Ce,G,mt),Qe.error(mt)},complete:()=>{X=!0,Pe(),Ue=ne(Ce,z),Qe.complete()}}),(0,d.D)(ke).subscribe(xe))})(je)}}function ne(ae,he,...G){return!0===he?(ae(),null):!1===he?null:he(...G).pipe((0,te.q)(1)).subscribe(()=>ae())}},5222:(Ye,be,N)=>{"use strict";N.d(be,{R:()=>te});var d=N(9947);function te(L,le=0){return(0,d.e)((oe,me)=>{me.add(L.schedule(()=>oe.subscribe(me),le))})}},9468:(Ye,be,N)=>{"use strict";N.d(be,{q:()=>le});var d=N(5583),te=N(9947),L=N(8889);function le(oe){return oe<=0?()=>d.E:(0,te.e)((me,ne)=>{let ae=0;me.subscribe(new L.Q(ne,he=>{++ae<=oe&&(ne.next(he),oe<=ae&&ne.complete())}))})}},7384:(Ye,be,N)=>{"use strict";N.d(be,{b:()=>oe});var d=N(5044),te=N(9947),L=N(8889),le=N(4623);function oe(me,ne,ae){const he=(0,d.m)(me)||ne||ae?{next:me,error:ne,complete:ae}:me;return he?(0,te.e)((G,z)=>{var Y;null===(Y=he.subscribe)||void 0===Y||Y.call(he);let je=!0;G.subscribe(new L.Q(z,xe=>{var Ue;null===(Ue=he.next)||void 0===Ue||Ue.call(he,xe),z.next(xe)},()=>{var xe;je=!1,null===(xe=he.complete)||void 0===xe||xe.call(he),z.complete()},xe=>{var Ue;je=!1,null===(Ue=he.error)||void 0===Ue||Ue.call(he,xe),z.error(xe)},()=>{var xe,Ue;je&&(null===(xe=he.unsubscribe)||void 0===xe||xe.call(he)),null===(Ue=he.finalize)||void 0===Ue||Ue.call(he)}))}):le.y}},2869:(Ye,be,N)=>{"use strict";N.d(be,{o:()=>oe});var d=N(7908);class te extends d.w0{constructor(ne,ae){super()}schedule(ne,ae=0){return this}}const L={setInterval(...me){const{delegate:ne}=L;return((null==ne?void 0:ne.setInterval)||setInterval)(...me)},clearInterval(me){const{delegate:ne}=L;return((null==ne?void 0:ne.clearInterval)||clearInterval)(me)},delegate:void 0};var le=N(3980);class oe extends te{constructor(ne,ae){super(ne,ae),this.scheduler=ne,this.work=ae,this.pending=!1}schedule(ne,ae=0){if(this.closed)return this;this.state=ne;const he=this.id,G=this.scheduler;return null!=he&&(this.id=this.recycleAsyncId(G,he,ae)),this.pending=!0,this.delay=ae,this.id=this.id||this.requestAsyncId(G,this.id,ae),this}requestAsyncId(ne,ae,he=0){return L.setInterval(ne.flush.bind(ne,this),he)}recycleAsyncId(ne,ae,he=0){if(null!=he&&this.delay===he&&!1===this.pending)return ae;L.clearInterval(ae)}execute(ne,ae){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const he=this._execute(ne,ae);if(he)return he;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ne,ae){let G,he=!1;try{this.work(ne)}catch(z){he=!0,G=z||new Error("Scheduled action threw falsy error")}if(he)return this.unsubscribe(),G}unsubscribe(){if(!this.closed){const{id:ne,scheduler:ae}=this,{actions:he}=ae;this.work=this.state=this.scheduler=null,this.pending=!1,(0,le.P)(he,this),null!=ne&&(this.id=this.recycleAsyncId(ae,ne,null)),this.delay=null,super.unsubscribe()}}}},8843:(Ye,be,N)=>{"use strict";N.d(be,{v:()=>L});var d=N(1733);class te{constructor(oe,me=te.now){this.schedulerActionCtor=oe,this.now=me}schedule(oe,me=0,ne){return new this.schedulerActionCtor(this,oe).schedule(ne,me)}}te.now=d.l.now;class L extends te{constructor(oe,me=te.now){super(oe,me),this.actions=[],this._active=!1,this._scheduled=void 0}flush(oe){const{actions:me}=this;if(this._active)return void me.push(oe);let ne;this._active=!0;do{if(ne=oe.execute(oe.state,oe.delay))break}while(oe=me.shift());if(this._active=!1,ne){for(;oe=me.shift();)oe.unsubscribe();throw ne}}}},2210:(Ye,be,N)=>{"use strict";N.d(be,{z:()=>L,P:()=>le});var d=N(2869);const L=new(N(8843).v)(d.o),le=L},1733:(Ye,be,N)=>{"use strict";N.d(be,{l:()=>d});const d={now:()=>(d.delegate||Date).now(),delegate:void 0}},2496:(Ye,be,N)=>{"use strict";N.d(be,{z:()=>d});const d={setTimeout(...te){const{delegate:L}=d;return((null==L?void 0:L.setTimeout)||setTimeout)(...te)},clearTimeout(te){const{delegate:L}=d;return((null==L?void 0:L.clearTimeout)||clearTimeout)(te)},delegate:void 0}},5497:(Ye,be,N)=>{"use strict";N.d(be,{h:()=>te});const te="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},4816:(Ye,be,N)=>{"use strict";N.d(be,{L:()=>d});const d="function"==typeof Symbol&&Symbol.observable||"@@observable"},7613:(Ye,be,N)=>{"use strict";N.d(be,{jO:()=>le,yG:()=>oe,_6:()=>me});var d=N(5044),te=N(7398);function L(ne){return ne[ne.length-1]}function le(ne){return(0,d.m)(L(ne))?ne.pop():void 0}function oe(ne){return(0,te.K)(L(ne))?ne.pop():void 0}function me(ne,ae){return"number"==typeof L(ne)?ne.pop():ae}},3980:(Ye,be,N)=>{"use strict";function d(te,L){if(te){const le=te.indexOf(L);0<=le&&te.splice(le,1)}}N.d(be,{P:()=>d})},4893:(Ye,be,N)=>{"use strict";function d(te){const le=te(oe=>{Error.call(oe),oe.stack=(new Error).stack});return le.prototype=Object.create(Error.prototype),le.prototype.constructor=le,le}N.d(be,{d:()=>d})},8706:(Ye,be,N)=>{"use strict";N.d(be,{x:()=>L,O:()=>le});var d=N(5367);let te=null;function L(oe){if(d.v.useDeprecatedSynchronousErrorHandling){const me=!te;if(me&&(te={errorThrown:!1,error:null}),oe(),me){const{errorThrown:ne,error:ae}=te;if(te=null,ne)throw ae}}else oe()}function le(oe){d.v.useDeprecatedSynchronousErrorHandling&&te&&(te.errorThrown=!0,te.error=oe)}},8395:(Ye,be,N)=>{"use strict";function d(te,L,le,oe=0,me=!1){const ne=L.schedule(function(){le(),me?te.add(this.schedule(null,oe)):this.unsubscribe()},oe);if(te.add(ne),!me)return ne}N.d(be,{f:()=>d})},4623:(Ye,be,N)=>{"use strict";function d(te){return te}N.d(be,{y:()=>d})},1537:(Ye,be,N)=>{"use strict";N.d(be,{z:()=>d});const d=te=>te&&"number"==typeof te.length&&"function"!=typeof te},9908:(Ye,be,N)=>{"use strict";N.d(be,{D:()=>te});var d=N(5044);function te(L){return Symbol.asyncIterator&&(0,d.m)(null==L?void 0:L[Symbol.asyncIterator])}},5044:(Ye,be,N)=>{"use strict";function d(te){return"function"==typeof te}N.d(be,{m:()=>d})},1073:(Ye,be,N)=>{"use strict";N.d(be,{c:()=>L});var d=N(4816),te=N(5044);function L(le){return(0,te.m)(le[d.L])}},2317:(Ye,be,N)=>{"use strict";N.d(be,{T:()=>L});var d=N(5497),te=N(5044);function L(le){return(0,te.m)(null==le?void 0:le[d.h])}},2442:(Ye,be,N)=>{"use strict";N.d(be,{t:()=>te});var d=N(5044);function te(L){return(0,d.m)(null==L?void 0:L.then)}},7751:(Ye,be,N)=>{"use strict";N.d(be,{Q:()=>L,L:()=>le});var d=N(9162),te=N(5044);function L(oe){return(0,d.FC)(this,arguments,function*(){const ne=oe.getReader();try{for(;;){const{value:ae,done:he}=yield(0,d.qq)(ne.read());if(he)return yield(0,d.qq)(void 0);yield yield(0,d.qq)(ae)}}finally{ne.releaseLock()}})}function le(oe){return(0,te.m)(null==oe?void 0:oe.getReader)}},7398:(Ye,be,N)=>{"use strict";N.d(be,{K:()=>te});var d=N(5044);function te(L){return L&&(0,d.m)(L.schedule)}},9947:(Ye,be,N)=>{"use strict";N.d(be,{A:()=>te,e:()=>L});var d=N(5044);function te(le){return(0,d.m)(null==le?void 0:le.lift)}function L(le){return oe=>{if(te(oe))return oe.lift(function(me){try{return le(me,this)}catch(ne){this.error(ne)}});throw new TypeError("Unable to lift unknown Observable type")}}},6921:(Ye,be,N)=>{"use strict";function d(){}N.d(be,{Z:()=>d})},7979:(Ye,be,N)=>{"use strict";N.d(be,{z:()=>te,U:()=>L});var d=N(4623);function te(...le){return L(le)}function L(le){return 0===le.length?d.y:1===le.length?le[0]:function(me){return le.reduce((ne,ae)=>ae(ne),me)}}},5160:(Ye,be,N)=>{"use strict";N.d(be,{h:()=>L});var d=N(5367),te=N(2496);function L(le){te.z.setTimeout(()=>{const{onUnhandledError:oe}=d.v;if(!oe)throw le;oe(le)})}},3754:(Ye,be,N)=>{"use strict";function d(te){return new TypeError(`You provided ${null!==te&&"object"==typeof te?"an invalid object":`'${te}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}N.d(be,{z:()=>d})},5639:(Ye,be,N)=>{"use strict";var d=N(3668);let te=null;function L(){return te}const ne=new d.OlP("DocumentToken");let ae=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return(0,d.LFG)(z)},providedIn:"platform"}),n})();const G=new d.OlP("Location Initialized");let z=(()=>{class n extends ae{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return L().getBaseHref(this._doc)}onPopState(t){const r=L().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=L().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,o){Y()?this._history.pushState(t,r,o):this.location.hash=o}replaceState(t,r,o){Y()?this._history.replaceState(t,r,o):this.location.hash=o}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ne))},n.\u0275prov=d.Yz7({token:n,factory:function(){return new z((0,d.LFG)(ne))},providedIn:"platform"}),n})();function Y(){return!!window.history.pushState}function xe(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Ue(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function tt(n){return n&&"?"!==n[0]?"?"+n:n}let ve=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return function(n){const e=(0,d.LFG)(ne).location;return new Pe((0,d.LFG)(ae),e&&e.origin||"")}()},providedIn:"root"}),n})();const _e=new d.OlP("appBaseHref");let Pe=(()=>{class n extends ve{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return xe(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+tt(this._platformLocation.search),o=this._platformLocation.hash;return o&&t?`${r}${o}`:r}pushState(t,r,o,l){const h=this.prepareExternalUrl(o+tt(l));this._platformLocation.pushState(t,r,h)}replaceState(t,r,o,l){const h=this.prepareExternalUrl(o+tt(l));this._platformLocation.replaceState(t,r,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,o;null==(o=(r=this._platformLocation).historyGo)||o.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ae),d.LFG(_e,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),Ce=(()=>{class n extends ve{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=xe(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,o,l){let h=this.prepareExternalUrl(o+tt(l));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.pushState(t,r,h)}replaceState(t,r,o,l){let h=this.prepareExternalUrl(o+tt(l));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,o;null==(o=(r=this._platformLocation).historyGo)||o.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ae),d.LFG(_e,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),qe=(()=>{class n{constructor(t,r){this._subject=new d.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const o=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=Ue(Qe(o)),this._platformStrategy.onPopState(l=>{this._subject.emit({url:this.path(!0),pop:!0,state:l.state,type:l.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+tt(r))}normalize(t){return n.stripTrailingSlash(function(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,Qe(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",o=null){this._platformStrategy.pushState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+tt(r)),o)}replaceState(t,r="",o=null){this._platformStrategy.replaceState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+tt(r)),o)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,o;null==(o=(r=this._platformStrategy).historyGo)||o.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(o=>o(t,r))}subscribe(t,r,o){return this._subject.subscribe({next:t,error:r,complete:o})}}return n.normalizeQueryParams=tt,n.joinWithSlash=xe,n.stripTrailingSlash=Ue,n.\u0275fac=function(t){return new(t||n)(d.LFG(ve),d.LFG(ae))},n.\u0275prov=d.Yz7({token:n,factory:function(){return new qe((0,d.LFG)(ve),(0,d.LFG)(ae))},providedIn:"root"}),n})();function Qe(n){return n.replace(/\/index.html$/,"")}var pe=(()=>((pe=pe||{})[pe.Zero=0]="Zero",pe[pe.One=1]="One",pe[pe.Two=2]="Two",pe[pe.Few=3]="Few",pe[pe.Many=4]="Many",pe[pe.Other=5]="Other",pe))();const cs=d.kL8;class di{}let on=(()=>{class n extends di{constructor(t){super(),this.locale=t}getPluralCategory(t,r){switch(cs(r||this.locale)(t)){case pe.Zero:return"zero";case pe.One:return"one";case pe.Two:return"two";case pe.Few:return"few";case pe.Many:return"many";default:return"other"}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.soG))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class hl{constructor(e,t,r,o){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ya=(()=>{class n{constructor(t,r,o){this._viewContainer=t,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(r){throw new Error(`Cannot find a differ supporting object '${t}' of type '${function(n){return n.name||typeof n}(t)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=[];t.forEachOperation((o,l,h)=>{if(null==o.previousIndex){const p=this._viewContainer.createEmbeddedView(this._template,new hl(null,this._ngForOf,-1,-1),null===h?void 0:h),y=new fl(o,p);r.push(y)}else if(null==h)this._viewContainer.remove(null===l?void 0:l);else if(null!==l){const p=this._viewContainer.get(l);this._viewContainer.move(p,h);const y=new fl(o,p);r.push(y)}});for(let o=0;o<r.length;o++)this._perViewChange(r[o].view,r[o].record);for(let o=0,l=this._viewContainer.length;o<l;o++){const h=this._viewContainer.get(o);h.context.index=o,h.context.count=l,h.context.ngForOf=this._ngForOf}t.forEachIdentityChange(o=>{this._viewContainer.get(o.currentIndex).context.$implicit=o.item})}_perViewChange(t,r){t.context.$implicit=r.item}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.s_b),d.Y36(d.Rgc),d.Y36(d.ZZ4))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();class fl{constructor(e,t){this.record=e,this.view=t}}let zi=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new lc,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Xs("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Xs("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.s_b),d.Y36(d.Rgc))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class lc{constructor(){this.$implicit=null,this.ngIf=null}}function Xs(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,d.AaK)(e)}'.`)}class Nn{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let Ou=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const r=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let r=0;r<this._defaultViews.length;r++)this._defaultViews[r].enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),Gi=(()=>{class n{constructor(t,r,o){this.ngSwitch=o,o._addCase(),this._view=new Nn(t,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.s_b),d.Y36(d.Rgc),d.Y36(Ou,9))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),n})(),Gr=(()=>{class n{constructor(t,r,o){this._ngEl=t,this._differs=r,this._renderer=o,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){const[o,l]=t.split(".");null!=(r=null!=r&&l?`${r}${l}`:r)?this._renderer.setStyle(this._ngEl.nativeElement,o,r):this._renderer.removeStyle(this._ngEl.nativeElement,o)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(d.aQg),d.Y36(d.Qsj))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),n})();class va{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class mp{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}onDestroy(e){}}const dh=new mp,_p=new va;let Fu=(()=>{class n{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if((0,d.QGY)(t))return dh;if((0,d.F4k)(t))return _p;throw function(n,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${(0,d.AaK)(n)}'`)}(n,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.sBO,16))},n.\u0275pipe=d.Yjl({name:"async",type:n,pure:!1}),n})(),to=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[{provide:di,useClass:on}]}),n})();const mh="browser";function Lr(n){return"server"===n}let vp=(()=>{class n{}return n.\u0275prov=(0,d.Yz7)({token:n,providedIn:"root",factory:()=>new _l((0,d.LFG)(ne),window)}),n})();class _l{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const l=o.shadowRoot;if(l){const h=l.getElementById(e)||l.querySelector(`[name="${e}"]`);if(h)return h}o=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,o=t.top+this.window.pageYOffset,l=this.offset();this.window.scrollTo(r-l[0],o-l[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Ro(this.window.history)||Ro(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function Ro(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class ko extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var n;n=new ko,te||(te=n)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=(qr=qr||document.querySelector("base"),qr?qr.getAttribute("href"):null);return null==t?null:function(n){jn=jn||document.createElement("a"),jn.setAttribute("href",n);const e=jn.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){qr=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[o,l]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(o.trim()===e)return decodeURIComponent(l)}return null}(document.cookie,e)}}let jn,qr=null;const Oo=new d.OlP("TRANSITION_ID"),sn=[{provide:d.ip1,useFactory:function(n,e,t){return()=>{t.get(d.CZH).donePromise.then(()=>{const r=L(),o=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let l=0;l<o.length;l++)r.remove(o[l])})}},deps:[Oo,ne,d.zs3],multi:!0}];class As{static init(){(0,d.VLi)(new As)}addToWindow(e){d.dqk.getAngularTestability=(r,o=!0)=>{const l=e.findTestabilityInTree(r,o);if(null==l)throw new Error("Could not find testability for element.");return l},d.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),d.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),d.dqk.frameworkStabilizers||(d.dqk.frameworkStabilizers=[]),d.dqk.frameworkStabilizers.push(r=>{const o=d.dqk.getAllAngularTestabilities();let l=o.length,h=!1;const p=function(y){h=h||y,l--,0==l&&r(h)};o.forEach(function(y){y.whenStable(p)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const o=e.getTestability(t);return null!=o?o:r?L().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let yl=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const hs=new d.OlP("EventManagerPlugins");let yn=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(o=>o.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,o){return this._findPluginFor(r).addEventListener(t,r,o)}addGlobalEventListener(t,r,o){return this._findPluginFor(r).addGlobalEventListener(t,r,o)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const o=this._plugins;for(let l=0;l<o.length;l++){const h=o[l];if(h.supports(t))return this._eventNameToPlugin.set(t,h),h}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(hs),d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class no{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const o=L().getGlobalEventTarget(this._doc,e);if(!o)throw new Error(`Unsupported event target ${o} for event ${t}`);return this.addEventListener(o,t,r)}}let Fo=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),r.add(o))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),rr=(()=>{class n extends Fo{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,o){t.forEach(l=>{const h=this._doc.createElement("style");h.textContent=l,o.push(r.appendChild(h))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(bl),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,o)=>{this._addStylesToHost(t,o,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(bl))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ne))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();function bl(n){L().remove(n)}const ro={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},El=/%COMP%/g;function Yi(n,e,t){for(let r=0;r<e.length;r++){let o=e[r];Array.isArray(o)?Yi(n,o,t):(o=o.replace(El,n),t.push(o))}return t}function Qi(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let io=(()=>{class n{constructor(t,r,o){this.eventManager=t,this.sharedStylesHost=r,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new Lo(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case d.ifc.Emulated:{let o=this.rendererByCompId.get(r.id);return o||(o=new Ta(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,o)),o.applyToHost(t),o}case 1:case d.ifc.ShadowDom:return new bc(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const o=Yi(r.id,r.styles,[]);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(yn),d.LFG(rr),d.LFG(d.AFp))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class Lo{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(ro[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,o){if(o){t=o+":"+t;const l=ro[o];l?e.setAttributeNS(l,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const o=ro[r];o?e.removeAttributeNS(o,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,o){o&(d.JOm.DashCase|d.JOm.Important)?e.style.setProperty(t,r,o&d.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&d.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Qi(r)):this.eventManager.addEventListener(e,t,Qi(r))}}class Ta extends Lo{constructor(e,t,r,o){super(e),this.component=r;const l=Yi(o+"-"+r.id,r.styles,[]);t.addStyles(l),this.contentAttr="_ngcontent-%COMP%".replace(El,o+"-"+r.id),this.hostAttr=function(n){return"_nghost-%COMP%".replace(El,n)}(o+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class bc extends Lo{constructor(e,t,r,o){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=Yi(o.id,o.styles,[]);for(let h=0;h<l.length;h++){const p=document.createElement("style");p.textContent=l[h],this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let wl=(()=>{class n extends no{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,o){return t.addEventListener(r,o,!1),()=>this.removeEventListener(t,r,o)}removeEventListener(t,r,o){return t.removeEventListener(r,o)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ne))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const Zu=["alt","control","meta","shift"],so={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},En={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Ku={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let h_=(()=>{class n extends no{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,o){const l=n.parseEventName(r),h=n.eventCallback(l.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>L().onAndCancel(t,l.domEventName,h))}static parseEventName(t){const r=t.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const l=n._normalizeKey(r.pop());let h="";if(Zu.forEach(y=>{const C=r.indexOf(y);C>-1&&(r.splice(C,1),h+=y+".")}),h+=l,0!=r.length||0===l.length)return null;const p={};return p.domEventName=o,p.fullKey=h,p}static getEventFullKey(t){let r="",o=function(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&En.hasOwnProperty(e)&&(e=En[e]))}return so[e]||e}(t);return o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),Zu.forEach(l=>{l!=o&&Ku[l](t)&&(r+=l+".")}),r+=o,r}static eventCallback(t,r,o){return l=>{n.getEventFullKey(l)===t&&o.runGuarded(()=>r(l))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ne))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),Vo=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(t){let r=null;return r=t?new(t||n):d.LFG(Eh),r},providedIn:"root"}),n})(),Eh=(()=>{class n extends Vo{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case d.q3G.NONE:return r;case d.q3G.HTML:return(0,d.qzn)(r,"HTML")?(0,d.z3N)(r):(0,d.EiD)(this._doc,String(r)).toString();case d.q3G.STYLE:return(0,d.qzn)(r,"Style")?(0,d.z3N)(r):r;case d.q3G.SCRIPT:if((0,d.qzn)(r,"Script"))return(0,d.z3N)(r);throw new Error("unsafe value used in a script context");case d.q3G.URL:return(0,d.yhl)(r),(0,d.qzn)(r,"URL")?(0,d.z3N)(r):(0,d.mCW)(String(r));case d.q3G.RESOURCE_URL:if((0,d.qzn)(r,"ResourceURL"))return(0,d.z3N)(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,d.JVY)(t)}bypassSecurityTrustStyle(t){return(0,d.L6k)(t)}bypassSecurityTrustScript(t){return(0,d.eBb)(t)}bypassSecurityTrustUrl(t){return(0,d.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,d.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ne))},n.\u0275prov=d.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function(n){return new Eh(n.get(ne))}(d.LFG(d.zs3)),r},providedIn:"root"}),n})();const Pa=(0,d.eFA)(d._c5,"browser",[{provide:d.Lbi,useValue:mh},{provide:d.g9A,useValue:function(){ko.makeCurrent(),As.init()},multi:!0},{provide:ne,useFactory:function(){return(0,d.RDi)(document),document},deps:[]}]),wp=[[],{provide:d.zSh,useValue:"root"},{provide:d.qLn,useFactory:function(){return new d.qLn},deps:[]},{provide:hs,useClass:wl,multi:!0,deps:[ne,d.R0b,d.Lbi]},{provide:hs,useClass:h_,multi:!0,deps:[ne]},[],{provide:io,useClass:io,deps:[yn,rr,d.AFp]},{provide:d.FYo,useExisting:io},{provide:Fo,useExisting:rr},{provide:rr,useClass:rr,deps:[ne]},{provide:d.dDg,useClass:d.dDg,deps:[d.R0b]},{provide:yn,useClass:yn,deps:[hs,d.R0b]},{provide:class{},useClass:yl,deps:[]},[]];let Xu=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:d.AFp,useValue:t.appId},{provide:Oo,useExisting:d.AFp},sn]}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(n,12))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:wp,imports:[to,d.hGG]}),n})();"undefined"!=typeof window&&window;var Pn=N(5947),fs=N(7613);function st(...n){const e=(0,fs.yG)(n);return(0,Pn.D)(n,e)}var gt=N(273);class hr extends gt.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}var hn=N(8410);const{isArray:Ch}=Array,{getPrototypeOf:ps,prototype:ed,keys:td}=Object;function Al(n){if(1===n.length){const e=n[0];if(Ch(e))return{args:e,keys:null};if(function(n){return n&&"object"==typeof n&&ps(n)===ed}(e)){const t=td(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var Ml=N(4623),Je=N(4753);const{isArray:jo}=Array;function oo(n){return(0,Je.U)(e=>function(n,e){return jo(e)?n(...e):n(e)}(n,e))}function nd(n,e){return n.reduce((t,r,o)=>(t[r]=e[o],t),{})}var kt=N(8889),Ac=N(8395);function Ms(n,e,t){n?(0,Ac.f)(t,n,e):e()}const Rs=(0,N(4893).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Xi=N(5373);function Wr(...n){return(0,Xi.J)(1)((0,Pn.D)(n,(0,fs.yG)(n)))}var Oa=N(9985);function Na(n){return new hn.y(e=>{(0,Oa.Xf)(n()).subscribe(e)})}var gs=N(5583),hi=N(7908),fr=N(9947);function Sn(){return(0,fr.e)((n,e)=>{let t=null;n._refCount++;const r=new kt.Q(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const o=n._connection,l=t;t=null,o&&(!l||o===l)&&o.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class Dh extends hn.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,fr.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new hi.w0;const t=this.getSubject();e.add(this.source.subscribe(new kt.Q(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=hi.w0.EMPTY)}return e}refCount(){return Sn()(this)}}function Zr(n,e){return(0,fr.e)((t,r)=>{let o=null,l=0,h=!1;const p=()=>h&&!o&&r.complete();t.subscribe(new kt.Q(r,y=>{null==o||o.unsubscribe();let C=0;const T=l++;(0,Oa.Xf)(n(y,T)).subscribe(o=new kt.Q(r,R=>r.next(e?e(y,R,T,C++):R),()=>{o=null,p()}))},()=>{h=!0,p()}))})}var fi=N(9468);function Ri(...n){const e=(0,fs.yG)(n);return(0,fr.e)((t,r)=>{(e?Wr(n,t,e):Wr(n,t)).subscribe(r)})}function Cp(n,e,t,r,o){return(l,h)=>{let p=t,y=e,C=0;l.subscribe(new kt.Q(h,T=>{const R=C++;y=p?n(y,T,R):(p=!0,T),r&&h.next(y)},o&&(()=>{p&&h.next(y),h.complete()})))}}function xc(n,e){return(0,fr.e)(Cp(n,e,arguments.length>=2,!0))}function Kr(n,e){return(0,fr.e)((t,r)=>{let o=0;t.subscribe(new kt.Q(r,l=>n.call(e,l,o++)&&r.next(l)))})}function pr(n){return(0,fr.e)((e,t)=>{let l,r=null,o=!1;r=e.subscribe(new kt.Q(t,void 0,void 0,h=>{l=(0,Oa.Xf)(n(h,pr(n)(e))),r?(r.unsubscribe(),r=null,l.subscribe(t)):o=!0})),o&&(r.unsubscribe(),r=null,l.subscribe(t))})}var Tr=N(5724),cn=N(5044);function lo(n,e){return(0,cn.m)(e)?(0,Tr.z)(n,e,1):(0,Tr.z)(n,1)}function co(n){return n<=0?()=>gs.E:(0,fr.e)((e,t)=>{let r=[];e.subscribe(new kt.Q(t,o=>{r.push(o),n<r.length&&r.shift()},()=>{for(const o of r)t.next(o);t.complete()},void 0,()=>{r=null}))})}function Dp(n=Ih){return(0,fr.e)((e,t)=>{let r=!1;e.subscribe(new kt.Q(t,o=>{r=!0,t.next(o)},()=>r?t.complete():t.error(n())))})}function Ih(){return new Rs}function Yr(n){return(0,fr.e)((e,t)=>{let r=!1;e.subscribe(new kt.Q(t,o=>{r=!0,t.next(o)},()=>{r||t.next(n),t.complete()}))})}function _s(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Kr((o,l)=>n(o,l,r)):Ml.y,(0,fi.q)(1),t?Yr(e):Dp(()=>new Rs))}var fn=N(7384);function Ji(n){return(0,fr.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}class es{constructor(e,t){this.id=e,this.url=t}}class kl extends es{constructor(e,t,r="imperative",o=null){super(e,t),this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class uo extends es{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class id extends es{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Th extends es{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ip extends es{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Pi extends es{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Sh extends es{constructor(e,t,r,o,l){super(e,t),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=l}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ho extends es{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class v_ extends es{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ho{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class sd{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class od{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Tp{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ps{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Sp{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qr{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Ft="primary";class Ol{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function ks(n){return new Ol(n)}const fo="ngNavigationCancelingError";function Nl(n){const e=Error("NavigationCancelingError: "+n);return e[fo]=!0,e}function D(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const o={};for(let l=0;l<r.length;l++){const h=r[l],p=n[l];if(h.startsWith(":"))o[h.substring(1)]=p;else if(h!==p.path)return null}return{consumed:n.slice(0,r.length),posParams:o}}function k(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let o;for(let l=0;l<t.length;l++)if(o=t[l],!B(n[o],e[o]))return!1;return!0}function B(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((o,l)=>r[l]===o)}return n===e}function J(n){return Array.prototype.concat.apply([],n)}function ue(n){return n.length>0?n[n.length-1]:null}function He(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Le(n){return(0,d.CqO)(n)?n:(0,d.QGY)(n)?(0,Pn.D)(Promise.resolve(n)):st(n)}const un={exact:function po(n,e,t){if(!go(n.segments,e.segments)||!ki(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!po(n.children[r],e.children[r],t))return!1;return!0},subset:ts},Hn={exact:function(n,e){return k(n,e)},subset:function(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>B(n[t],e[t]))},ignored:()=>!0};function Kn(n,e,t){return un[t.paths](n.root,e.root,t.matrixParams)&&Hn[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function ts(n,e,t){return Yn(n,e,e.segments,t)}function Yn(n,e,t,r){if(n.segments.length>t.length){const o=n.segments.slice(0,t.length);return!(!go(o,t)||e.hasChildren()||!ki(o,t,r))}if(n.segments.length===t.length){if(!go(n.segments,t)||!ki(n.segments,t,r))return!1;for(const o in e.children)if(!n.children[o]||!ts(n.children[o],e.children[o],r))return!1;return!0}{const o=t.slice(0,n.segments.length),l=t.slice(n.segments.length);return!!(go(n.segments,o)&&ki(n.segments,o,r)&&n.children[Ft])&&Yn(n.children[Ft],e,l,r)}}function ki(n,e,t){return e.every((r,o)=>Hn[t](n[o].parameters,r.parameters))}class Vr{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ks(this.queryParams)),this._queryParamMap}toString(){return Mc.serialize(this)}}class $t{constructor(e,t){this.segments=e,this.children=t,this.parent=null,He(t,(r,o)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return mo(this)}}class La{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=ks(this.parameters)),this._parameterMap}toString(){return Ah(this)}}function go(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class xp{}class b_{parse(e){const t=new C_(e);return new Vr(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${ld(e.root,!0)}`,r=function(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(o=>`${Fl(t)}=${Fl(o)}`).join("&"):`${Fl(t)}=${Fl(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);var n;return`${t}${r}${"string"==typeof e.fragment?`#${n=e.fragment,encodeURI(n)}`:""}`}}const Mc=new b_;function mo(n){return n.segments.map(e=>Ah(e)).join("/")}function ld(n,e){if(!n.hasChildren())return mo(n);if(e){const t=n.children[Ft]?ld(n.children[Ft],!1):"",r=[];return He(n.children,(o,l)=>{l!==Ft&&r.push(`${l}:${ld(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function(n,e){let t=[];return He(n.children,(r,o)=>{o===Ft&&(t=t.concat(e(r,o)))}),He(n.children,(r,o)=>{o!==Ft&&(t=t.concat(e(r,o)))}),t}(n,(r,o)=>o===Ft?[ld(n.children[Ft],!1)]:[`${o}:${ld(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Ft]?`${mo(n)}/${t[0]}`:`${mo(n)}/(${t.join("//")})`}}function Eb(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Fl(n){return Eb(n).replace(/%3B/gi,";")}function E_(n){return Eb(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Rc(n){return decodeURIComponent(n)}function w_(n){return Rc(n.replace(/\+/g,"%20"))}function Ah(n){return`${E_(n.path)}${function(n){return Object.keys(n).map(e=>`;${E_(e)}=${E_(n[e])}`).join("")}(n.parameters)}`}const Vl=/^[^\/()?;=#]+/;function Pc(n){const e=n.match(Vl);return e?e[0]:""}const Cb=/^[^=?&#]+/,ud=/^[^&#]+/;class C_{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new $t([],{}):new $t([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Ft]=new $t(e,t)),r}parseSegment(){const e=Pc(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new La(Rc(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Pc(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=Pc(this.remaining);o&&(r=o,this.capture(r))}e[Rc(t)]=Rc(r)}parseQueryParam(e){const t=function(n){const e=n.match(Cb);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const h=function(n){const e=n.match(ud);return e?e[0]:""}(this.remaining);h&&(r=h,this.capture(r))}const o=w_(t),l=w_(r);if(e.hasOwnProperty(o)){let h=e[o];Array.isArray(h)||(h=[h],e[o]=h),h.push(l)}else e[o]=l}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Pc(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new Error(`Cannot parse url '${this.url}'`);let l;r.indexOf(":")>-1?(l=r.substr(0,r.indexOf(":")),this.capture(l),this.capture(":")):e&&(l=Ft);const h=this.parseChildren();t[l]=1===Object.keys(h).length?h[Ft]:new $t([],h),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class Mh{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=kc(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=kc(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=zo(e,this._root);return t.length<2?[]:t[t.length-2].children.map(o=>o.value).filter(o=>o!==e)}pathFromRoot(e){return zo(e,this._root).map(t=>t.value)}}function kc(n,e){if(n===e.value)return e;for(const t of e.children){const r=kc(n,t);if(r)return r}return null}function zo(n,e){if(n===e.value)return[e];for(const t of e.children){const r=zo(n,t);if(r.length)return r.unshift(e),r}return[]}class Go{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Oc(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Rh extends Mh{constructor(e,t){super(e),this.snapshot=t,Mp(this,e)}toString(){return this.snapshot.toString()}}function D_(n,e){const t=function(n,e){const h=new Ph([],{},{},"",{},Ft,e,null,n.root,-1,{});return new I_("",new Go(h,[]))}(n,e),r=new hr([new La("",{})]),o=new hr({}),l=new hr({}),h=new hr({}),p=new hr(""),y=new pi(r,o,h,p,l,Ft,e,t.root);return y.snapshot=t.root,new Rh(new Go(y,[]),t)}class pi{constructor(e,t,r,o,l,h,p,y){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=l,this.outlet=h,this.component=p,this._futureSnapshot=y}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Je.U)(e=>ks(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Je.U)(e=>ks(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Bl(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const o=t[r],l=t[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(l.component)break;r--}}return function(n){return n.reduce((e,t)=>({params:Ke(Ke({},e.params),t.params),data:Ke(Ke({},e.data),t.data),resolve:Ke(Ke({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Ph{constructor(e,t,r,o,l,h,p,y,C,T,R){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=l,this.outlet=h,this.component=p,this.routeConfig=y,this._urlSegment=C,this._lastPathIndex=T,this._resolve=R}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ks(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ks(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class I_ extends Mh{constructor(e,t){super(t),this.url=e,Mp(this,t)}toString(){return T_(this._root)}}function Mp(n,e){e.value._routerState=n,e.children.forEach(t=>Mp(n,t))}function T_(n){const e=n.children.length>0?` { ${n.children.map(T_).join(", ")} } `:"";return`${n.value}${e}`}function Rp(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,k(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),k(e.params,t.params)||n.params.next(t.params),function(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!k(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),k(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function kh(n,e){const t=k(n.params,e.params)&&function(n,e){return go(n,e)&&n.every((t,r)=>k(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||kh(n.parent,e.parent))}function hd(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const o=function(n,e,t){return e.children.map(r=>{for(const o of t.children)if(n.shouldReuseRoute(r.value,o.value.snapshot))return hd(n,r,o);return hd(n,r)})}(n,e,t);return new Go(r,o)}{if(n.shouldAttach(e.value)){const l=n.retrieve(e.value);if(null!==l){const h=l.route;return h.value._futureSnapshot=e.value,h.children=e.children.map(p=>hd(n,p)),h}}const r=function(n){return new pi(new hr(n.url),new hr(n.params),new hr(n.queryParams),new hr(n.fragment),new hr(n.data),n.outlet,n.component,n)}(e.value),o=e.children.map(l=>hd(n,l));return new Go(r,o)}}function Oh(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function qo(n){return"object"==typeof n&&null!=n&&n.outlets}function Nh(n,e,t,r,o){let l={};return r&&He(r,(h,p)=>{l[p]=Array.isArray(h)?h.map(y=>`${y}`):`${h}`}),new Vr(t.root===n?e:ys(t.root,n,e),l,o)}function ys(n,e,t){const r={};return He(n.children,(o,l)=>{r[l]=o===e?t:ys(o,e,t)}),new $t(n.segments,r)}class Nc{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Oh(r[0]))throw new Error("Root segment cannot have matrix parameters");const o=r.find(qo);if(o&&o!==ue(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Fh{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function kp(n,e,t){if(n||(n=new $t([],{})),0===n.segments.length&&n.hasChildren())return Fc(n,e,t);const r=function(n,e,t){let r=0,o=e;const l={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(r>=t.length)return l;const h=n.segments[o],p=t[r];if(qo(p))break;const y=`${p}`,C=r<t.length-1?t[r+1]:null;if(o>0&&void 0===y)break;if(y&&C&&"object"==typeof C&&void 0===C.outlets){if(!Vh(y,C,h))return l;r+=2}else{if(!Vh(y,{},h))return l;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(n,e,t),o=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const l=new $t(n.segments.slice(0,r.pathIndex),{});return l.children[Ft]=new $t(n.segments.slice(r.pathIndex),n.children),Fc(l,0,o)}return r.match&&0===o.length?new $t(n.segments,{}):r.match&&!n.hasChildren()?fd(n,e,t):r.match?Fc(n,0,o):fd(n,e,t)}function Fc(n,e,t){if(0===t.length)return new $t(n.segments,{});{const r=function(n){return qo(n[0])?n[0].outlets:{[Ft]:n}}(t),o={};return He(r,(l,h)=>{"string"==typeof l&&(l=[l]),null!==l&&(o[h]=kp(n.children[h],e,l))}),He(n.children,(l,h)=>{void 0===r[h]&&(o[h]=l)}),new $t(n.segments,o)}}function fd(n,e,t){const r=n.segments.slice(0,e);let o=0;for(;o<t.length;){const l=t[o];if(qo(l)){const y=M_(l.outlets);return new $t(r,y)}if(0===o&&Oh(t[0])){r.push(new La(n.segments[e].path,Ab(t[0]))),o++;continue}const h=qo(l)?l.outlets[Ft]:`${l}`,p=o<t.length-1?t[o+1]:null;h&&p&&Oh(p)?(r.push(new La(h,Ab(p))),o+=2):(r.push(new La(h,{})),o++)}return new $t(r,{})}function M_(n){const e={};return He(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=fd(new $t([],{}),0,t))}),e}function Ab(n){const e={};return He(n,(t,r)=>e[r]=`${t}`),e}function Vh(n,e,t){return n==t.path&&k(e,t.parameters)}class xb{constructor(e,t,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=o}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Rp(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const o=Oc(t);e.children.forEach(l=>{const h=l.value.outlet;this.deactivateRoutes(l,o[h],r),delete o[h]}),He(o,(l,h)=>{this.deactivateRouteAndItsChildren(l,r)})}deactivateRoutes(e,t,r){const o=e.value,l=t?t.value:null;if(o===l)if(o.component){const h=r.getContext(o.outlet);h&&this.deactivateChildRoutes(e,t,h.children)}else this.deactivateChildRoutes(e,t,r);else l&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,l=Oc(e);for(const h of Object.keys(l))this.deactivateRouteAndItsChildren(l[h],o);if(r&&r.outlet){const h=r.outlet.detach(),p=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:h,route:e,contexts:p})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,l=Oc(e);for(const h of Object.keys(l))this.deactivateRouteAndItsChildren(l[h],o);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const o=Oc(t);e.children.forEach(l=>{this.activateRoutes(l,o[l.value.outlet],r),this.forwardEvent(new Sp(l.value.snapshot))}),e.children.length&&this.forwardEvent(new Tp(e.value.snapshot))}activateRoutes(e,t,r){const o=e.value,l=t?t.value:null;if(Rp(o),o===l)if(o.component){const h=r.getOrCreateContext(o.outlet);this.activateChildRoutes(e,t,h.children)}else this.activateChildRoutes(e,t,r);else if(o.component){const h=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const p=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),h.children.onOutletReAttached(p.contexts),h.attachRef=p.componentRef,h.route=p.route.value,h.outlet&&h.outlet.attach(p.componentRef,p.route.value),Rp(p.route.value),this.activateChildRoutes(e,null,h.children)}else{const p=function(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(o.snapshot),y=p?p.module.componentFactoryResolver:null;h.attachRef=null,h.route=o,h.resolver=y,h.outlet&&h.outlet.activateWith(o,y),this.activateChildRoutes(e,null,h.children)}}else this.activateChildRoutes(e,null,r)}}class Op{constructor(e,t){this.routes=e,this.module=t}}function Va(n){return"function"==typeof n}function Ba(n){return n instanceof Vr}const pd=Symbol("INITIAL_VALUE");function Ul(){return Zr(n=>function(...n){const e=(0,fs.yG)(n),t=(0,fs.jO)(n),{args:r,keys:o}=Al(n);if(0===r.length)return(0,Pn.D)([],e);const l=new hn.y(function(n,e,t=Ml.y){return r=>{Ms(e,()=>{const{length:o}=n,l=new Array(o);let h=o,p=o;for(let y=0;y<o;y++)Ms(e,()=>{const C=(0,Pn.D)(n[y],e);let T=!1;C.subscribe(new kt.Q(r,R=>{l[y]=R,T||(T=!0,p--),p||r.next(t(l.slice()))},()=>{--h||r.complete()}))},r)},r)}}(r,e,o?h=>nd(o,h):Ml.y));return t?l.pipe(oo(t)):l}(n.map(e=>e.pipe((0,fi.q)(1),Ri(pd)))).pipe(xc((e,t)=>{let r=!1;return t.reduce((o,l,h)=>o!==pd?o:(l===pd&&(r=!0),r||!1!==l&&h!==t.length-1&&!Ba(l)?o:l),e)},pd),Kr(e=>e!==pd),(0,Je.U)(e=>Ba(e)?e:!0===e),(0,fi.q)(1)))}class Bh{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new gd,this.attachRef=null}}class gd{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new Bh,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let Vp=(()=>{class n{constructor(t,r,o,l,h){this.parentContexts=t,this.location=r,this.resolver=o,this.changeDetector=h,this.activated=null,this._activatedRoute=null,this.activateEvents=new d.vpe,this.deactivateEvents=new d.vpe,this.attachEvents=new d.vpe,this.detachEvents=new d.vpe,this.name=l||Ft,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const h=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),p=this.parentContexts.getOrCreateContext(this.name).children,y=new Bp(t,p,this.location.injector);this.activated=this.location.createComponent(h,this.location.length,y),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(gd),d.Y36(d.s_b),d.Y36(d._Vd),d.$8M("name"),d.Y36(d.sBO))},n.\u0275dir=d.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class Bp{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===pi?this.route:e===gd?this.childContexts:this.parent.get(e,t)}}let P_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&d._UZ(0,"router-outlet")},directives:[Vp],encapsulation:2}),n})();function k_(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];P0(r,k0(e,r))}}function P0(n,e){n.children&&k_(n.children,e)}function k0(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function jl(n){const e=n.children&&n.children.map(jl),t=e?Ii(Ke({},n),{children:e}):Ke({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Ft&&(t.component=P_),t}function wn(n){return n.outlet||Ft}function Lc(n,e){const t=n.filter(r=>wn(r)===e);return t.push(...n.filter(r=>wn(r)!==e)),t}const Up={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function md(n,e,t){var p;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Ke({},Up):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const o=(e.matcher||D)(t,n,e);if(!o)return Ke({},Up);const l={};He(o.posParams,(y,C)=>{l[C]=y.path});const h=o.consumed.length>0?Ke(Ke({},l),o.consumed[o.consumed.length-1].parameters):l;return{matched:!0,consumedSegments:o.consumed,lastChild:o.consumed.length,parameters:h,positionalParamSegments:null!=(p=o.posParams)?p:{}}}function Qn(n,e,t,r,o="corrected"){if(t.length>0&&function(n,e,t){return t.some(r=>_d(n,e,r)&&wn(r)!==Ft)}(n,t,r)){const h=new $t(e,function(n,e,t,r){const o={};o[Ft]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const l of t)if(""===l.path&&wn(l)!==Ft){const h=new $t([],{});h._sourceSegment=n,h._segmentIndexShift=e.length,o[wn(l)]=h}return o}(n,e,r,new $t(t,n.children)));return h._sourceSegment=n,h._segmentIndexShift=e.length,{segmentGroup:h,slicedSegments:[]}}if(0===t.length&&function(n,e,t){return t.some(r=>_d(n,e,r))}(n,t,r)){const h=new $t(n.segments,function(n,e,t,r,o,l){const h={};for(const p of r)if(_d(n,t,p)&&!o[wn(p)]){const y=new $t([],{});y._sourceSegment=n,y._segmentIndexShift="legacy"===l?n.segments.length:e.length,h[wn(p)]=y}return Ke(Ke({},o),h)}(n,e,t,r,n.children,o));return h._sourceSegment=n,h._segmentIndexShift=e.length,{segmentGroup:h,slicedSegments:t}}const l=new $t(n.segments,n.children);return l._sourceSegment=n,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:t}}function _d(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function O_(n,e,t,r){return!!(wn(n)===r||r!==Ft&&_d(e,t,n))&&("**"===n.path||md(e,n,t).matched)}function Hp(n,e,t){return 0===e.length&&!n.children[t]}class Vc{constructor(e){this.segmentGroup=e||null}}class $p{constructor(e){this.urlTree=e}}function jh(n){return new hn.y(e=>e.error(new Vc(n)))}function N_(n){return new hn.y(e=>e.error(new $p(n)))}function Pb(n){return new hn.y(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class Gp{constructor(e,t,r,o,l){this.configLoader=t,this.urlSerializer=r,this.urlTree=o,this.config=l,this.allowRedirects=!0,this.ngModule=e.get(d.h0i)}apply(){const e=Qn(this.urlTree.root,[],[],this.config).segmentGroup,t=new $t(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,Ft).pipe((0,Je.U)(l=>this.createUrlTree(F_(l),this.urlTree.queryParams,this.urlTree.fragment))).pipe(pr(l=>{if(l instanceof $p)return this.allowRedirects=!1,this.match(l.urlTree);throw l instanceof Vc?this.noMatchError(l):l}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Ft).pipe((0,Je.U)(o=>this.createUrlTree(F_(o),e.queryParams,e.fragment))).pipe(pr(o=>{throw o instanceof Vc?this.noMatchError(o):o}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const o=e.segments.length>0?new $t([],{[Ft]:e}):e;return new Vr(o,t,r)}expandSegmentGroup(e,t,r,o){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,Je.U)(l=>new $t([],l))):this.expandSegment(e,r,t,r.segments,o,!0)}expandChildren(e,t,r){const o=[];for(const l of Object.keys(r.children))"primary"===l?o.unshift(l):o.push(l);return(0,Pn.D)(o).pipe(lo(l=>{const h=r.children[l],p=Lc(t,l);return this.expandSegmentGroup(e,p,h,l).pipe((0,Je.U)(y=>({segment:y,outlet:l})))}),xc((l,h)=>(l[h.outlet]=h.segment,l),{}),function(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Kr((o,l)=>n(o,l,r)):Ml.y,co(1),t?Yr(e):Dp(()=>new Rs))}())}expandSegment(e,t,r,o,l,h){return(0,Pn.D)(r).pipe(lo(p=>this.expandSegmentAgainstRoute(e,t,r,p,o,l,h).pipe(pr(C=>{if(C instanceof Vc)return st(null);throw C}))),_s(p=>!!p),pr((p,y)=>{if(p instanceof Rs||"EmptyError"===p.name){if(Hp(t,o,l))return st(new $t([],{}));throw new Vc(t)}throw p}))}expandSegmentAgainstRoute(e,t,r,o,l,h,p){return O_(o,t,l,h)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(e,t,o,l,h):p&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,o,l,h):jh(t):jh(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,o,l,h){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,o,h):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,l,h)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,o){const l=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?N_(l):this.lineralizeSegments(r,l).pipe((0,Tr.z)(h=>{const p=new $t(h,{});return this.expandSegment(e,p,t,h,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,l,h){const{matched:p,consumedSegments:y,lastChild:C,positionalParamSegments:T}=md(t,o,l);if(!p)return jh(t);const R=this.applyRedirectCommands(y,o.redirectTo,T);return o.redirectTo.startsWith("/")?N_(R):this.lineralizeSegments(o,R).pipe((0,Tr.z)(V=>this.expandSegment(e,t,r,V.concat(l.slice(C)),h,!1)))}matchSegmentAgainstRoute(e,t,r,o,l){if("**"===r.path)return r.loadChildren?(r._loadedConfig?st(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,Je.U)(V=>(r._loadedConfig=V,new $t(o,{})))):st(new $t(o,{}));const{matched:h,consumedSegments:p,lastChild:y}=md(t,r,o);if(!h)return jh(t);const C=o.slice(y);return this.getChildConfig(e,r,o).pipe((0,Tr.z)(R=>{const V=R.module,U=R.routes,{segmentGroup:Q,slicedSegments:fe}=Qn(t,p,C,U),De=new $t(Q.segments,Q.children);if(0===fe.length&&De.hasChildren())return this.expandChildren(V,U,De).pipe((0,Je.U)(ht=>new $t(p,ht)));if(0===U.length&&0===fe.length)return st(new $t(p,{}));const lt=wn(r)===l;return this.expandSegment(V,De,U,fe,lt?Ft:l,!0).pipe((0,Je.U)(Lt=>new $t(p.concat(Lt.segments),Lt.children)))}))}getChildConfig(e,t,r){return t.children?st(new Op(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?st(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,Tr.z)(o=>{return o?this.configLoader.load(e.injector,t).pipe((0,Je.U)(l=>(t._loadedConfig=l,l))):(n=t,new hn.y(e=>e.error(Nl(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))));var n})):st(new Op([],e))}runCanLoadGuards(e,t,r){const o=t.canLoad;return o&&0!==o.length?st(o.map(h=>{const p=e.get(h);let y;if((n=p)&&Va(n.canLoad))y=p.canLoad(t,r);else{if(!Va(p))throw new Error("Invalid CanLoad guard");y=p(t,r)}var n;return Le(y)})).pipe(Ul(),(0,fn.b)(h=>{if(!Ba(h))return;const p=Nl(`Redirecting to "${this.urlSerializer.serialize(h)}"`);throw p.url=h,p}),(0,Je.U)(h=>!0===h)):st(!0)}lineralizeSegments(e,t){let r=[],o=t.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return st(r);if(o.numberOfChildren>1||!o.children[Ft])return Pb(e.redirectTo);o=o.children[Ft]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,o){const l=this.createSegmentGroup(e,t.root,r,o);return new Vr(l,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return He(e,(o,l)=>{if("string"==typeof o&&o.startsWith(":")){const p=o.substring(1);r[l]=t[p]}else r[l]=o}),r}createSegmentGroup(e,t,r,o){const l=this.createSegments(e,t.segments,r,o);let h={};return He(t.children,(p,y)=>{h[y]=this.createSegmentGroup(e,p,r,o)}),new $t(l,h)}createSegments(e,t,r,o){return t.map(l=>l.path.startsWith(":")?this.findPosParam(e,l,o):this.findOrReturn(l,r))}findPosParam(e,t,r){const o=r[t.path.substring(1)];if(!o)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return o}findOrReturn(e,t){let r=0;for(const o of t){if(o.path===e.path)return t.splice(r),o;r++}return e}}function F_(n){const e={};for(const r of Object.keys(n.children)){const l=F_(n.children[r]);(l.segments.length>0||l.hasChildren())&&(e[r]=l)}return function(n){if(1===n.numberOfChildren&&n.children[Ft]){const e=n.children[Ft];return new $t(n.segments.concat(e.segments),e.children)}return n}(new $t(n.segments,e))}class vd{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class bd{constructor(e,t){this.component=e,this.route=t}}function qp(n,e,t){const r=n._root;return $l(r,e?e._root:null,t,[r.value])}function Ed(n,e,t){const r=function(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function $l(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const l=Oc(e);return n.children.forEach(h=>{(function(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const l=n.value,h=e?e.value:null,p=t?t.getContext(n.value.outlet):null;if(h&&l.routeConfig===h.routeConfig){const y=function(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!go(n.url,e.url);case"pathParamsOrQueryParamsChange":return!go(n.url,e.url)||!k(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!kh(n,e)||!k(n.queryParams,e.queryParams);default:return!kh(n,e)}}(h,l,l.routeConfig.runGuardsAndResolvers);y?o.canActivateChecks.push(new vd(r)):(l.data=h.data,l._resolvedData=h._resolvedData),$l(n,e,l.component?p?p.children:null:t,r,o),y&&p&&p.outlet&&p.outlet.isActivated&&o.canDeactivateChecks.push(new bd(p.outlet.component,h))}else h&&Wo(e,p,o),o.canActivateChecks.push(new vd(r)),$l(n,null,l.component?p?p.children:null:t,r,o)})(h,l[h.value.outlet],t,r.concat([h.value]),o),delete l[h.value.outlet]}),He(l,(h,p)=>Wo(h,t.getContext(p),o)),o}function Wo(n,e,t){const r=Oc(n),o=n.value;He(r,(l,h)=>{Wo(l,o.component?e?e.children.getContext(h):null:e,t)}),t.canDeactivateChecks.push(new bd(o.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,o))}class Bc{}function Os(n){return new hn.y(e=>e.error(n))}class Fb{constructor(e,t,r,o,l,h){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=o,this.paramsInheritanceStrategy=l,this.relativeLinkResolution=h}recognize(){const e=Qn(this.urlTree.root,[],[],this.config.filter(h=>void 0===h.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Ft);if(null===t)return null;const r=new Ph([],Object.freeze({}),Object.freeze(Ke({},this.urlTree.queryParams)),this.urlTree.fragment,{},Ft,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new Go(r,t),l=new I_(this.url,o);return this.inheritParamsAndData(l._root),l}inheritParamsAndData(e){const t=e.value,r=Bl(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const l of Object.keys(t.children)){const h=t.children[l],p=Lc(e,l),y=this.processSegmentGroup(p,h,l);if(null===y)return null;r.push(...y)}const o=Hh(r);return o.sort((e,t)=>e.value.outlet===Ft?-1:t.value.outlet===Ft?1:e.value.outlet.localeCompare(t.value.outlet)),o}processSegment(e,t,r,o){for(const l of e){const h=this.processSegmentAgainstRoute(l,t,r,o);if(null!==h)return h}return Hp(t,r,o)?[]:null}processSegmentAgainstRoute(e,t,r,o){if(e.redirectTo||!O_(e,t,r,o))return null;let l,h=[],p=[];if("**"===e.path){const U=r.length>0?ue(r).parameters:{};l=new Ph(r,U,Object.freeze(Ke({},this.urlTree.queryParams)),this.urlTree.fragment,zl(e),wn(e),e.component,e,Uc(t),$h(t)+r.length,Cd(e))}else{const U=md(t,e,r);if(!U.matched)return null;h=U.consumedSegments,p=r.slice(U.lastChild),l=new Ph(h,U.parameters,Object.freeze(Ke({},this.urlTree.queryParams)),this.urlTree.fragment,zl(e),wn(e),e.component,e,Uc(t),$h(t)+h.length,Cd(e))}const y=(n=e).children?n.children:n.loadChildren?n._loadedConfig.routes:[],{segmentGroup:C,slicedSegments:T}=Qn(t,h,p,y.filter(U=>void 0===U.redirectTo),this.relativeLinkResolution);var n;if(0===T.length&&C.hasChildren()){const U=this.processChildren(y,C);return null===U?null:[new Go(l,U)]}if(0===y.length&&0===T.length)return[new Go(l,[])];const R=wn(e)===o,V=this.processSegment(y,C,T,R?Ft:o);return null===V?null:[new Go(l,V)]}}function vs(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Hh(n){const e=[],t=new Set;for(const r of n){if(!vs(r)){e.push(r);continue}const o=e.find(l=>r.value.routeConfig===l.value.routeConfig);void 0!==o?(o.children.push(...r.children),t.add(o)):e.push(r)}for(const r of t){const o=Hh(r.children);e.push(new Go(r.value,o))}return e.filter(r=>!t.has(r))}function Uc(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function $h(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function zl(n){return n.data||{}}function Cd(n){return n.resolve||{}}function g(n){return Zr(e=>{const t=n(e);return t?(0,Pn.D)(t).pipe((0,Je.U)(()=>e)):st(e)})}class x extends class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const P=new d.OlP("ROUTES");class ${constructor(e,t,r,o){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=o}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const o=this.loadModuleFactory(t.loadChildren).pipe((0,Je.U)(l=>{this.onLoadEndListener&&this.onLoadEndListener(t);const h=l.create(e);return new Op(J(h.injector.get(P,void 0,d.XFs.Self|d.XFs.Optional)).map(jl),h)}),pr(l=>{throw t._loader$=void 0,l}));return t._loader$=new Dh(o,()=>new gt.x).pipe(Sn()),t._loader$}loadModuleFactory(e){return Le(e()).pipe((0,Tr.z)(t=>t instanceof d.YKP?st(t):(0,Pn.D)(this.compiler.compileModuleAsync(t))))}}class Be{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function Ne(n){throw n}function ot(n,e,t){return e.parse("/")}function rt(n,e){return st(null)}const qt={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ir={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let An=(()=>{class n{constructor(t,r,o,l,h,p,y){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=o,this.location=l,this.config=y,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new gt.x,this.errorHandler=Ne,this.malformedUriErrorHandler=ot,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:rt,afterPreactivation:rt},this.urlHandlingStrategy=new Be,this.routeReuseStrategy=new x,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=h.get(d.h0i),this.console=h.get(d.c2e);const R=h.get(d.R0b);this.isNgZoneEnabled=R instanceof d.R0b&&d.R0b.isInAngularZone(),this.resetConfig(y),this.currentUrlTree=new Vr(new $t([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new $(h,p,V=>this.triggerEvent(new ho(V)),V=>this.triggerEvent(new sd(V))),this.routerState=D_(this.currentUrlTree,this.rootComponentType),this.transitions=new hr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null==(t=this.location.getState())?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(Kr(o=>0!==o.id),(0,Je.U)(o=>Ii(Ke({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Zr(o=>{let l=!1,h=!1;return st(o).pipe((0,fn.b)(p=>{this.currentNavigation={id:p.id,initialUrl:p.currentRawUrl,extractedUrl:p.extractedUrl,trigger:p.source,extras:p.extras,previousNavigation:this.lastSuccessfulNavigation?Ii(Ke({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Zr(p=>{const y=this.browserUrlTree.toString(),C=!this.navigated||p.extractedUrl.toString()!==y||y!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||C)&&this.urlHandlingStrategy.shouldProcessUrl(p.rawUrl))return Hc(p.source)&&(this.browserUrlTree=p.extractedUrl),st(p).pipe(Zr(R=>{const V=this.transitions.getValue();return r.next(new kl(R.id,this.serializeUrl(R.extractedUrl),R.source,R.restoredState)),V!==this.transitions.getValue()?gs.E:Promise.resolve(R)}),function(n,e,t,r){return Zr(o=>function(n,e,t,r,o){return new Gp(n,e,t,r,o).apply()}(n,e,t,o.extractedUrl,r).pipe((0,Je.U)(l=>Ii(Ke({},o),{urlAfterRedirects:l}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,fn.b)(R=>{this.currentNavigation=Ii(Ke({},this.currentNavigation),{finalUrl:R.urlAfterRedirects})}),function(n,e,t,r,o){return(0,Tr.z)(l=>function(n,e,t,r,o="emptyOnly",l="legacy"){try{const h=new Fb(n,e,t,r,o,l).recognize();return null===h?Os(new Bc):st(h)}catch(h){return Os(h)}}(n,e,l.urlAfterRedirects,t(l.urlAfterRedirects),r,o).pipe((0,Je.U)(h=>Ii(Ke({},l),{targetSnapshot:h}))))}(this.rootComponentType,this.config,R=>this.serializeUrl(R),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,fn.b)(R=>{if("eager"===this.urlUpdateStrategy){if(!R.extras.skipLocationChange){const U=this.urlHandlingStrategy.merge(R.urlAfterRedirects,R.rawUrl);this.setBrowserUrl(U,R)}this.browserUrlTree=R.urlAfterRedirects}const V=new Ip(R.id,this.serializeUrl(R.extractedUrl),this.serializeUrl(R.urlAfterRedirects),R.targetSnapshot);r.next(V)}));if(C&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:V,extractedUrl:U,source:Q,restoredState:fe,extras:De}=p,lt=new kl(V,this.serializeUrl(U),Q,fe);r.next(lt);const Et=D_(U,this.rootComponentType).snapshot;return st(Ii(Ke({},p),{targetSnapshot:Et,urlAfterRedirects:U,extras:Ii(Ke({},De),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=p.rawUrl,p.resolve(null),gs.E}),g(p=>{const{targetSnapshot:y,id:C,extractedUrl:T,rawUrl:R,extras:{skipLocationChange:V,replaceUrl:U}}=p;return this.hooks.beforePreactivation(y,{navigationId:C,appliedUrlTree:T,rawUrlTree:R,skipLocationChange:!!V,replaceUrl:!!U})}),(0,fn.b)(p=>{const y=new Pi(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(y)}),(0,Je.U)(p=>Ii(Ke({},p),{guards:qp(p.targetSnapshot,p.currentSnapshot,this.rootContexts)})),function(n,e){return(0,Tr.z)(t=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:l,canDeactivateChecks:h}}=t;return 0===h.length&&0===l.length?st(Ii(Ke({},t),{guardsResult:!0})):function(n,e,t,r){return(0,Pn.D)(n).pipe((0,Tr.z)(o=>function(n,e,t,r,o){const l=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return l&&0!==l.length?st(l.map(p=>{const y=Ed(p,e,o);let C;if(function(n){return n&&Va(n.canDeactivate)}(y))C=Le(y.canDeactivate(n,e,t,r));else{if(!Va(y))throw new Error("Invalid CanDeactivate guard");C=Le(y(n,e,t,r))}return C.pipe(_s())})).pipe(Ul()):st(!0)}(o.component,o.route,t,e,r)),_s(o=>!0!==o,!0))}(h,r,o,n).pipe((0,Tr.z)(p=>p&&function(n){return"boolean"==typeof n}(p)?function(n,e,t,r){return(0,Pn.D)(e).pipe(lo(o=>Wr(function(n,e){return null!==n&&e&&e(new od(n)),st(!0)}(o.route.parent,r),function(n,e){return null!==n&&e&&e(new Ps(n)),st(!0)}(o.route,r),function(n,e,t){const r=e[e.length-1],l=e.slice(0,e.length-1).reverse().map(h=>function(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(h)).filter(h=>null!==h).map(h=>Na(()=>st(h.guards.map(y=>{const C=Ed(y,h.node,t);let T;if(function(n){return n&&Va(n.canActivateChild)}(C))T=Le(C.canActivateChild(r,n));else{if(!Va(C))throw new Error("Invalid CanActivateChild guard");T=Le(C(r,n))}return T.pipe(_s())})).pipe(Ul())));return st(l).pipe(Ul())}(n,o.path,t),function(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return st(!0);const o=r.map(l=>Na(()=>{const h=Ed(l,e,t);let p;if(function(n){return n&&Va(n.canActivate)}(h))p=Le(h.canActivate(e,n));else{if(!Va(h))throw new Error("Invalid CanActivate guard");p=Le(h(e,n))}return p.pipe(_s())}));return st(o).pipe(Ul())}(n,o.route,t))),_s(o=>!0!==o,!0))}(r,l,n,e):st(p)),(0,Je.U)(p=>Ii(Ke({},t),{guardsResult:p})))})}(this.ngModule.injector,p=>this.triggerEvent(p)),(0,fn.b)(p=>{if(Ba(p.guardsResult)){const C=Nl(`Redirecting to "${this.serializeUrl(p.guardsResult)}"`);throw C.url=p.guardsResult,C}const y=new Sh(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot,!!p.guardsResult);this.triggerEvent(y)}),Kr(p=>!!p.guardsResult||(this.restoreHistory(p),this.cancelNavigationTransition(p,""),!1)),g(p=>{if(p.guards.canActivateChecks.length)return st(p).pipe((0,fn.b)(y=>{const C=new Ho(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(C)}),Zr(y=>{let C=!1;return st(y).pipe(function(n,e){return(0,Tr.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=t;if(!o.length)return st(t);let l=0;return(0,Pn.D)(o).pipe(lo(h=>function(n,e,t,r){return function(n,e,t,r){const o=Object.keys(n);if(0===o.length)return st({});const l={};return(0,Pn.D)(o).pipe((0,Tr.z)(h=>function(n,e,t,r){const o=Ed(n,e,r);return Le(o.resolve?o.resolve(e,t):o(e,t))}(n[h],e,t,r).pipe((0,fn.b)(p=>{l[h]=p}))),co(1),(0,Tr.z)(()=>Object.keys(l).length===o.length?st(l):gs.E))}(n._resolve,n,e,r).pipe((0,Je.U)(l=>(n._resolvedData=l,n.data=Ke(Ke({},n.data),Bl(n,t).resolve),null)))}(h.route,r,n,e)),(0,fn.b)(()=>l++),co(1),(0,Tr.z)(h=>l===o.length?st(t):gs.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,fn.b)({next:()=>C=!0,complete:()=>{C||(this.restoreHistory(y),this.cancelNavigationTransition(y,"At least one route resolver didn't emit any value."))}}))}),(0,fn.b)(y=>{const C=new v_(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(C)}))}),g(p=>{const{targetSnapshot:y,id:C,extractedUrl:T,rawUrl:R,extras:{skipLocationChange:V,replaceUrl:U}}=p;return this.hooks.afterPreactivation(y,{navigationId:C,appliedUrlTree:T,rawUrlTree:R,skipLocationChange:!!V,replaceUrl:!!U})}),(0,Je.U)(p=>{const y=function(n,e,t){const r=hd(n,e._root,t?t._root:void 0);return new Rh(r,e)}(this.routeReuseStrategy,p.targetSnapshot,p.currentRouterState);return Ii(Ke({},p),{targetRouterState:y})}),(0,fn.b)(p=>{this.currentUrlTree=p.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(p.urlAfterRedirects,p.rawUrl),this.routerState=p.targetRouterState,"deferred"===this.urlUpdateStrategy&&(p.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,p),this.browserUrlTree=p.urlAfterRedirects)}),((n,e,t)=>(0,Je.U)(r=>(new xb(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,p=>this.triggerEvent(p)),(0,fn.b)({next(){l=!0},complete(){l=!0}}),Ji(()=>{var p;l||h||this.cancelNavigationTransition(o,`Navigation ID ${o.id} is not equal to the current navigation id ${this.navigationId}`),(null==(p=this.currentNavigation)?void 0:p.id)===o.id&&(this.currentNavigation=null)}),pr(p=>{if(h=!0,function(n){return n&&n[fo]}(p)){const y=Ba(p.url);y||(this.navigated=!0,this.restoreHistory(o,!0));const C=new id(o.id,this.serializeUrl(o.extractedUrl),p.message);r.next(C),y?setTimeout(()=>{const T=this.urlHandlingStrategy.merge(p.url,this.rawUrlTree),R={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Hc(o.source)};this.scheduleNavigation(T,"imperative",null,R,{resolve:o.resolve,reject:o.reject,promise:o.promise})},0):o.resolve(!1)}else{this.restoreHistory(o,!0);const y=new Th(o.id,this.serializeUrl(o.extractedUrl),p);r.next(y);try{o.resolve(this.errorHandler(p))}catch(C){o.reject(C)}}return gs.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Ke(Ke({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var p;const o={replaceUrl:!0},l=(null==(p=t.state)?void 0:p.navigationId)?t.state:null;if(l){const y=Ke({},l);delete y.navigationId,delete y.\u0275routerPageId,0!==Object.keys(y).length&&(o.state=y)}const h=this.parseUrl(t.url);this.scheduleNavigation(h,r,l,o)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){k_(t),this.config=t.map(jl),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:o,queryParams:l,fragment:h,queryParamsHandling:p,preserveFragment:y}=r,C=o||this.routerState.root,T=y?this.currentUrlTree.fragment:h;let R=null;switch(p){case"merge":R=Ke(Ke({},this.currentUrlTree.queryParams),l);break;case"preserve":R=this.currentUrlTree.queryParams;break;default:R=l||null}return null!==R&&(R=this.removeEmptyProps(R)),function(n,e,t,r,o){if(0===t.length)return Nh(e.root,e.root,e,r,o);const l=function(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Nc(!0,0,n);let e=0,t=!1;const r=n.reduce((o,l,h)=>{if("object"==typeof l&&null!=l){if(l.outlets){const p={};return He(l.outlets,(y,C)=>{p[C]="string"==typeof y?y.split("/"):y}),[...o,{outlets:p}]}if(l.segmentPath)return[...o,l.segmentPath]}return"string"!=typeof l?[...o,l]:0===h?(l.split("/").forEach((p,y)=>{0==y&&"."===p||(0==y&&""===p?t=!0:".."===p?e++:""!=p&&o.push(p))}),o):[...o,l]},[]);return new Nc(t,e,r)}(t);if(l.toRoot())return Nh(e.root,new $t([],{}),e,r,o);const h=function(n,e,t){if(n.isAbsolute)return new Fh(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const l=t.snapshot._urlSegment;return new Fh(l,l===e.root,0)}const r=Oh(n.commands[0])?0:1;return function(n,e,t){let r=n,o=e,l=t;for(;l>o;){if(l-=o,r=r.parent,!r)throw new Error("Invalid number of '../'");o=r.segments.length}return new Fh(r,!1,o-l)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(l,e,n),p=h.processChildren?Fc(h.segmentGroup,h.index,l.commands):kp(h.segmentGroup,h.index,l.commands);return Nh(h.segmentGroup,p,e,r,o)}(C,this.currentUrlTree,t,R,null!=T?T:null)}navigateByUrl(t,r={skipLocationChange:!1}){const o=Ba(t)?t:this.parseUrl(t),l=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(l,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,t)}return r}isActive(t,r){let o;if(o=!0===r?Ke({},qt):!1===r?Ke({},ir):r,Ba(t))return Kn(this.currentUrlTree,t,o);const l=this.parseUrl(t);return Kn(this.currentUrlTree,l,o)}removeEmptyProps(t){return Object.keys(t).reduce((r,o)=>{const l=t[o];return null!=l&&(r[o]=l),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new uo(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,o,l,h){var lt,Et,Lt;if(this.disposed)return Promise.resolve(!1);const p=this.transitions.value,y=Hc(r)&&p&&!Hc(p.source),C=p.rawUrl.toString()===t.toString(),T=p.id===(null==(lt=this.currentNavigation)?void 0:lt.id);if(y&&C&&T)return Promise.resolve(!0);let V,U,Q;h?(V=h.resolve,U=h.reject,Q=h.promise):Q=new Promise((ht,Cn)=>{V=ht,U=Cn});const fe=++this.navigationId;let De;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(o=this.location.getState()),De=o&&o.\u0275routerPageId?o.\u0275routerPageId:l.replaceUrl||l.skipLocationChange?null!=(Et=this.browserPageId)?Et:0:(null!=(Lt=this.browserPageId)?Lt:0)+1):De=0,this.setTransition({id:fe,targetPageId:De,source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:l,resolve:V,reject:U,promise:Q,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Q.catch(ht=>Promise.reject(ht))}setBrowserUrl(t,r){const o=this.urlSerializer.serialize(t),l=Ke(Ke({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl?this.location.replaceState(o,"",l):this.location.go(o,"",l)}restoreHistory(t,r=!1){var o,l;if("computed"===this.canceledNavigationResolution){const h=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null==(o=this.currentNavigation)?void 0:o.finalUrl)||0===h?this.currentUrlTree===(null==(l=this.currentNavigation)?void 0:l.finalUrl)&&0===h&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(h)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const o=new id(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(o),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){d.$Z()},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();function Hc(n){return"imperative"!==n}let Dd=(()=>{class n{constructor(t,r,o,l,h){this.router=t,this.route=r,this.tabIndexAttribute=o,this.renderer=l,this.el=h,this.commands=null,this.onChanges=new gt.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const r=this.renderer,o=this.el.nativeElement;null!==t?r.setAttribute(o,"tabindex",t):r.removeAttribute(o,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const t={skipLocationChange:Zo(this.skipLocationChange),replaceUrl:Zo(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Zo(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(An),d.Y36(pi),d.$8M("tabindex"),d.Y36(d.Qsj),d.Y36(d.SBq))},n.\u0275dir=d.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&d.NdJ("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[d.TTD]}),n})(),Gl=(()=>{class n{constructor(t,r,o){this.router=t,this.route=r,this.locationStrategy=o,this.commands=null,this.href=null,this.onChanges=new gt.x,this.subscription=t.events.subscribe(l=>{l instanceof uo&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,o,l,h){if(0!==t||r||o||l||h||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const p={skipLocationChange:Zo(this.skipLocationChange),replaceUrl:Zo(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,p),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Zo(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(An),d.Y36(pi),d.Y36(ve))},n.\u0275dir=d.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&d.NdJ("click",function(l){return r.onClick(l.button,l.ctrlKey,l.shiftKey,l.altKey,l.metaKey)}),2&t&&d.uIk("target",r.target)("href",r.href,d.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[d.TTD]}),n})();function Zo(n){return""===n||!!n}class Id{}class Td{preload(e,t){return st(null)}}let zh=(()=>{class n{constructor(t,r,o,l){this.router=t,this.injector=o,this.preloadingStrategy=l,this.loader=new $(o,r,y=>t.triggerEvent(new ho(y)),y=>t.triggerEvent(new sd(y)))}setUpPreloading(){this.subscription=this.router.events.pipe(Kr(t=>t instanceof uo),lo(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(d.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const o=[];for(const l of r)if(l.loadChildren&&!l.canLoad&&l._loadedConfig){const h=l._loadedConfig;o.push(this.processRoutes(h.module,h.routes))}else l.loadChildren&&!l.canLoad?o.push(this.preloadConfig(t,l)):l.children&&o.push(this.processRoutes(t,l.children));return(0,Pn.D)(o).pipe((0,Xi.J)(),(0,Je.U)(l=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?st(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,Tr.z)(l=>(r._loadedConfig=l,this.processRoutes(l.module,l.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(An),d.LFG(d.Sil),d.LFG(d.zs3),d.LFG(Id))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),Gh=(()=>{class n{constructor(t,r,o={}){this.router=t,this.viewportScroller=r,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof kl?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof uo&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Qr&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new Qr(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){d.$Z()},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const $c=new d.OlP("ROUTER_CONFIGURATION"),G_=new d.OlP("ROUTER_FORROOT_GUARD"),N0=[qe,{provide:xp,useClass:b_},{provide:An,useFactory:function(n,e,t,r,o,l,h={},p,y){const C=new An(null,n,e,t,r,o,J(l));return p&&(C.urlHandlingStrategy=p),y&&(C.routeReuseStrategy=y),function(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(h,C),h.enableTracing&&C.events.subscribe(T=>{var R,V;null==(R=console.group)||R.call(console,`Router Event: ${T.constructor.name}`),console.log(T.toString()),console.log(T),null==(V=console.groupEnd)||V.call(console)}),C},deps:[xp,gd,qe,d.zs3,d.Sil,P,$c,[class{},new d.FiY],[class{},new d.FiY]]},gd,{provide:pi,useFactory:function(n){return n.routerState.root},deps:[An]},zh,Td,class{preload(e,t){return t().pipe(pr(()=>st(null)))}},{provide:$c,useValue:{enableTracing:!1}}];function q_(){return new d.PXZ("Router",An)}let Jp=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[N0,W_(t),{provide:G_,useFactory:L0,deps:[[An,new d.FiY,new d.tp0]]},{provide:$c,useValue:r||{}},{provide:ve,useFactory:Lb,deps:[ae,[new d.tBr(_e),new d.FiY],$c]},{provide:Gh,useFactory:F0,deps:[An,vp,$c]},{provide:Id,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:Td},{provide:d.PXZ,multi:!0,useFactory:q_},[Vb,{provide:d.ip1,multi:!0,useFactory:nA,deps:[Vb]},{provide:Z_,useFactory:B0,deps:[Vb]},{provide:d.tb,multi:!0,useExisting:Z_}]]}}static forChild(t){return{ngModule:n,providers:[W_(t)]}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(G_,8),d.LFG(An,8))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();function F0(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new Gh(n,e,t)}function Lb(n,e,t={}){return t.useHash?new Ce(n,e):new Pe(n,e)}function L0(n){return"guarded"}function W_(n){return[{provide:d.deG,multi:!0,useValue:n},{provide:P,multi:!0,useValue:n}]}let Vb=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new gt.x}appInitializer(){return this.injector.get(G,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const o=new Promise(p=>r=p),l=this.injector.get(An),h=this.injector.get($c);return"disabled"===h.initialNavigation?(l.setUpLocationChangeListener(),r(!0)):"enabled"===h.initialNavigation||"enabledBlocking"===h.initialNavigation?(l.hooks.afterPreactivation=()=>this.initNavigation?st(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),l.initialNavigation()):r(!0),o})}bootstrapListener(t){const r=this.injector.get($c),o=this.injector.get(zh),l=this.injector.get(Gh),h=this.injector.get(An),p=this.injector.get(d.z2F);t===p.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&h.initialNavigation(),o.setUpPreloading(),l.init(),h.resetRootComponentType(p.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.zs3))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();function nA(n){return n.appInitializer.bind(n)}function B0(n){return n.bootstrapListener.bind(n)}const Z_=new d.OlP("Router Initializer");let j0=(()=>{class n{constructor(){this.title="epamRetroboard1",this.isLoggedIn=!1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-root"]],decls:3,vars:0,template:function(t,r){1&t&&(d.TgZ(0,"h1"),d._uU(1,"Retroboard"),d.qZA(),d._UZ(2,"router-outlet"))},directives:[Vp],styles:[".active[_ngcontent-%COMP%]{color:red}h1[_ngcontent-%COMP%]{text-transform:uppercase;text-align:center}"]}),n})();function H0(...n){const e=(0,fs.jO)(n),{args:t,keys:r}=Al(n),o=new hn.y(l=>{const{length:h}=t;if(!h)return void l.complete();const p=new Array(h);let y=h,C=h;for(let T=0;T<h;T++){let R=!1;(0,Oa.Xf)(t[T]).subscribe(new kt.Q(l,V=>{R||(R=!0,C--),p[T]=V},()=>y--,void 0,()=>{(!y||!R)&&(C||l.next(r?nd(r,p):p),l.complete())}))}});return e?o.pipe(oo(e)):o}let Bb=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.Qsj),d.Y36(d.SBq))},n.\u0275dir=d.lG2({type:n}),n})(),Sd=(()=>{class n extends Bb{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=d.n5z(n)))(r||n)}}(),n.\u0275dir=d.lG2({type:n,features:[d.qOj]}),n})();const $a=new d.OlP("NgValueAccessor"),z0={provide:$a,useExisting:(0,d.Gpc)(()=>tg),multi:!0},iA=new d.OlP("CompositionEventMode");let tg=(()=>{class n extends Bb{constructor(t,r,o){super(t,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const n=L()?L().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(iA,8))},n.\u0275dir=d.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&d.NdJ("input",function(l){return r._handleInput(l.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(l){return r._compositionEnd(l.target.value)})},features:[d._Bn([z0]),d.qOj]}),n})();function zc(n){return null==n||0===n.length}function Ub(n){return null!=n&&"number"==typeof n.length}const Oi=new d.OlP("NgValidators"),Gc=new d.OlP("NgAsyncValidators"),sA=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ot{static min(e){return function(n){return e=>{if(zc(e.value)||zc(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function(n){return e=>{if(zc(e.value)||zc(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function(n){return zc(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function(n){return zc(n.value)||sA.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function(n){return e=>zc(e.value)||!Ub(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function(n){return e=>Ub(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function(n){if(!n)return Ns;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(zc(r.value))return null;const o=r.value;return e.test(o)?null:{pattern:{requiredPattern:t,actualValue:o}}}}(e)}static nullValidator(e){return null}static compose(e){return rg(e)}static composeAsync(e){return X_(e)}}function Ns(n){return null}function Y_(n){return null!=n}function Gb(n){const e=(0,d.QGY)(n)?(0,Pn.D)(n):n;return(0,d.CqO)(e),e}function Q_(n){let e={};return n.forEach(t=>{e=null!=t?Ke(Ke({},e),t):e}),0===Object.keys(e).length?null:e}function oA(n,e){return e.map(t=>t(n))}function aA(n){return n.map(e=>function(n){return!n.validate}(e)?e:t=>e.validate(t))}function rg(n){if(!n)return null;const e=n.filter(Y_);return 0==e.length?null:function(t){return Q_(oA(t,e))}}function qh(n){return null!=n?rg(aA(n)):null}function X_(n){if(!n)return null;const e=n.filter(Y_);return 0==e.length?null:function(t){return H0(oA(t,e).map(Gb)).pipe((0,Je.U)(Q_))}}function ig(n){return null!=n?X_(aA(n)):null}function J_(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function lA(n){return n._rawValidators}function W0(n){return n._rawAsyncValidators}function qb(n){return n?Array.isArray(n)?n:[n]:[]}function ey(n,e){return Array.isArray(n)?n.includes(e):n===e}function Z0(n,e){const t=qb(e);return qb(n).forEach(o=>{ey(t,o)||t.push(o)}),t}function Wb(n,e){return qb(e).filter(t=>!ey(n,t))}class cA{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=qh(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=ig(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class rs extends cA{get formDirective(){return null}get path(){return null}}class qc extends cA{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Zb{constructor(e){this._cd=e}is(e){var t,r,o;return"submitted"===e?!!(null==(t=this._cd)?void 0:t.submitted):!!(null==(o=null==(r=this._cd)?void 0:r.control)?void 0:o[e])}}let sg=(()=>{class n extends Zb{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(qc,2))},n.\u0275dir=d.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&d.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[d.qOj]}),n})(),K0=(()=>{class n extends Zb{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(rs,10))},n.\u0275dir=d.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&d.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[d.qOj]}),n})();function xd(n,e){za(n,e),e.valueAccessor.writeValue(n.value),function(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&J0(n,e)})}(n,e),function(n,e){const t=(r,o)=>{e.valueAccessor.writeValue(r),o&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&J0(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function ag(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),lg(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Wh(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function za(n,e){const t=lA(n);null!==e.validator?n.setValidators(J_(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=W0(n);null!==e.asyncValidator?n.setAsyncValidators(J_(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const o=()=>n.updateValueAndValidity();Wh(e._rawValidators,o),Wh(e._rawAsyncValidators,o)}function lg(n,e){let t=!1;if(null!==n){if(null!==e.validator){const o=lA(n);if(Array.isArray(o)&&o.length>0){const l=o.filter(h=>h!==e.validator);l.length!==o.length&&(t=!0,n.setValidators(l))}}if(null!==e.asyncValidator){const o=W0(n);if(Array.isArray(o)&&o.length>0){const l=o.filter(h=>h!==e.asyncValidator);l.length!==o.length&&(t=!0,n.setAsyncValidators(l))}}}const r=()=>{};return Wh(e._rawValidators,r),Wh(e._rawAsyncValidators,r),t}function J0(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function tD(n,e){za(n,e)}function Yh(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function ny(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Qh="VALID",Xh="INVALID",Zc="PENDING",Jh="DISABLED";function Qb(n){return(iy(n)?n.validators:n)||null}function Xb(n){return Array.isArray(n)?qh(n):n||null}function nD(n,e){return(iy(e)?e.asyncValidators:n)||null}function Jb(n){return Array.isArray(n)?ig(n):n||null}function iy(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class eE{constructor(e,t){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=Xb(this._rawValidators),this._composedAsyncValidatorFn=Jb(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Qh}get invalid(){return this.status===Xh}get pending(){return this.status==Zc}get disabled(){return this.status===Jh}get enabled(){return this.status!==Jh}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=Xb(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=Jb(e)}addValidators(e){this.setValidators(Z0(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Z0(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Wb(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Wb(e,this._rawAsyncValidators))}hasValidator(e){return ey(this._rawValidators,e)}hasAsyncValidator(e){return ey(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Zc,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Jh,this.errors=null,this._forEachChild(r=>{r.disable(Ii(Ke({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Ii(Ke({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Qh,this._forEachChild(r=>{r.enable(Ii(Ke({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Ii(Ke({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Qh||this.status===Zc)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Jh:Qh}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Zc,this._hasOwnPendingAsyncValidator=!0;const t=Gb(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(o=>{r=r instanceof tE?r.controls.hasOwnProperty(o)?r.controls[o]:null:r instanceof mA&&r.at(o)||null}),r}(this,e)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new d.vpe,this.statusChanges=new d.vpe}_calculateStatus(){return this._allControlsDisabled()?Jh:this.errors?Xh:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Zc)?Zc:this._anyControlsHaveStatus(Xh)?Xh:Qh}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){iy(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class ug extends eE{constructor(e=null,t,r){super(Qb(t),nD(r,t)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){ny(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){ny(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class tE extends eE{constructor(e,t,r){super(Qb(t),nD(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(r=>{this._throwIfControlMissing(r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t instanceof ug?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((o,l)=>{r=t(r,o,l)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,r)=>{if(void 0===e[r])throw new Error(`Must supply a value for form control with name: '${r}'.`)})}}class mA extends eE{constructor(e,t,r){super(Qb(t),nD(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((r,o)=>{this._throwIfControlMissing(o),this.at(o).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,o)=>{this.at(o)&&this.at(o).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e instanceof ug?e.value:e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error(`Cannot find form control at index ${e}`)}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,r)=>{if(void 0===e[r])throw new Error(`Must supply a value for form control at index: ${r}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const Fs={provide:rs,useExisting:(0,d.Gpc)(()=>ef)},dg=(()=>Promise.resolve(null))();let ef=(()=>{class n extends rs{constructor(t,r){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new d.vpe,this.form=new tE({},qh(t),ig(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){dg.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),xd(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){dg.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),ny(this._directives,t)})}addFormGroup(t){dg.then(()=>{const r=this._findContainer(t.path),o=new tE({});tD(o,t),r.registerControl(t.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){dg.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){dg.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,Yh(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Oi,10),d.Y36(Gc,10))},n.\u0275dir=d.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&d.NdJ("submit",function(l){return r.onSubmit(l)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d._Bn([Fs]),d.qOj]}),n})();const vA={provide:qc,useExisting:(0,d.Gpc)(()=>sy)},rD=(()=>Promise.resolve(null))();let sy=(()=>{class n extends qc{constructor(t,r,o,l){super(),this.control=new ug,this._registered=!1,this.update=new d.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=function(n,e){if(!e)return null;let t,r,o;return Array.isArray(e),e.forEach(l=>{l.constructor===tg?t=l:function(n){return Object.getPrototypeOf(n.constructor)===Sd}(l)?r=l:o=l}),o||r||t||null}(0,l)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function(n,e){return[...e.path,n]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){xd(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){rD.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const r=t.isDisabled.currentValue,o=""===r||r&&"false"!==r;rD.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable()})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(rs,9),d.Y36(Oi,10),d.Y36(Gc,10),d.Y36($a,10))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[d._Bn([vA]),d.qOj,d.TTD]}),n})(),oy=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),sE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();const aD={provide:rs,useExisting:(0,d.Gpc)(()=>ly)};let ly=(()=>{class n extends rs{constructor(t,r){super(),this.validators=t,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new d.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(lg(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return xd(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){ag(t.control||null,t,!1),ny(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,Yh(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,o=this.form.get(t.path);r!==o&&(ag(r||null,t),o instanceof ug&&(xd(o,t),t.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);tD(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function(n,e){return lg(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){za(this.form,this),this._oldForm&&lg(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Oi,10),d.Y36(Gc,10))},n.\u0275dir=d.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&d.NdJ("submit",function(l){return r.onSubmit(l)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d._Bn([aD]),d.qOj,d.TTD]}),n})(),nf=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[sE]]}),n})(),_y=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[nf]}),n})();var de=N(8239),_g=N(3719),yy=N(4763),uk=N(1733);class PA extends gt.x{constructor(e=1/0,t=1/0,r=uk.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:l,_windowTime:h}=this;t||(r.push(e),!o&&r.push(l.now()+h)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:o}=this,l=o.slice();for(let h=0;h<l.length&&!e.closed;h+=r?1:2)e.next(l[h]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:o}=this,l=(o?1:2)*e;if(e<1/0&&l<r.length&&r.splice(0,r.length-l),!o){const h=t.now();let p=0;for(let y=1;y<r.length&&r[y]<=h;y+=2)p=y;p&&r.splice(0,p+1)}}}var gE=N(3174);function Fn(n,e,t){var r,o;let l,h=!1;return n&&"object"==typeof n?(l=null!==(r=n.bufferSize)&&void 0!==r?r:1/0,e=null!==(o=n.windowTime)&&void 0!==o?o:1/0,h=!!n.refCount,t=n.scheduler):l=null!=n?n:1/0,(0,gE.B)({connector:()=>new PA(l,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:h})}function vy(n,e){return(0,cn.m)(e)?Zr(()=>n,e):Zr(()=>n)}var Yo=N(5222),Sr=N(7233),Ls=N(7905);N(7713);var Kc=N(1572),_E=N(1177),Wt=N(4213),Yc=N(3855);const gD=new Map,_k={activated:!1,tokenObservers:[]},yk={initialized:!1,enabled:!1};function Xr(n){return gD.get(n)||_k}function Qo(n,e){gD.set(n,e)}function vg(){return yk}class mD{constructor(e,t,r,o,l){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=o,this.upperBound=l,this.pending=null,this.nextErrorWaitInterval=o,o>l)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,de.Z)(function*(){t.stop();try{t.pending=new Wt.BH,yield(n=t.getNextRun(e),new Promise(e=>{setTimeout(e,n)})),t.pending.resolve(),yield t.pending.promise,t.pending=new Wt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}var n})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const bo=new Wt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error."});function vE(n){if(!Xr(n).activated)throw bo.create("use-before-activation",{appName:n.name})}function EE(n,e){return bg.apply(this,arguments)}function bg(){return(bg=(0,de.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},o=t.getImmediate({optional:!0});o&&(r["X-Firebase-Client"]=o.getPlatformInfoString());const l={method:"POST",body:JSON.stringify(e),headers:r};let h,p;try{h=yield fetch(n,l)}catch(R){throw bo.create("fetch-network-error",{originalErrorMessage:R.message})}if(200!==h.status)throw bo.create("fetch-status-error",{httpStatus:h.status});try{p=yield h.json()}catch(R){throw bo.create("fetch-parse-error",{originalErrorMessage:R.message})}const y=p.ttl.match(/^([\d.]+)(s)$/);if(!y||!y[2]||isNaN(Number(y[1])))throw bo.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${p.ttl}`});const C=1e3*Number(y[1]),T=Date.now();return{token:p.attestationToken,expireTimeMillis:T+C,issuedAtTimeMillis:T}})).apply(this,arguments)}function jA(n,e){const{projectId:t,appId:r,apiKey:o}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${t}/apps/${r}:exchangeDebugToken?key=${o}`,body:{debug_token:e}}}const Eg="firebase-app-check-store";let Wl=null;function wE(){return Wl||(Wl=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var o;e(bo.create("storage-open",{originalErrorMessage:null===(o=r.target.error)||void 0===o?void 0:o.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Eg,{keyPath:"compositeKey"})}}catch(t){e(bo.create("storage-open",{originalErrorMessage:t.message}))}}),Wl)}function Md(){return(Md=(0,de.Z)(function*(n,e){const r=(yield wE()).transaction(Eg,"readwrite"),l=r.objectStore(Eg).put({compositeKey:n,value:e});return new Promise((h,p)=>{l.onsuccess=y=>{h()},r.onerror=y=>{var C;p(bo.create("storage-set",{originalErrorMessage:null===(C=y.target.error)||void 0===C?void 0:C.message}))}})})).apply(this,arguments)}const is=new Yc.Yd("@firebase/app-check");function Rd(n,e){return(0,Wt.hl)()?function(n,e){return function(n,e){return Md.apply(this,arguments)}(function(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{is.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function Pd(){return vg().enabled}function kd(){return Jc.apply(this,arguments)}function Jc(){return(Jc=(0,de.Z)(function*(){const n=vg();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const af={error:"UNKNOWN_ERROR"};function vD(n){return Wt.US.encodeString(JSON.stringify(n),!1)}function Ig(n){return Cy.apply(this,arguments)}function Cy(){return(Cy=(0,de.Z)(function*(n,e=!1){const t=n.app;vE(t);const r=Xr(t);let l,h,o=r.token;if(!o){const p=yield r.cachedTokenPromise;p&&lf(p)&&(o=p,Qo(t,Object.assign(Object.assign({},r),{token:o})),TE(t,{token:o.token}))}if(!e&&o&&lf(o))return{token:o.token};if(Pd()){const p=yield EE(jA(t,yield kd()),n.platformLoggerProvider);return yield Rd(t,p),Qo(t,Object.assign(Object.assign({},r),{token:p})),{token:p.token}}try{o=yield r.provider.getToken()}catch(p){is.error(p),l=p}return o?(h={token:o.token},Qo(t,Object.assign(Object.assign({},r),{token:o})),yield Rd(t,o)):h=ED(l),TE(t,h),h})).apply(this,arguments)}function Dy(n,e){const t=Xr(n),r=t.tokenObservers.filter(o=>o.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),Qo(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function TE(n,e){const t=Xr(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(o){}}function lf(n){return n.expireTimeMillis-Date.now()>0}function ED(n){return{token:vD(af),error:n}}class qA{constructor(e,t){this.app=e,this.platformLoggerProvider=t}_delete(){const{tokenObservers:e}=Xr(this.app);for(const t of e)Dy(this.app,t.next);return Promise.resolve()}}const kD="app-check-internal";(0,Kc._registerComponent)(new _E.wA("app-check",n=>function(n,e){return new qA(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(kD).initialize()})),(0,Kc._registerComponent)(new _E.wA(kD,n=>function(n){return{getToken:e=>Ig(n,e),addTokenListener:e=>function(n,e,t,r){const{app:o}=n,l=Xr(o),h={next:t,error:r,type:e},p=Object.assign(Object.assign({},l),{tokenObservers:[...l.tokenObservers,h]});if(!p.tokenRefresher){const y=function(n){const{app:e}=n;return new mD((0,de.Z)(function*(){let r;if(r=Xr(e).token?yield Ig(n,!0):yield Ig(n),r.error)throw r.error}),()=>!0,()=>{const t=Xr(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n);p.tokenRefresher=y}if(!p.tokenRefresher.isRunning()&&l.isTokenAutoRefreshEnabled&&p.tokenRefresher.start(),l.token&&lf(l.token)){const y=l.token;Promise.resolve().then(()=>t({token:y.token})).catch(()=>{})}else null==l.token&&l.cachedTokenPromise.then(y=>{y&&lf(y)&&t({token:y.token})}).catch(()=>{});Qo(o,p)}(n,"INTERNAL",e),removeTokenListener:e=>Dy(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Kc.registerVersion)("@firebase/app-check","0.5.1");class eu{constructor(){return(0,Sr.vb)("app-check")}}"undefined"!=typeof window&&window;var RE=N(7892);const rx=new d.OlP("angularfire2.auth.use-emulator"),Ty=new d.OlP("angularfire2.auth.settings"),LD=new d.OlP("angularfire2.auth.tenant-id"),ix=new d.OlP("angularfire2.auth.langugage-code"),cf=new d.OlP("angularfire2.auth.use-device-language"),kE=new d.OlP("angularfire.auth.persistence"),Sy=(n,e,t,r,o,l,h,p)=>(0,Ls.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const y=e.runOutsideAngular(()=>n.auth());if(t&&y.useEmulator(...t),r&&(y.tenantId=r),y.languageCode=o,l&&y.useDeviceLanguage(),h)for(const[C,T]of Object.entries(h))y.settings[C]=T;return p&&y.setPersistence(p),y},[t,r,o,l,h,p]);let tu=(()=>{class n{constructor(t,r,o,l,h,p,y,C,T,R,V,U){const Q=new gt.x,fe=st(void 0).pipe((0,yy.Q)(h.outsideAngular),Zr(()=>l.runOutsideAngular(()=>Promise.resolve().then(N.bind(N,9777)))),(0,Je.U)(()=>(0,Ls.on)(t,l,r)),(0,Je.U)(De=>Sy(De,l,p,C,T,R,y,V)),Fn({bufferSize:1,refCount:!1}));if(Lr(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=st(null);else{fe.pipe(_s()).subscribe();const lt=fe.pipe(Zr(ht=>ht.getRedirectResult().then(Cn=>Cn,()=>null)),Sr.iC,Fn({bufferSize:1,refCount:!1})),Et=fe.pipe(Zr(ht=>new hn.y(Cn=>({unsubscribe:l.runOutsideAngular(()=>ht.onAuthStateChanged(Er=>Cn.next(Er),Er=>Cn.error(Er),()=>Cn.complete()))})))),Lt=fe.pipe(Zr(ht=>new hn.y(Cn=>({unsubscribe:l.runOutsideAngular(()=>ht.onIdTokenChanged(Er=>Cn.next(Er),Er=>Cn.error(Er),()=>Cn.complete()))}))));this.authState=lt.pipe(vy(Et),(0,Yo.R)(h.outsideAngular),(0,yy.Q)(h.insideAngular)),this.user=lt.pipe(vy(Lt),(0,Yo.R)(h.outsideAngular),(0,yy.Q)(h.insideAngular)),this.idToken=this.user.pipe(Zr(ht=>ht?(0,Pn.D)(ht.getIdToken()):st(null))),this.idTokenResult=this.user.pipe(Zr(ht=>ht?(0,Pn.D)(ht.getIdTokenResult()):st(null))),this.credential=(0,_g.T)(lt,Q,this.authState.pipe(Kr(ht=>!ht))).pipe((0,Je.U)(ht=>(null==ht?void 0:ht.user)?ht:null),(0,Yo.R)(h.outsideAngular),(0,yy.Q)(h.insideAngular))}return(0,Ls.pX)(this,fe,l,{spy:{apply:(De,lt,Et)=>{(De.startsWith("signIn")||De.startsWith("createUser"))&&Et.then(Lt=>Q.next(Lt))}}})}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Ls.Dh),d.LFG(Ls.xv,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(Sr.HU),d.LFG(rx,8),d.LFG(Ty,8),d.LFG(LD,8),d.LFG(ix,8),d.LFG(cf,8),d.LFG(kE,8),d.LFG(eu,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),sx=(()=>{class n{constructor(){RE.Z.registerVersion("angularfire",Sr.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[tu]}),n})();var Od=N(2210);function Sg(){return(0,fr.e)((n,e)=>{let t,r=!1;n.subscribe(new kt.Q(e,o=>{const l=t;t=o,r&&e.next([l,o]),r=!0}))})}function OE(n,e=Ml.y){return n=null!=n?n:kk,(0,fr.e)((t,r)=>{let o,l=!0;t.subscribe(new kt.Q(r,h=>{const p=e(h);(l||!n(o,p))&&(l=!1,o=p,r.next(h))}))})}function kk(n,e){return n===e}N(9777);var et,NE=N(6293),FE="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Kl={},Ag=Ag||{},xt=FE||self;function uf(){}function xg(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Nd(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Ay="closure_uid_"+(1e9*Math.random()>>>0),VD=0;function LE(n,e,t){return n.call.apply(n.bind,arguments)}function BD(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),n.apply(e,o)}}return function(){return n.apply(e,arguments)}}function _i(n,e,t){return(_i=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?LE:BD).apply(null,arguments)}function Mg(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Jr(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,o,l){for(var h=Array(arguments.length-2),p=2;p<arguments.length;p++)h[p-2]=arguments[p];return e.prototype[o].apply(r,h)}}function Yl(){this.s=this.s,this.o=this.o}var UD={};Yl.prototype.s=!1,Yl.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function(n){return Object.prototype.hasOwnProperty.call(n,Ay)&&n[Ay]||(n[Ay]=++VD)}(this);delete UD[n]}},Yl.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const BE=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},UE=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,o="string"==typeof n?n.split(""):n;for(let l=0;l<r;l++)l in o&&e.call(t,o[l],l,n)};function jE(n){return Array.prototype.concat.apply([],arguments)}function xy(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function Rg(n){return/^[\s\xa0]*$/.test(n)}var ss,HE=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function bs(n,e){return-1!=n.indexOf(e)}function $E(n,e){return n<e?-1:n>e?1:0}e:{var zE=xt.navigator;if(zE){var HD=zE.userAgent;if(HD){ss=HD;break e}}ss=""}function mr(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function GE(n){const e={};for(const t in n)e[t]=n[t];return e}var $D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function zD(n,e){let t,r;for(let o=1;o<arguments.length;o++){for(t in r=arguments[o],r)n[t]=r[t];for(let l=0;l<$D.length;l++)t=$D[l],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function My(n){return My[" "](n),n}My[" "]=uf;var Pg,n,GD=bs(ss,"Opera"),Fd=bs(ss,"Trident")||bs(ss,"MSIE"),Ld=bs(ss,"Edge"),qE=Ld||Fd,qD=bs(ss,"Gecko")&&!(bs(ss.toLowerCase(),"webkit")&&!bs(ss,"Edge"))&&!(bs(ss,"Trident")||bs(ss,"MSIE"))&&!bs(ss,"Edge"),WD=bs(ss.toLowerCase(),"webkit")&&!bs(ss,"Edge");function ZD(){var n=xt.document;return n?n.documentMode:void 0}e:{var KD="",Ry=(n=ss,qD?/rv:([^\);]+)(\)|;)/.exec(n):Ld?/Edge\/([\d\.]+)/.exec(n):Fd?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):WD?/WebKit\/(\S+)/.exec(n):GD?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Ry&&(KD=Ry?Ry[1]:""),Fd){var kg=ZD();if(null!=kg&&kg>parseFloat(KD)){Pg=String(kg);break e}}Pg=KD}var qa={};function lx(){return e=qa,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){let n=0;const e=HE(String(Pg)).split("."),t=HE("9").split("."),r=Math.max(e.length,t.length);for(let h=0;0==n&&h<r;h++){var o=e[h]||"",l=t[h]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],0==o[0].length&&0==l[0].length)break;n=$E(0==o[1].length?0:parseInt(o[1],10),0==l[1].length?0:parseInt(l[1],10))||$E(0==o[2].length,0==l[2].length)||$E(o[2],l[2]),o=o[3],l=l[3]}while(0==n)}return 0<=n}();var e}var ta=xt.document&&Fd&&(ZD()||parseInt(Pg,10))||void 0,na=function(){if(!xt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{xt.addEventListener("test",uf,e),xt.removeEventListener("test",uf,e)}catch(t){}return n}();function yi(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function df(n,e){if(yi.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(qD){e:{try{My(e.nodeName);var o=!0;break e}catch(l){}o=!1}o||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:cx[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&df.Z.h.call(this)}}yi.prototype.h=function(){this.defaultPrevented=!0},Jr(df,yi);var cx={2:"touch",3:"pen",4:"mouse"};df.prototype.h=function(){df.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Og="closure_listenable_"+(1e6*Math.random()|0),ux=0;function dx(n,e,t,r,o){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=o,this.key=++ux,this.ca=this.fa=!1}function hf(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function nu(n){this.src=n,this.g={},this.h=0}function ZE(n,e){var t=e.type;if(t in n.g){var l,r=n.g[t],o=BE(r,e);(l=0<=o)&&Array.prototype.splice.call(r,o,1),l&&(hf(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Py(n,e,t,r){for(var o=0;o<n.length;++o){var l=n[o];if(!l.ca&&l.listener==e&&l.capture==!!t&&l.ia==r)return o}return-1}nu.prototype.add=function(n,e,t,r,o){var l=n.toString();(n=this.g[l])||(n=this.g[l]=[],this.h++);var h=Py(n,e,r,o);return-1<h?(e=n[h],t||(e.fa=!1)):((e=new dx(e,this.src,l,!!r,o)).fa=t,n.push(e)),e};var KE="closure_lm_"+(1e6*Math.random()|0),ky={};function YE(n,e,t,r,o){if(r&&r.once)return QE(n,e,t,r,o);if(Array.isArray(e)){for(var l=0;l<e.length;l++)YE(n,e[l],t,r,o);return null}return t=Fy(t),n&&n[Og]?n.N(e,t,Nd(r)?!!r.capture:!!r,o):Ng(n,e,t,!1,r,o)}function Ng(n,e,t,r,o,l){if(!e)throw Error("Invalid event type");var h=Nd(o)?!!o.capture:!!o,p=Oy(n);if(p||(n[KE]=p=new nu(n)),(t=p.add(e,t,r,h,l)).proxy)return t;if(r=function(){var e=YD;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)na||(o=h),void 0===o&&(o=!1),n.addEventListener(e.toString(),r,o);else if(n.attachEvent)n.attachEvent(Lg(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function QE(n,e,t,r,o){if(Array.isArray(e)){for(var l=0;l<e.length;l++)QE(n,e[l],t,r,o);return null}return t=Fy(t),n&&n[Og]?n.O(e,t,Nd(r)?!!r.capture:!!r,o):Ng(n,e,t,!0,r,o)}function XE(n,e,t,r,o){if(Array.isArray(e))for(var l=0;l<e.length;l++)XE(n,e[l],t,r,o);else r=Nd(r)?!!r.capture:!!r,t=Fy(t),n&&n[Og]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Py(l=n.g[e],t,r,o))&&(hf(l[t]),Array.prototype.splice.call(l,t,1),0==l.length&&(delete n.g[e],n.h--))):n&&(n=Oy(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Py(e,t,r,o)),(t=-1<n?e[n]:null)&&Fg(t))}function Fg(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[Og])ZE(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(Lg(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Oy(e))?(ZE(t,n),0==t.h&&(t.src=null,e[KE]=null)):hf(n)}}}function Lg(n){return n in ky?ky[n]:ky[n]="on"+n}function YD(n,e){if(n.ca)n=!0;else{e=new df(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&Fg(n),n=t.call(r,e)}return n}function Oy(n){return(n=n[KE])instanceof nu?n:null}var Ny="__closure_events_fn_"+(1e9*Math.random()>>>0);function Fy(n){return"function"==typeof n?n:(n[Ny]||(n[Ny]=function(e){return n.handleEvent(e)}),n[Ny])}function Br(){Yl.call(this),this.i=new nu(this),this.P=this,this.I=null}function ei(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new yi(e,n);else if(e instanceof yi)e.target=e.target||n;else{var o=e;zD(e=new yi(r,n),o)}if(o=!0,t)for(var l=t.length-1;0<=l;l--){var h=e.g=t[l];o=Vg(h,r,!0,e)&&o}if(o=Vg(h=e.g=n,r,!0,e)&&o,o=Vg(h,r,!1,e)&&o,t)for(l=0;l<t.length;l++)o=Vg(h=e.g=t[l],r,!1,e)&&o}function Vg(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var o=!0,l=0;l<e.length;++l){var h=e[l];if(h&&!h.ca&&h.capture==t){var p=h.listener,y=h.ia||h.src;h.fa&&ZE(n.i,h),o=!1!==p.call(y,r)&&o}}return o&&!r.defaultPrevented}Jr(Br,Yl),Br.prototype[Og]=!0,Br.prototype.removeEventListener=function(n,e,t,r){XE(this,n,e,t,r)},Br.prototype.M=function(){if(Br.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)hf(t[r]);delete n.g[e],n.h--}}this.I=null},Br.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Br.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Ly=xt.JSON.stringify;function fx(){var n=XD;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var ew,QD=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new gx,n=>n.reset());class gx{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function mx(n){xt.setTimeout(()=>{throw n},0)}function JE(n,e){ew||function(){var n=xt.Promise.resolve(void 0);ew=function(){n.then(yx)}}(),tw||(ew(),tw=!0),XD.add(n,e)}var tw=!1,XD=new class{constructor(){this.h=this.g=null}add(e,t){const r=QD.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function yx(){for(var n;n=fx();){try{n.h.call(n.g)}catch(t){mx(t)}var e=QD;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}tw=!1}function Vy(n,e){Br.call(this),this.h=n||1,this.g=e||xt,this.j=_i(this.kb,this),this.l=Date.now()}function nw(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function rw(n,e,t){if("function"==typeof n)t&&(n=_i(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=_i(n.handleEvent,n)}return 2147483647<Number(e)?-1:xt.setTimeout(n,e||0)}function JD(n){n.g=rw(()=>{n.g=null,n.i&&(n.i=!1,JD(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Jr(Vy,Br),(et=Vy.prototype).da=!1,et.S=null,et.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),ei(this,"tick"),this.da&&(nw(this),this.start()))}},et.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},et.M=function(){Vy.Z.M.call(this),nw(this),delete this.g};class vx extends Yl{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:JD(this)}M(){super.M(),this.g&&(xt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Bg(n){Yl.call(this),this.h=n,this.g={}}Jr(Bg,Yl);var eI=[];function iw(n,e,t,r){Array.isArray(t)||(t&&(eI[0]=t.toString()),t=eI);for(var o=0;o<t.length;o++){var l=YE(e,t[o],r||n.handleEvent,!1,n.h||n);if(!l)break;n.g[l.key]=l}}function sw(n){mr(n.g,function(e,t){this.g.hasOwnProperty(t)&&Fg(e)},n),n.g={}}function Ug(){this.g=!0}function Vd(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var l=o[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var h=1;h<o.length;h++)o[h]=""}}}return Ly(t)}catch(p){return e}}(n,t)+(r?" "+r:"")})}Bg.prototype.M=function(){Bg.Z.M.call(this),sw(this)},Bg.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ug.prototype.Aa=function(){this.g=!1},Ug.prototype.info=function(){};var ru={},By=null;function ff(){return By=By||new Br}function iu(n){yi.call(this,ru.Ma,n)}function jg(n){const e=ff();ei(e,new iu(e,n))}function sI(n,e){yi.call(this,ru.STAT_EVENT,n),this.stat=e}function Ar(n){const e=ff();ei(e,new sI(e,n))}function bx(n,e){yi.call(this,ru.Na,n),this.size=e}function Bd(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return xt.setTimeout(function(){n()},e)}ru.Ma="serverreachability",Jr(iu,yi),ru.STAT_EVENT="statevent",Jr(sI,yi),ru.Na="timingevent",Jr(bx,yi);var ow={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},aw={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Uy(){}function bt(){}Uy.prototype.h=null;var pf,Hg={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function lw(){yi.call(this,"d")}function cw(){yi.call(this,"c")}function jy(){}function su(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new Bg(this),this.P=sr,this.W=new Vy(n=qE?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new $g}function $g(){this.i=null,this.g="",this.h=!1}Jr(lw,yi),Jr(cw,yi),Jr(jy,Uy),jy.prototype.g=function(){return new XMLHttpRequest},jy.prototype.i=function(){return{}},pf=new jy;var sr=45e3,oI={},zg={};function uw(n,e,t){n.K=1,n.v=qg(Vs(e)),n.s=t,n.U=!0,aI(n,null)}function aI(n,e){n.F=Date.now(),gf(n),n.A=Vs(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),hI(t.h,"t",r),n.C=0,t=n.l.H,n.h=new $g,n.g=nm(n.l,t?e:null,!n.s),0<n.O&&(n.L=new vx(_i(n.Ia,n,n.g),n.O)),iw(n.V,n.g,"readystatechange",n.gb),e=n.H?GE(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),jg(1),function(n,e,t,r,o,l){n.info(function(){if(n.g)if(l)for(var h="",p=l.split("&"),y=0;y<p.length;y++){var C=p[y].split("=");if(1<C.length){var T=C[0];C=C[1];var R=T.split("_");h=2<=R.length&&"type"==R[1]?h+(T+"=")+C+"&":h+(T+"=redacted&")}}else h=null;else h=l;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+e+"\n"+t+"\n"+h})}(n.j,n.u,n.A,n.m,n.X,n.s)}function dw(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function hw(n,e,t){let o,r=!0;for(;!n.I&&n.C<t.length;){if(o=lI(n,t),o==zg){4==e&&(n.o=4,Ar(14),r=!1),Vd(n.j,n.m,null,"[Incomplete Response]");break}if(o==oI){n.o=4,Ar(15),Vd(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Vd(n.j,n.m,o,null),fw(n,o)}dw(n)&&o!=zg&&o!=oI&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Ar(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),ev(e),e.L=!0,Ar(11))):(Vd(n.j,n.m,t,"[Invalid Chunked Response]"),ra(n),Gg(n))}function lI(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?zg:(t=Number(e.substring(t,r)),isNaN(t)?oI:(r+=1)+t>e.length?zg:(e=e.substr(r,t),n.C=r+t,e))}function gf(n){n.Y=Date.now()+n.P,cI(n,n.P)}function cI(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Bd(_i(n.eb,n),e)}function Hy(n){n.B&&(xt.clearTimeout(n.B),n.B=null)}function Gg(n){0==n.l.G||n.I||Fx(n.l,n)}function ra(n){Hy(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,nw(n.W),sw(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function fw(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||lu(t.i,n)))if(t.I=n.N,!n.J&&lu(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(C){r=null}if(Array.isArray(r)&&3==r.length){var o=r;if(0==o[0])e:if(t.u)t.ta=o[1],0<t.ta-t.U&&37500>o[2]&&t.N&&0==t.A&&!t.v&&(t.v=Bd(_i(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;tm(t),vf(t)}Iw(t),Ar(18)}if(1>=mI(t.i)&&t.ka){try{t.ka()}catch(C){}t.ka=void 0}}else Eo(t,11)}else if((n.J||t.g==n)&&tm(t),!Rg(e))for(o=t.Ca.g.parse(e),e=0;e<o.length;e++){let C=o[e];if(t.U=C[0],C=C[1],2==t.G)if("c"==C[0]){t.J=C[1],t.la=C[2];const T=C[3];null!=T&&(t.ma=T,t.h.info("VER="+t.ma));const R=C[4];null!=R&&(t.za=R,t.h.info("SVER="+t.za));const V=C[5];null!=V&&"number"==typeof V&&0<V&&(t.K=r=1.5*V,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const U=n.g;if(U){const Q=U.g?U.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Q){var l=r.i;!l.g&&(bs(Q,"spdy")||bs(Q,"quic")||bs(Q,"h2"))&&(l.j=l.l,l.g=new Set,l.h&&(yw(l,l.h),l.h=null))}if(r.D){const fe=U.g?U.g.getResponseHeader("X-HTTP-Session-Id"):null;fe&&(r.sa=fe,Ln(r.F,r.D,fe))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var h=n;if((r=t).oa=tv(r,r.H?r.la:null,r.W),h.J){vw(r.i,h);var p=h,y=r.K;y&&p.setTimeout(y),p.B&&(Hy(p),gf(p)),r.g=h}else Dw(r);0<t.l.length&&bf(t)}else"stop"!=C[0]&&"close"!=C[0]||Eo(t,7);else 3==t.G&&("stop"==C[0]||"close"==C[0]?"stop"==C[0]?Eo(t,7):Cw(t):"noop"!=C[0]&&t.j&&t.j.wa(C),t.A=0)}jg(4)}catch(C){}}function pw(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(xg(n)||"string"==typeof n)UE(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(xg(n)||"string"==typeof n){t=[];for(var r=n.length,o=0;o<r;o++)t.push(o)}else for(o in t=[],r=0,n)t[r++]=o;r=function(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(xg(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),o=r.length;for(var l=0;l<o;l++)e.call(void 0,r[l],t&&t[l],n)}}function Ql(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof Ql)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function $y(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];ou(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var o={};for(t=e=0;e<n.g.length;)ou(o,r=n.g[e])||(n.g[t++]=r,o[r]=1),e++;n.g.length=t}}function ou(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(et=su.prototype).setTimeout=function(n){this.P=n},et.gb=function(n){n=n.target;const e=this.L;e&&3==Wa(n)?e.l():this.Ia(n)},et.Ia=function(n){try{if(n==this.g)e:{const T=Wa(this.g);var e=this.g.Da();const R=this.g.ba();if(!(3>T)&&(3!=T||qE||this.g&&(this.h.h||this.g.ga()||CI(this.g)))){this.I||4!=T||7==e||jg(8==e||0>=R?3:2),Hy(this);var t=this.g.ba();this.N=t;t:if(dw(this)){var r=CI(this.g);n="";var o=r.length,l=4==Wa(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){ra(this),Gg(this);var h="";break t}this.h.i=new xt.TextDecoder}for(e=0;e<o;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:l&&e==o-1});r.splice(0,o),this.h.g+=n,this.C=0,h=this.h.g}else h=this.g.ga();if(this.i=200==t,function(n,e,t,r,o,l,h){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+e+"\n"+t+"\n"+l+" "+h})}(this.j,this.u,this.A,this.m,this.X,T,t),this.i){if(this.$&&!this.J){t:{if(this.g){var p,y=this.g;if((p=y.g?y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Rg(p)){var C=p;break t}}C=null}if(!(t=C)){this.i=!1,this.o=3,Ar(12),ra(this),Gg(this);break e}Vd(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,fw(this,t)}this.U?(hw(this,T,h),qE&&this.i&&3==T&&(iw(this.V,this.W,"tick",this.fb),this.W.start())):(Vd(this.j,this.m,h,null),fw(this,h)),4==T&&ra(this),this.i&&!this.I&&(4==T?Fx(this.l,this):(this.i=!1,gf(this)))}else 400==t&&0<h.indexOf("Unknown SID")?(this.o=3,Ar(12)):(this.o=0,Ar(13)),ra(this),Gg(this)}}}catch(T){}},et.fb=function(){if(this.g){var n=Wa(this.g),e=this.g.ga();this.C<e.length&&(Hy(this),hw(this,n,e),this.i&&4!=n&&gf(this))}},et.cancel=function(){this.I=!0,ra(this)},et.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(jg(3),Ar(17)),ra(this),this.o=2,Gg(this)):cI(this,this.Y-n)},(et=Ql.prototype).R=function(){$y(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},et.T=function(){return $y(this),this.g.concat()},et.get=function(n,e){return ou(this.h,n)?this.h[n]:e},et.set=function(n,e){ou(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},et.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var o=t[r],l=this.get(o);n.call(e,l,o,this)}};var gw=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ia(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof ia){this.g=void 0!==e?e:n.g,zy(this,n.j),this.s=n.s,Gy(this,n.i),qy(this,n.m),this.l=n.l,e=n.h;var t=new Kg;t.i=e.i,e.g&&(t.g=new Ql(e.g),t.h=e.h),mw(this,t),this.o=n.o}else n&&(t=String(n).match(gw))?(this.g=!!e,zy(this,t[1]||"",!0),this.s=Wg(t[2]||""),Gy(this,t[3]||"",!0),qy(this,t[4]),this.l=Wg(t[5]||"",!0),mw(this,t[6]||"",!0),this.o=Wg(t[7]||"")):(this.g=!!e,this.h=new Kg(null,this.g))}function Vs(n){return new ia(n)}function zy(n,e,t){n.j=t?Wg(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Gy(n,e,t){n.i=t?Wg(e,!0):e}function qy(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function mw(n,e,t){e instanceof Kg?(n.h=e,function(n,e){e&&!n.j&&(au(n),n.i=null,n.g.forEach(function(t,r){var o=r.toLowerCase();r!=o&&(_w(this,r),hI(this,o,t))},n)),n.j=e}(n.h,n.g)):(t||(e=Zg(e,dI)),n.h=new Kg(e,n.g))}function Ln(n,e,t){n.h.set(e,t)}function qg(n){return Ln(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Wg(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Zg(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,Nk),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Nk(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}ia.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Zg(e,Ix,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Zg(e,Ix,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(Zg(t,"/"==t.charAt(0)?Lk:Fk,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Zg(t,Wy)),n.join("")};var Ix=/[#\/\?@]/g,Fk=/[#\?:]/g,Lk=/[#\?]/g,dI=/[#\?@]/g,Wy=/#/g;function Kg(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function au(n){n.g||(n.g=new Ql,n.h=0,n.i&&function(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),o=null;if(0<=r){var l=n[t].substring(0,r);o=n[t].substring(r+1)}else l=n[t];e(l,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function _w(n,e){au(n),e=_f(n,e),ou(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,ou((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&$y(n)))}function mf(n,e){return au(n),e=_f(n,e),ou(n.g.h,e)}function hI(n,e,t){_w(n,e),0<t.length&&(n.i=null,n.g.set(_f(n,e),xy(t)),n.h+=t.length)}function _f(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function fI(n){this.l=n||pI,n=xt.PerformanceNavigationTiming?0<(n=xt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(xt.g&&xt.g.Ea&&xt.g.Ea()&&xt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(et=Kg.prototype).add=function(n,e){au(this),this.i=null,n=_f(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},et.forEach=function(n,e){au(this),this.g.forEach(function(t,r){UE(t,function(o){n.call(e,o,r,this)},this)},this)},et.T=function(){au(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var o=n[r],l=0;l<o.length;l++)t.push(e[r]);return t},et.R=function(n){au(this);var e=[];if("string"==typeof n)mf(this,n)&&(e=jE(e,this.g.get(_f(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=jE(e,n[t])}return e},et.set=function(n,e){return au(this),this.i=null,mf(this,n=_f(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},et.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},et.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],o=encodeURIComponent(String(r));r=this.R(r);for(var l=0;l<r.length;l++){var h=o;""!==r[l]&&(h+="="+encodeURIComponent(String(r[l]))),n.push(h)}}return this.i=n.join("&")};var pI=10;function gI(n){return!!n.h||!!n.g&&n.g.size>=n.j}function mI(n){return n.h?1:n.g?n.g.size:0}function lu(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function yw(n,e){n.g?n.g.add(e):n.h=e}function vw(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function _I(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return xy(n.i)}function Zy(){}function Ax(){this.g=new Zy}function yI(n,e,t){const r=t||"";try{pw(n,function(o,l){let h=o;Nd(o)&&(h=Ly(o)),e.push(r+l+"="+encodeURIComponent(h))})}catch(o){throw e.push(r+"type="+encodeURIComponent("_badmap")),o}}function yf(n,e,t,r,o){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(r)}catch(l){}}function Yg(n){this.l=n.$b||null,this.j=n.ib||!1}function Qg(n,e){Br.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=Ky,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}fI.prototype.cancel=function(){if(this.i=_I(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Zy.prototype.stringify=function(n){return xt.JSON.stringify(n,void 0)},Zy.prototype.parse=function(n){return xt.JSON.parse(n,void 0)},Jr(Yg,Uy),Yg.prototype.g=function(){return new Qg(this.l,this.j)},Yg.prototype.i=function(n){return function(){return n}}({}),Jr(Qg,Br);var Ky=0;function vI(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function Xg(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Jg(n)}function Jg(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(et=Qg.prototype).open=function(n,e){if(this.readyState!=Ky)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Jg(this)},et.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||xt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},et.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Xg(this)),this.readyState=Ky},et.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Jg(this)),this.g&&(this.readyState=3,Jg(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==xt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;vI(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},et.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Xg(this):Jg(this),3==this.readyState&&vI(this)}},et.Ua=function(n){this.g&&(this.response=this.responseText=n,Xg(this))},et.Ta=function(n){this.g&&(this.response=n,Xg(this))},et.ha=function(){this.g&&Xg(this)},et.setRequestHeader=function(n,e){this.v.append(n,e)},et.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},et.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Qg.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var bw=xt.JSON.parse;function xr(n){Br.call(this),this.headers=new Ql,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Ew,this.K=this.L=!1}Jr(xr,Br);var Ew="",Mx=/^https?$/i,Rx=["POST","PUT"];function kx(n){return"content-type"==n.toLowerCase()}function bI(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,EI(n),Yy(n)}function EI(n){n.D||(n.D=!0,ei(n,"complete"),ei(n,"error"))}function wI(n){if(n.h&&void 0!==Ag&&(!n.C[1]||4!=Wa(n)||2!=n.ba()))if(n.v&&4==Wa(n))rw(n.Fa,0,n);else if(ei(n,"readystatechange"),4==Wa(n)){n.h=!1;try{const p=n.ba();e:switch(p){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===p){var o=String(n.H).match(gw)[1]||null;if(!o&&xt.self&&xt.self.location){var l=xt.self.location.protocol;o=l.substr(0,l.length-1)}r=!Mx.test(o?o.toLowerCase():"")}t=r}if(t)ei(n,"complete"),ei(n,"success");else{n.m=6;try{var h=2<Wa(n)?n.g.statusText:""}catch(y){h=""}n.j=h+" ["+n.ba()+"]",EI(n)}}finally{Yy(n)}}}function Yy(n,e){if(n.g){ww(n);const t=n.g,r=n.C[0]?uf:null;n.g=null,n.C=null,e||ei(n,"ready");try{t.onreadystatechange=r}catch(o){}}}function ww(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(xt.clearTimeout(n.A),n.A=null)}function Wa(n){return n.g?n.g.readyState:0}function CI(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case Ew:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Qy(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function(n){let e="";return mr(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Ln(n,e,t))}function em(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function DI(n){this.za=0,this.l=[],this.h=new Ug,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=em("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=em("baseRetryDelayMs",5e3,n),this.$a=em("retryDelaySeedMs",1e4,n),this.Ya=em("forwardChannelMaxRetries",2,n),this.ra=em("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new fI(n&&n.concurrentRequestLimit),this.Ca=new Ax,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function Cw(n){if(Xy(n),3==n.G){var e=n.V++,t=Vs(n.F);Ln(t,"SID",n.J),Ln(t,"RID",e),Ln(t,"TYPE","terminate"),Ud(n,t),(e=new su(n,n.h,e,void 0)).K=2,e.v=qg(Vs(t)),t=!1,xt.navigator&&xt.navigator.sendBeacon&&(t=xt.navigator.sendBeacon(e.v.toString(),"")),!t&&xt.Image&&((new Image).src=e.v,t=!0),t||(e.g=nm(e.l,null),e.g.ea(e.v)),e.F=Date.now(),gf(e)}Lx(n)}function vf(n){n.g&&(ev(n),n.g.cancel(),n.g=null)}function Xy(n){vf(n),n.u&&(xt.clearTimeout(n.u),n.u=null),tm(n),n.i.cancel(),n.m&&("number"==typeof n.m&&xt.clearTimeout(n.m),n.m=null)}function Jy(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&bf(n)}function bf(n){gI(n.i)||n.m||(n.m=!0,JE(n.Ha,n),n.C=0)}function II(n,e){var t;t=e?e.m:n.V++;const r=Vs(n.F);Ln(r,"SID",n.J),Ln(r,"RID",t),Ln(r,"AID",n.U),Ud(n,r),n.o&&n.s&&Qy(r,n.o,n.s),t=new su(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=TI(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),yw(n.i,t),uw(t,r,e)}function Ud(n,e){n.j&&pw({},function(t,r){Ln(e,r,t)})}function TI(n,e,t){t=Math.min(n.l.length,t);var r=n.j?_i(n.j.Oa,n.j,n):null;e:{var o=n.l;let l=-1;for(;;){const h=["count="+t];-1==l?0<t?(l=o[0].h,h.push("ofs="+l)):l=0:h.push("ofs="+l);let p=!0;for(let y=0;y<t;y++){let C=o[y].h;const T=o[y].g;if(C-=l,0>C)l=Math.max(0,o[y].h-100),p=!1;else try{yI(T,h,"req"+C+"_")}catch(R){r&&r(T)}}if(p){r=h.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function Dw(n){n.g||n.u||(n.Y=1,JE(n.Ga,n),n.A=0)}function Iw(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Bd(_i(n.Ga,n),SI(n,n.A)),n.A++,0))}function ev(n){null!=n.B&&(xt.clearTimeout(n.B),n.B=null)}function Tw(n){n.g=new su(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=Vs(n.oa);Ln(e,"RID","rpc"),Ln(e,"SID",n.J),Ln(e,"CI",n.N?"0":"1"),Ln(e,"AID",n.U),Ud(n,e),Ln(e,"TYPE","xmlhttp"),n.o&&n.s&&Qy(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=qg(Vs(e)),t.s=null,t.U=!0,aI(t,n)}function tm(n){null!=n.v&&(xt.clearTimeout(n.v),n.v=null)}function Fx(n,e){var t=null;if(n.g==e){tm(n),ev(n),n.g=null;var r=2}else{if(!lu(n.i,e))return;t=e.D,vw(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var o=n.C;ei(r=ff(),new bx(r,t,e,o)),bf(n)}else Dw(n);else if(3==(o=e.o)||0==o&&0<n.I||!(1==r&&function(n,e){return!(mI(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Bd(_i(n.Ha,n,e),SI(n,n.C)),n.C++,0)))}(n,e)||2==r&&Iw(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),o){case 1:Eo(n,5);break;case 4:Eo(n,10);break;case 3:Eo(n,6);break;default:Eo(n,2)}}function SI(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function Eo(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=_i(n.jb,n);t||(t=new ia("//www.google.com/images/cleardot.gif"),xt.location&&"http"==xt.location.protocol||zy(t,"https"),qg(t)),function(n,e){const t=new Ug;if(xt.Image){const r=new Image;r.onload=Mg(yf,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Mg(yf,t,r,"TestLoadImage: error",!1,e),r.onabort=Mg(yf,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Mg(yf,t,r,"TestLoadImage: timeout",!1,e),xt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Ar(2);n.G=0,n.j&&n.j.va(e),Lx(n),Xy(n)}function Lx(n){n.G=0,n.I=-1,n.j&&((0!=_I(n.i).length||0!=n.l.length)&&(n.i.i.length=0,xy(n.l),n.l.length=0),n.j.ua())}function tv(n,e,t){let r=function(n){return n instanceof ia?Vs(n):new ia(n,void 0)}(t);if(""!=r.i)e&&Gy(r,e+"."+r.i),qy(r,r.m);else{const o=xt.location;r=function(n,e,t,r){var o=new ia(null,void 0);return n&&zy(o,n),e&&Gy(o,e),t&&qy(o,t),r&&(o.l=r),o}(o.protocol,e?e+"."+o.hostname:o.hostname,+o.port,t)}return n.aa&&mr(n.aa,function(o,l){Ln(r,l,o)}),t=n.sa,(e=n.D)&&t&&Ln(r,e,t),Ln(r,"VER",n.ma),Ud(n,r),r}function nm(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new xr(t&&n.Ba&&!n.qa?new Yg({ib:!0}):n.qa)).L=n.H,e}function AI(){}function Xl(){if(Fd&&!(10<=Number(ta)))throw Error("Environmental error: no available transport.")}function Bs(n,e){Br.call(this),this.g=new DI(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!Rg(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Rg(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new os(this)}function Vx(n){lw.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function xI(){cw.call(this),this.status=1}function os(n){this.g=n}(et=xr.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():pf.g(),this.C=function(n){return n.h||(n.h=n.i())}(this.u?this.u:pf),this.g.onreadystatechange=_i(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(l){return void bI(this,l)}n=t||"";const o=new Ql(this.headers);r&&pw(r,function(l,h){o.set(h,l)}),r=function(n){e:{var e=kx;const t=n.length,r="string"==typeof n?n.split(""):n;for(let o=0;o<t;o++)if(o in r&&e.call(void 0,r[o],o,n)){e=o;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(o.T()),t=xt.FormData&&n instanceof xt.FormData,!(0<=BE(Rx,e))||r||t||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(l,h){this.g.setRequestHeader(h,l)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{ww(this),0<this.B&&((this.K=function(n){return Fd&&lx()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=_i(this.pa,this)):this.A=rw(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(l){bI(this,l)}},et.pa=function(){void 0!==Ag&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ei(this,"timeout"),this.abort(8))},et.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,ei(this,"complete"),ei(this,"abort"),Yy(this))},et.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Yy(this,!0)),xr.Z.M.call(this)},et.Fa=function(){this.s||(this.F||this.v||this.l?wI(this):this.cb())},et.cb=function(){wI(this)},et.ba=function(){try{return 2<Wa(this)?this.g.status:-1}catch(n){return-1}},et.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},et.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),bw(e)}},et.Da=function(){return this.m},et.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(et=DI.prototype).ma=8,et.G=1,et.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},et.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const o=new su(this,this.h,n,void 0);let l=this.s;if(this.P&&(l?(l=GE(l),zD(l,this.P)):l=this.P),null===this.o&&(o.H=l),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=TI(this,o,e),Ln(t=Vs(this.F),"RID",n),Ln(t,"CVER",22),this.D&&Ln(t,"X-HTTP-Session-Id",this.D),Ud(this,t),this.o&&l&&Qy(t,this.o,l),yw(this.i,o),this.Ra&&Ln(t,"TYPE","init"),this.ja?(Ln(t,"$req",e),Ln(t,"SID","null"),o.$=!0,uw(o,t,null)):uw(o,t,e),this.G=2}}else 3==this.G&&(n?II(this,n):0==this.l.length||gI(this.i)||II(this))},et.Ga=function(){if(this.u=null,Tw(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Bd(_i(this.bb,this),n)}},et.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Ar(10),vf(this),Tw(this))},et.ab=function(){null!=this.v&&(this.v=null,vf(this),Iw(this),Ar(19))},et.jb=function(n){n?(this.h.info("Successfully pinged google.com"),Ar(2)):(this.h.info("Failed to ping google.com"),Ar(1))},(et=AI.prototype).xa=function(){},et.wa=function(){},et.va=function(){},et.ua=function(){},et.Oa=function(){},Xl.prototype.g=function(n,e){return new Bs(n,e)},Jr(Bs,Br),Bs.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),JE(_i(n.hb,n,e))),Ar(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=tv(n,null,n.W),bf(n)},Bs.prototype.close=function(){Cw(this.g)},Bs.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,Jy(this.g,e)}else this.v?((e={}).__data__=Ly(n),Jy(this.g,e)):Jy(this.g,n)},Bs.prototype.M=function(){this.g.j=null,delete this.j,Cw(this.g),delete this.g,Bs.Z.M.call(this)},Jr(Vx,lw),Jr(xI,cw),Jr(os,AI),os.prototype.xa=function(){ei(this.g,"a")},os.prototype.wa=function(n){ei(this.g,new Vx(n))},os.prototype.va=function(n){ei(this.g,new xI(n))},os.prototype.ua=function(){ei(this.g,"b")},Xl.prototype.createWebChannel=Xl.prototype.g,Bs.prototype.send=Bs.prototype.u,Bs.prototype.open=Bs.prototype.m,Bs.prototype.close=Bs.prototype.close,ow.NO_ERROR=0,ow.TIMEOUT=8,ow.HTTP_ERROR=6,aw.COMPLETE="complete",bt.EventType=Hg,Hg.OPEN="a",Hg.CLOSE="b",Hg.ERROR="c",Hg.MESSAGE="d",Br.prototype.listen=Br.prototype.N,xr.prototype.listenOnce=xr.prototype.O,xr.prototype.getLastError=xr.prototype.La,xr.prototype.getLastErrorCode=xr.prototype.Da,xr.prototype.getStatus=xr.prototype.ba,xr.prototype.getResponseJson=xr.prototype.Qa,xr.prototype.getResponseText=xr.prototype.ga,xr.prototype.send=xr.prototype.ea;var MI=Kl.createWebChannelTransport=function(){return new Xl},Vk=Kl.getStatEventTarget=function(){return ff()},Ef=Kl.ErrorCode=ow,Bx=Kl.EventType=aw,Ux=Kl.Event=ru,jx=Kl.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Hx=Kl.FetchXmlHttpFactory=Yg,nv=Kl.WebChannel=bt,$x=Kl.XhrIo=xr;const rv="@firebase/firestore";class ti{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ti.UNAUTHENTICATED=new ti(null),ti.GOOGLE_CREDENTIALS=new ti("google-credentials-uid"),ti.FIRST_PARTY=new ti("first-party-uid"),ti.MOCK_USER=new ti("mock-user");let cu="9.4.0";const Us=new Yc.Yd("@firebase/firestore");function wf(){return Us.logLevel}function $e(n,...e){if(Us.logLevel<=Yc.in.DEBUG){const t=e.map(Sw);Us.debug(`Firestore (${cu}): ${n}`,...t)}}function _r(n,...e){if(Us.logLevel<=Yc.in.ERROR){const t=e.map(Sw);Us.error(`Firestore (${cu}): ${n}`,...t)}}function Cf(n,...e){if(Us.logLevel<=Yc.in.WARN){const t=e.map(Sw);Us.warn(`Firestore (${cu}): ${n}`,...t)}}function Sw(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function ft(n="Unexpected state"){const e=`FIRESTORE (${cu}) INTERNAL ASSERTION FAILED: `+n;throw _r(e),new Error(e)}function St(n,e){n||ft()}function Ge(n,e){return n}const ge={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Oe extends Error{constructor(e,t){super(t),this.code=e,this.message=t,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ni{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class uu{constructor(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${e}`}}class RI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ti.UNAUTHENTICATED))}shutdown(){}}class Df{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Bk{constructor(e){this.t=e,this.currentUser=ti.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let o=this.i;const l=C=>this.i!==o?(o=this.i,t(C)):Promise.resolve();let h=new ni;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new ni,e.enqueueRetryable(()=>l(this.currentUser))};const p=()=>{const C=h;e.enqueueRetryable((0,de.Z)(function*(){yield C.promise,yield l(r.currentUser)}))},y=C=>{$e("FirebaseCredentialsProvider","Auth detected"),this.auth=C,this.auth.addAuthTokenListener(this.o),p()};this.t.onInit(C=>y(C)),setTimeout(()=>{if(!this.auth){const C=this.t.getImmediate({optional:!0});C?y(C):($e("FirebaseCredentialsProvider","Auth not yet detected"),h.resolve(),h=new ni)}},0),p()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?($e("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(St("string"==typeof r.accessToken),new uu(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return St(null===e||"string"==typeof e),new ti(e)}}class PI{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=ti.FIRST_PARTY}get authHeaders(){const e={"X-Goog-AuthUser":this.l},t=this.h.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.m&&(e["X-Goog-Iam-Authorization-Token"]=this.m),e}}class zx{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new PI(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(ti.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class wo{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.g(r),this.p=r=>t.writeSequenceNumber(r))}g(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.p&&this.p(e),e}}function xw(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}wo.T=-1;class Gx{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const o=xw(40);for(let l=0;l<o.length;++l)r.length<20&&o[l]<t&&(r+=e.charAt(o[l]%e.length))}return r}}function Xt(n,e){return n<e?-1:n>e?1:0}function im(n,e,t){return n.length===e.length&&n.every((r,o)=>t(r,e[o]))}function Mw(n){return n+"\0"}class Mr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Oe(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Oe(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Oe(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Oe(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Mr.fromMillis(Date.now())}static fromDate(e){return Mr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Mr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Xt(this.nanoseconds,e.nanoseconds):Xt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Bt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Bt(e)}static min(){return new Bt(new Mr(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function Rw(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function jd(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function kI(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class sm{constructor(e,t,r){void 0===t?t=0:t>e.length&&ft(),void 0===r?r=e.length-t:r>e.length-t&&ft(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===sm.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof sm?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const l=e.get(o),h=t.get(o);if(l<h)return-1;if(l>h)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class pn extends sm{construct(e,t,r){return new pn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Oe(ge.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(o=>o.length>0))}return new pn(t)}static emptyPath(){return new pn([])}}const qx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class vi extends sm{construct(e,t,r){return new vi(e,t,r)}static isValidIdentifier(e){return qx.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),vi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new vi(["__name__"])}static fromServerFormat(e){const t=[];let r="",o=0;const l=()=>{if(0===r.length)throw new Oe(ge.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let h=!1;for(;o<e.length;){const p=e[o];if("\\"===p){if(o+1===e.length)throw new Oe(ge.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[o+1];if("\\"!==y&&"."!==y&&"`"!==y)throw new Oe(ge.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=y,o+=2}else"`"===p?(h=!h,o++):"."!==p||h?(r+=p,o++):(l(),o++)}if(l(),h)throw new Oe(ge.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new vi(t)}static emptyPath(){return new vi([])}}class If{constructor(e){this.fields=e,e.sort(vi.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return im(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class or{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new or(t)}static fromUint8Array(e){const t=function(r){let o="";for(let l=0;l<r.length;++l)o+=String.fromCharCode(r[l]);return o}(e);return new or(t)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Xt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}or.EMPTY_BYTE_STRING=new or("");const OI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Jl(n){if(St(!!n),"string"==typeof n){let e=0;const t=OI.exec(n);if(St(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:yr(n.seconds),nanos:yr(n.nanos)}}function yr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Hd(n){return"string"==typeof n?or.fromBase64String(n):or.fromUint8Array(n)}function iv(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Pw(n){const e=n.mapValue.fields.__previous_value__;return iv(e)?Pw(e):e}function om(n){const e=Jl(n.mapValue.fields.__local_write_time__.timestampValue);return new Mr(e.seconds,e.nanos)}function du(n){return null==n}function sv(n){return 0===n&&1/n==-1/0}function NI(n){return"number"==typeof n&&Number.isInteger(n)&&!sv(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class ut{constructor(e){this.path=e}static fromPath(e){return new ut(pn.fromString(e))}static fromName(e){return new ut(pn.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return null!==e&&0===pn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return pn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ut(new pn(e.slice()))}}function $d(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?iv(n)?4:10:ft()}function Es(n,e){const t=$d(n);if(t!==$d(e))return!1;switch(t){case 0:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return om(n).isEqual(om(e));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const l=Jl(r.timestampValue),h=Jl(o.timestampValue);return l.seconds===h.seconds&&l.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return o=e,Hd(n.bytesValue).isEqual(Hd(o.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,o){return yr(r.geoPointValue.latitude)===yr(o.geoPointValue.latitude)&&yr(r.geoPointValue.longitude)===yr(o.geoPointValue.longitude)}(n,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return yr(r.integerValue)===yr(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const l=yr(r.doubleValue),h=yr(o.doubleValue);return l===h?sv(l)===sv(h):isNaN(l)&&isNaN(h)}return!1}(n,e);case 9:return im(n.arrayValue.values||[],e.arrayValue.values||[],Es);case 10:return function(r,o){const l=r.mapValue.fields||{},h=o.mapValue.fields||{};if(Rw(l)!==Rw(h))return!1;for(const p in l)if(l.hasOwnProperty(p)&&(void 0===h[p]||!Es(l[p],h[p])))return!1;return!0}(n,e);default:return ft()}var o}function am(n,e){return void 0!==(n.values||[]).find(t=>Es(t,e))}function hu(n,e){const t=$d(n),r=$d(e);if(t!==r)return Xt(t,r);switch(t){case 0:return 0;case 1:return Xt(n.booleanValue,e.booleanValue);case 2:return function(o,l){const h=yr(o.integerValue||o.doubleValue),p=yr(l.integerValue||l.doubleValue);return h<p?-1:h>p?1:h===p?0:isNaN(h)?isNaN(p)?0:-1:1}(n,e);case 3:return sa(n.timestampValue,e.timestampValue);case 4:return sa(om(n),om(e));case 5:return Xt(n.stringValue,e.stringValue);case 6:return function(o,l){const h=Hd(o),p=Hd(l);return h.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(o,l){const h=o.split("/"),p=l.split("/");for(let y=0;y<h.length&&y<p.length;y++){const C=Xt(h[y],p[y]);if(0!==C)return C}return Xt(h.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,l){const h=Xt(yr(o.latitude),yr(l.latitude));return 0!==h?h:Xt(yr(o.longitude),yr(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(o,l){const h=o.values||[],p=l.values||[];for(let y=0;y<h.length&&y<p.length;++y){const C=hu(h[y],p[y]);if(C)return C}return Xt(h.length,p.length)}(n.arrayValue,e.arrayValue);case 10:return function(o,l){const h=o.fields||{},p=Object.keys(h),y=l.fields||{},C=Object.keys(y);p.sort(),C.sort();for(let T=0;T<p.length&&T<C.length;++T){const R=Xt(p[T],C[T]);if(0!==R)return R;const V=hu(h[p[T]],y[C[T]]);if(0!==V)return V}return Xt(p.length,C.length)}(n.mapValue,e.mapValue);default:throw ft()}}function sa(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Xt(n,e);const t=Jl(n),r=Jl(e),o=Xt(t.seconds,r.seconds);return 0!==o?o:Xt(t.nanos,r.nanos)}function kw(n){return Tf(n)}function Tf(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const o=Jl(r);return`time(${o.seconds},${o.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Hd(n.bytesValue).toBase64():"referenceValue"in n?ut.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let o="[",l=!0;for(const h of r.values||[])l?l=!1:o+=",",o+=Tf(h);return o+"]"}(n.arrayValue):"mapValue"in n?function(r){const o=Object.keys(r.fields||{}).sort();let l="{",h=!0;for(const p of o)h?h=!1:l+=",",l+=`${p}:${Tf(r.fields[p])}`;return l+"}"}(n.mapValue):ft();var e}function ov(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function FI(n){return!!n&&"integerValue"in n}function Ow(n){return!!n&&"arrayValue"in n}function Sf(n){return!!n&&"nullValue"in n}function LI(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function av(n){return!!n&&"mapValue"in n}function lm(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return jd(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=lm(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=lm(n.arrayValue.values[t]);return e}return Object.assign({},n)}class Ur{constructor(e){this.value=e}static empty(){return new Ur({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!av(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=lm(t)}setAll(e){let t=vi.emptyPath(),r={},o=[];e.forEach((h,p)=>{if(!t.isImmediateParentOf(p)){const y=this.getFieldsMap(t);this.applyChanges(y,r,o),r={},o=[],t=p.popLast()}h?r[p.lastSegment()]=lm(h):o.push(p.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,r,o)}delete(e){const t=this.field(e.popLast());av(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Es(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];av(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){jd(t,(o,l)=>e[o]=l);for(const o of r)delete e[o]}clone(){return new Ur(lm(this.value))}}function VI(n){const e=[];return jd(n.fields,(t,r)=>{const o=new vi([t]);if(av(r)){const l=VI(r.mapValue).fields;if(0===l.length)e.push(o);else for(const h of l)e.push(o.child(h))}else e.push(o)}),new If(e)}class Xn{constructor(e,t,r,o,l){this.key=e,this.documentType=t,this.version=r,this.data=o,this.documentState=l}static newInvalidDocument(e){return new Xn(e,0,Bt.min(),Ur.empty(),0)}static newFoundDocument(e,t,r){return new Xn(e,1,t,r,0)}static newNoDocument(e,t){return new Xn(e,2,t,Ur.empty(),0)}static newUnknownDocument(e,t){return new Xn(e,3,t,Ur.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ur.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ur.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Xn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}clone(){return new Xn(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Zx{constructor(e,t=null,r=[],o=[],l=null,h=null,p=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=l,this.startAt=h,this.endAt=p,this.A=null}}function cm(n,e=null,t=[],r=[],o=null,l=null,h=null){return new Zx(n,e,t,r,o,l,h)}function um(n){const e=Ge(n);if(null===e.A){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>function(n){return n.field.canonicalString()+n.op.toString()+kw(n.value)}(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),du(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=cv(e.startAt)),e.endAt&&(t+="|ub:",t+=cv(e.endAt)),e.A=t}return e.A}function dm(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let o=0;o<n.orderBy.length;o++)if(!Xx(n.orderBy[o],e.orderBy[o]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let o=0;o<n.filters.length;o++)if((t=n.filters[o]).op!==(r=e.filters[o]).op||!t.field.isEqual(r.field)||!Es(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!uv(n.startAt,e.startAt)&&uv(n.endAt,e.endAt)}function hm(n){return ut.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class bi extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.R(e,t,r):new Yx(e,t,r):"array-contains"===t?new Nw(e,r):"in"===t?new UI(e,r):"not-in"===t?new Fw(e,r):"array-contains-any"===t?new Lw(e,r):new bi(e,t,r)}static R(e,t,r){return"in"===t?new Qx(e,r):new Uk(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.P(hu(t,this.value)):null!==t&&$d(this.value)===$d(t)&&this.P(hu(t,this.value))}P(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ft()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Yx extends bi{constructor(e,t,r){super(e,t,r),this.key=ut.fromName(r.referenceValue)}matches(e){const t=ut.comparator(e.key,this.key);return this.P(t)}}class Qx extends bi{constructor(e,t){super(e,"in",t),this.keys=lv(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Uk extends bi{constructor(e,t){super(e,"not-in",t),this.keys=lv(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function lv(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>ut.fromName(r.referenceValue))}class Nw extends bi{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ow(t)&&am(t.arrayValue,this.value)}}class UI extends bi{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&am(this.value.arrayValue,t)}}class Fw extends bi{constructor(e,t){super(e,"not-in",t)}matches(e){if(am(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!am(this.value.arrayValue,t)}}class Lw extends bi{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ow(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>am(this.value.arrayValue,r))}}class fm{constructor(e,t){this.position=e,this.before=t}}function cv(n){return`${n.before?"b":"a"}:${n.position.map(e=>kw(e)).join(",")}`}class Af{constructor(e,t="asc"){this.field=e,this.dir=t}}function Xx(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function Vw(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const l=e[o],h=n.position[o];if(r=l.field.isKeyField()?ut.comparator(ut.fromName(h.referenceValue),t.key):hu(h,t.data.field(l.field)),"desc"===l.dir&&(r*=-1),0!==r)break}return n.before?r<=0:r<0}function uv(n,e){if(null===n)return null===e;if(null===e||n.before!==e.before||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Es(n.position[t],e.position[t]))return!1;return!0}class Za{constructor(e,t=null,r=[],o=[],l=null,h="F",p=null,y=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=l,this.limitType=h,this.startAt=p,this.endAt=y,this.V=null,this.S=null}}function Bw(n,e,t,r,o,l,h,p){return new Za(n,e,t,r,o,l,h,p)}function zd(n){return new Za(n)}function pm(n){return!du(n.limit)&&"F"===n.limitType}function dv(n){return!du(n.limit)&&"L"===n.limitType}function hv(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function fv(n){for(const e of n.filters)if(e.v())return e.field;return null}function Uw(n){return null!==n.collectionGroup}function Gd(n){const e=Ge(n);if(null===e.V){e.V=[];const t=fv(e),r=hv(e);if(null!==t&&null===r)t.isKeyField()||e.V.push(new Af(t)),e.V.push(new Af(vi.keyField(),"asc"));else{let o=!1;for(const l of e.explicitOrderBy)e.V.push(l),l.field.isKeyField()&&(o=!0);if(!o){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.V.push(new Af(vi.keyField(),l))}}}return e.V}function Co(n){const e=Ge(n);if(!e.S)if("F"===e.limitType)e.S=cm(e.path,e.collectionGroup,Gd(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const l of Gd(e))t.push(new Af(l.field,"desc"===l.dir?"asc":"desc"));const r=e.endAt?new fm(e.endAt.position,!e.endAt.before):null,o=e.startAt?new fm(e.startAt.position,!e.startAt.before):null;e.S=cm(e.path,e.collectionGroup,t,e.filters,e.limit,r,o)}return e.S}function Ni(n,e,t){return new Za(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Ka(n,e){return dm(Co(n),Co(e))&&n.limitType===e.limitType}function jI(n){return`${um(Co(n))}|lt:${n.limitType}`}function jw(n){return`Query(target=${function(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${kw(r.value)}`;var r}).join(", ")}]`),du(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: "+cv(n.startAt)),n.endAt&&(e+=", endAt: "+cv(n.endAt)),`Target(${e})`}(Co(n))}; limitType=${n.limitType})`}function pv(n,e){return e.isFoundDocument()&&function(t,r){const o=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(o):ut.isDocumentKey(t.path)?t.path.isEqual(o):t.path.isImmediateParentOf(o)}(n,e)&&function(t,r){for(const o of t.explicitOrderBy)if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(n,e)&&function(t,r){for(const o of t.filters)if(!o.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!Vw(t.startAt,Gd(t),r)||t.endAt&&Vw(t.endAt,Gd(t),r)));var t,r}function xf(n){return(e,t)=>{let r=!1;for(const o of Gd(n)){const l=Jx(o,e,t);if(0!==l)return l;r=r||o.field.isKeyField()}return 0}}function Jx(n,e,t){const r=n.field.isKeyField()?ut.comparator(e.key,t.key):function(o,l,h){const p=l.data.field(o),y=h.data.field(o);return null!==p&&null!==y?hu(p,y):ft()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ft()}}function gv(n,e){if(n.D){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sv(e)?"-0":e}}function HI(n){return{integerValue:""+n}}function Hw(n,e){return NI(e)?HI(e):gv(n,e)}class mv{constructor(){this._=void 0}}function eM(n,e,t){return n instanceof qd?function(r,o){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&(l.fields.__previous_value__=o),{mapValue:l}}(t,e):n instanceof Ya?_v(n,e):n instanceof Mf?Gw(n,e):function(r,o){const l=zw(r,o),h=qw(l)+qw(r.C);return FI(l)&&FI(r.C)?HI(h):gv(r.N,h)}(n,e)}function $w(n,e,t){return n instanceof Ya?_v(n,e):n instanceof Mf?Gw(n,e):t}function zw(n,e){return n instanceof Rf?FI(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class qd extends mv{}class Ya extends mv{constructor(e){super(),this.elements=e}}function _v(n,e){const t=gm(e);for(const r of n.elements)t.some(o=>Es(o,r))||t.push(r);return{arrayValue:{values:t}}}class Mf extends mv{constructor(e){super(),this.elements=e}}function Gw(n,e){let t=gm(e);for(const r of n.elements)t=t.filter(o=>!Es(o,r));return{arrayValue:{values:t}}}class Rf extends mv{constructor(e,t){super(),this.N=e,this.C=t}}function qw(n){return yr(n.integerValue||n.doubleValue)}function gm(n){return Ow(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Pf{constructor(e,t){this.field=e,this.transform=t}}class Ww{constructor(e,t){this.version=e,this.transformResults=t}}class ar{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ar}static exists(e){return new ar(void 0,e)}static updateTime(e){return new ar(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function yv(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class vv{}function $I(n,e,t){n instanceof kf?function(r,o,l){const h=r.value.clone(),p=Kw(r.fieldTransforms,o,l.transformResults);h.setAll(p),o.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(n,e,t):n instanceof fu?function(r,o,l){if(!yv(r.precondition,o))return void o.convertToUnknownDocument(l.version);const h=Kw(r.fieldTransforms,o,l.transformResults),p=o.data;p.setAll(qI(r)),p.setAll(h),o.convertToFoundDocument(l.version,p).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function bv(n,e,t){var o;n instanceof kf?function(r,o,l){if(!yv(r.precondition,o))return;const h=r.value.clone(),p=WI(r.fieldTransforms,l,o);h.setAll(p),o.convertToFoundDocument(Zw(o),h).setHasLocalMutations()}(n,e,t):n instanceof fu?function(r,o,l){if(!yv(r.precondition,o))return;const h=WI(r.fieldTransforms,l,o),p=o.data;p.setAll(qI(r)),p.setAll(h),o.convertToFoundDocument(Zw(o),p).setHasLocalMutations()}(n,e,t):yv(n.precondition,o=e)&&o.convertToNoDocument(Bt.min())}function zI(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),l=zw(r.transform,o||null);null!=l&&(null==t&&(t=Ur.empty()),t.set(r.field,l))}return t||null}function GI(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&im(t,r,(o,l)=>function(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Ya&&r instanceof Ya||t instanceof Mf&&r instanceof Mf?im(t.elements,r.elements,Es):t instanceof Rf&&r instanceof Rf?Es(t.C,r.C):t instanceof qd&&r instanceof qd);var t,r}(o,l))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function Zw(n){return n.isFoundDocument()?n.version:Bt.min()}class kf extends vv{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}}class fu extends vv{constructor(e,t,r,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=l,this.type=1}}function qI(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function Kw(n,e,t){const r=new Map;St(n.length===t.length);for(let o=0;o<t.length;o++){const l=n[o],h=l.transform,p=e.data.field(l.field);r.set(l.field,$w(h,p,t[o]))}return r}function WI(n,e,t){const r=new Map;for(const o of n){const l=o.transform,h=t.data.field(o.field);r.set(o.field,eM(l,h,e))}return r}class Of extends vv{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class Ev extends vv{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class ZI{constructor(e){this.count=e}}var vr,en;function KI(n){switch(n){default:return ft();case ge.CANCELLED:case ge.UNKNOWN:case ge.DEADLINE_EXCEEDED:case ge.RESOURCE_EXHAUSTED:case ge.INTERNAL:case ge.UNAVAILABLE:case ge.UNAUTHENTICATED:return!1;case ge.INVALID_ARGUMENT:case ge.NOT_FOUND:case ge.ALREADY_EXISTS:case ge.PERMISSION_DENIED:case ge.FAILED_PRECONDITION:case ge.ABORTED:case ge.OUT_OF_RANGE:case ge.UNIMPLEMENTED:case ge.DATA_LOSS:return!0}}function YI(n){if(void 0===n)return _r("GRPC error has no .code"),ge.UNKNOWN;switch(n){case vr.OK:return ge.OK;case vr.CANCELLED:return ge.CANCELLED;case vr.UNKNOWN:return ge.UNKNOWN;case vr.DEADLINE_EXCEEDED:return ge.DEADLINE_EXCEEDED;case vr.RESOURCE_EXHAUSTED:return ge.RESOURCE_EXHAUSTED;case vr.INTERNAL:return ge.INTERNAL;case vr.UNAVAILABLE:return ge.UNAVAILABLE;case vr.UNAUTHENTICATED:return ge.UNAUTHENTICATED;case vr.INVALID_ARGUMENT:return ge.INVALID_ARGUMENT;case vr.NOT_FOUND:return ge.NOT_FOUND;case vr.ALREADY_EXISTS:return ge.ALREADY_EXISTS;case vr.PERMISSION_DENIED:return ge.PERMISSION_DENIED;case vr.FAILED_PRECONDITION:return ge.FAILED_PRECONDITION;case vr.ABORTED:return ge.ABORTED;case vr.OUT_OF_RANGE:return ge.OUT_OF_RANGE;case vr.UNIMPLEMENTED:return ge.UNIMPLEMENTED;case vr.DATA_LOSS:return ge.DATA_LOSS;default:return ft()}}(en=vr||(vr={}))[en.OK=0]="OK",en[en.CANCELLED=1]="CANCELLED",en[en.UNKNOWN=2]="UNKNOWN",en[en.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",en[en.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",en[en.NOT_FOUND=5]="NOT_FOUND",en[en.ALREADY_EXISTS=6]="ALREADY_EXISTS",en[en.PERMISSION_DENIED=7]="PERMISSION_DENIED",en[en.UNAUTHENTICATED=16]="UNAUTHENTICATED",en[en.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",en[en.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",en[en.ABORTED=10]="ABORTED",en[en.OUT_OF_RANGE=11]="OUT_OF_RANGE",en[en.UNIMPLEMENTED=12]="UNIMPLEMENTED",en[en.INTERNAL=13]="INTERNAL",en[en.UNAVAILABLE=14]="UNAVAILABLE",en[en.DATA_LOSS=15]="DATA_LOSS";class Rr{constructor(e,t){this.comparator=e,this.root=t||Fi.EMPTY}insert(e,t){return new Rr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Fi.BLACK,null,null))}remove(e){return new Rr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Fi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(0===o)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Yw(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Yw(this.root,e,this.comparator,!1)}getReverseIterator(){return new Yw(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Yw(this.root,e,this.comparator,!0)}}class Yw{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Fi{constructor(e,t,r,o,l){this.key=e,this.value=t,this.color=null!=r?r:Fi.RED,this.left=null!=o?o:Fi.EMPTY,this.right=null!=l?l:Fi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,l){return new Fi(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=o?o:this.left,null!=l?l:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const l=r(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,r),null):0===l?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Fi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===t(e,o.key)){if(o.right.isEmpty())return Fi.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Fi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Fi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ft();const e=this.left.check();if(e!==this.right.check())throw ft();return e+(this.isRed()?0:1)}}Fi.EMPTY=null,Fi.RED=!0,Fi.BLACK=!1,Fi.EMPTY=new class{constructor(){this.size=0}get key(){throw ft()}get value(){throw ft()}get color(){throw ft()}get left(){throw ft()}get right(){throw ft()}copy(n,e,t,r,o){return this}insert(n,e,t){return new Fi(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class br{constructor(e){this.comparator=e,this.data=new Rr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new nM(this.data.getIterator())}getIteratorFrom(e){return new nM(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof br)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=r.getNext().key;if(0!==this.comparator(o,l))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new br(this.comparator);return t.data=e,t}}class nM{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const jk=new Rr(ut.comparator);function oa(){return jk}const Hk=new Rr(ut.comparator);function Qw(){return Hk}const rM=new Rr(ut.comparator);function QI(){return rM}const $k=new br(ut.comparator);function In(...n){let e=$k;for(const t of n)e=e.add(t);return e}const zk=new br(Xt);function wv(){return zk}class mm{constructor(e,t,r,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,_m.createSynthesizedTargetChangeForCurrentChange(e,t)),new mm(Bt.min(),r,wv(),oa(),In())}}class _m{constructor(e,t,r,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t){return new _m(or.EMPTY_BYTE_STRING,t,In(),In(),In())}}class Xw{constructor(e,t,r,o){this.k=e,this.removedTargetIds=t,this.key=r,this.$=o}}class iM{constructor(e,t){this.targetId=e,this.O=t}}class XI{constructor(e,t,r=or.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class sM{constructor(){this.F=0,this.M=Cv(),this.L=or.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return 0!==this.F}get K(){return this.U}j(e){e.approximateByteSize()>0&&(this.U=!0,this.L=e)}W(){let e=In(),t=In(),r=In();return this.M.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:ft()}}),new _m(this.L,this.B,e,t,r)}G(){this.U=!1,this.M=Cv()}H(e,t){this.U=!0,this.M=this.M.insert(e,t)}J(e){this.U=!0,this.M=this.M.remove(e)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class oM{constructor(e){this.tt=e,this.et=new Map,this.nt=oa(),this.st=aM(),this.it=new br(Xt)}rt(e){for(const t of e.k)e.$&&e.$.isFoundDocument()?this.ot(t,e.$):this.ct(t,e.key,e.$);for(const t of e.removedTargetIds)this.ct(t,e.key,e.$)}at(e){this.forEachTarget(e,t=>{const r=this.ut(t);switch(e.state){case 0:this.ht(t)&&r.j(e.resumeToken);break;case 1:r.X(),r.q||r.G(),r.j(e.resumeToken);break;case 2:r.X(),r.q||this.removeTarget(t);break;case 3:this.ht(t)&&(r.Z(),r.j(e.resumeToken));break;case 4:this.ht(t)&&(this.lt(t),r.j(e.resumeToken));break;default:ft()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.et.forEach((r,o)=>{this.ht(o)&&t(o)})}ft(e){const t=e.targetId,r=e.O.count,o=this.dt(t);if(o){const l=o.target;if(hm(l))if(0===r){const h=new ut(l.path);this.ct(t,h,Xn.newNoDocument(h,Bt.min()))}else St(1===r);else this.wt(t)!==r&&(this.lt(t),this.it=this.it.add(t))}}_t(e){const t=new Map;this.et.forEach((l,h)=>{const p=this.dt(h);if(p){if(l.current&&hm(p.target)){const y=new ut(p.target.path);null!==this.nt.get(y)||this.gt(h,y)||this.ct(h,y,Xn.newNoDocument(y,e))}l.K&&(t.set(h,l.W()),l.G())}});let r=In();this.st.forEach((l,h)=>{let p=!0;h.forEachWhile(y=>{const C=this.dt(y);return!C||2===C.purpose||(p=!1,!1)}),p&&(r=r.add(l))});const o=new mm(e,t,this.it,this.nt,r);return this.nt=oa(),this.st=aM(),this.it=new br(Xt),o}ot(e,t){if(!this.ht(e))return;const r=this.gt(e,t.key)?2:0;this.ut(e).H(t.key,r),this.nt=this.nt.insert(t.key,t),this.st=this.st.insert(t.key,this.yt(t.key).add(e))}ct(e,t,r){if(!this.ht(e))return;const o=this.ut(e);this.gt(e,t)?o.H(t,1):o.J(t),this.st=this.st.insert(t,this.yt(t).delete(e)),r&&(this.nt=this.nt.insert(t,r))}removeTarget(e){this.et.delete(e)}wt(e){const t=this.ut(e).W();return this.tt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Y(e){this.ut(e).Y()}ut(e){let t=this.et.get(e);return t||(t=new sM,this.et.set(e,t)),t}yt(e){let t=this.st.get(e);return t||(t=new br(Xt),this.st=this.st.insert(e,t)),t}ht(e){const t=null!==this.dt(e);return t||$e("WatchChangeAggregator","Detected inactive target",e),t}dt(e){const t=this.et.get(e);return t&&t.q?null:this.tt.Tt(e)}lt(e){this.et.set(e,new sM),this.tt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}gt(e,t){return this.tt.getRemoteKeysForTarget(e).has(t)}}function aM(){return new Rr(ut.comparator)}function Cv(){return new Rr(ut.comparator)}const Nf={asc:"ASCENDING",desc:"DESCENDING"},JI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class lM{constructor(e,t){this.databaseId=e,this.D=t}}function ym(n,e){return n.D?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Dv(n,e){return n.D?e.toBase64():e.toUint8Array()}function eT(n,e){return ym(n,e.toTimestamp())}function jr(n){return St(!!n),Bt.fromTimestamp(function(e){const t=Jl(e);return new Mr(t.seconds,t.nanos)}(n))}function Iv(n,e){return(t=n,new pn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function cM(n){const e=pn.fromString(n);return St(Av(e)),e}function Ff(n,e){return Iv(n.databaseId,e.path)}function js(n,e){const t=cM(e);if(t.get(1)!==n.databaseId.projectId)throw new Oe(ge.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Oe(ge.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ut(dM(t))}function Tv(n,e){return Iv(n.databaseId,e)}function uM(n){const e=cM(n);return 4===e.length?pn.emptyPath():dM(e)}function Sv(n){return new pn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function dM(n){return St(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function tT(n,e,t){return{name:Ff(n,e),fields:t.value.mapValue.fields}}function hM(n,e,t){const r=js(n,e.name),o=jr(e.updateTime),l=new Ur({mapValue:{fields:e.fields}}),h=Xn.newFoundDocument(r,o,l);return t&&h.setHasCommittedMutations(),t?h.setHasCommittedMutations():h}function Jw(n,e){let t;if(e instanceof kf)t={update:tT(n,e.key,e.value)};else if(e instanceof Of)t={delete:Ff(n,e.key)};else if(e instanceof fu)t={update:tT(n,e.key,e.data),updateMask:EM(e.fieldMask)};else{if(!(e instanceof Ev))return ft();t={verify:Ff(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,l){const h=l.transform;if(h instanceof qd)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Ya)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Mf)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Rf)return{fieldPath:l.field.canonicalString(),increment:h.C};throw ft()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:eT(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:ft()),t;var o}function pM(n,e){const t=e.currentDocument?void 0!==(o=e.currentDocument).updateTime?ar.updateTime(jr(o.updateTime)):void 0!==o.exists?ar.exists(o.exists):ar.none():ar.none(),r=e.updateTransforms?e.updateTransforms.map(o=>function(l,h){let p=null;"setToServerValue"in h?(St("REQUEST_TIME"===h.setToServerValue),p=new qd):"appendMissingElements"in h?p=new Ya(h.appendMissingElements.values||[]):"removeAllFromArray"in h?p=new Mf(h.removeAllFromArray.values||[]):"increment"in h?p=new Rf(l,h.increment):ft();const y=vi.fromServerFormat(h.fieldPath);return new Pf(y,p)}(n,o)):[];var o;if(e.update){const o=js(n,e.update.name),l=new Ur({mapValue:{fields:e.update.fields}});if(e.updateMask){const h=new If((e.updateMask.fieldPaths||[]).map(C=>vi.fromServerFormat(C)));return new fu(o,l,h,t,r)}return new kf(o,l,t,r)}if(e.delete){const o=js(n,e.delete);return new Of(o,t)}if(e.verify){const o=js(n,e.verify);return new Ev(o,t)}return ft()}function rT(n,e){return{documents:[Tv(n,e.path)]}}function gM(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=Tv(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Tv(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const o=function(p){if(0===p.length)return;const y=p.map(C=>function(T){if("=="===T.op){if(LI(T.value))return{unaryFilter:{field:Lf(T.field),op:"IS_NAN"}};if(Sf(T.value))return{unaryFilter:{field:Lf(T.field),op:"IS_NULL"}}}else if("!="===T.op){if(LI(T.value))return{unaryFilter:{field:Lf(T.field),op:"IS_NOT_NAN"}};if(Sf(T.value))return{unaryFilter:{field:Lf(T.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Lf(T.field),op:qk(T.op),value:T.value}}}(C));return 1===y.length?y[0]:{compositeFilter:{op:"AND",filters:y}}}(e.filters);o&&(t.structuredQuery.where=o);const l=function(p){if(0!==p.length)return p.map(y=>{return{field:Lf((C=y).field),direction:Gk(C.dir)};var C})}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const h=(y=e.limit,n.D||du(y)?y:{value:y});var y;return null!==h&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=tC(e.startAt)),e.endAt&&(t.structuredQuery.endAt=tC(e.endAt)),t}function mM(n){let e=uM(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){St(1===r);const T=t.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let l=[];t.where&&(l=yM(t.where));let h=[];t.orderBy&&(h=t.orderBy.map(T=>{return new Af(pu((R=T).field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction));var R}));let p=null;t.limit&&(p=function(T){let R;return R="object"==typeof T?T.value:T,du(R)?null:R}(t.limit));let y=null;t.startAt&&(y=iT(t.startAt));let C=null;return t.endAt&&(C=iT(t.endAt)),Bw(e,o,h,l,p,"F",y,C)}function yM(n){return n?void 0!==n.unaryFilter?[bM(n)]:void 0!==n.fieldFilter?[vM(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>yM(e)).reduce((e,t)=>e.concat(t)):ft():[]}function tC(n){return{before:n.before,values:n.position}}function iT(n){return new fm(n.values||[],!!n.before)}function Gk(n){return Nf[n]}function qk(n){return JI[n]}function Lf(n){return{fieldPath:n.canonicalString()}}function pu(n){return vi.fromServerFormat(n.fieldPath)}function vM(n){return bi.create(pu(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ft()}}(n.fieldFilter.op),n.fieldFilter.value)}function bM(n){switch(n.unaryFilter.op){case"IS_NAN":const e=pu(n.unaryFilter.field);return bi.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=pu(n.unaryFilter.field);return bi.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=pu(n.unaryFilter.field);return bi.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=pu(n.unaryFilter.field);return bi.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ft()}}function EM(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Av(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function aa(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=sT(e)),e=Hs(n.get(t),e);return sT(e)}function Hs(n,e){let t=e;const r=n.length;for(let o=0;o<r;o++){const l=n.charAt(o);switch(l){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=l}}return t}function sT(n){return n+"\x01\x01"}function la(n){const e=n.length;if(St(e>=2),2===e)return St("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),pn.emptyPath();const t=e-2,r=[];let o="";for(let l=0;l<e;){const h=n.indexOf("\x01",l);switch((h<0||h>t)&&ft(),n.charAt(h+1)){case"\x01":const p=n.substring(l,h);let y;0===o.length?y=p:(o+=p,y=o,o=""),r.push(y);break;case"\x10":o+=n.substring(l,h),o+="\0";break;case"\x11":o+=n.substring(l,h+1);break;default:ft()}l=h+2}return new pn(r)}class wM{constructor(e,t){this.seconds=e,this.nanoseconds=t}}class $s{constructor(e,t,r){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=r}}$s.store="owner",$s.key="owner";class Qa{constructor(e,t,r){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=r}}Qa.store="mutationQueues",Qa.keyPath="userId";class kn{constructor(e,t,r,o,l){this.userId=e,this.batchId=t,this.localWriteTimeMs=r,this.baseMutations=o,this.mutations=l}}kn.store="mutations",kn.keyPath="batchId",kn.userMutationsIndex="userMutationsIndex",kn.userMutationsKeyPath=["userId","batchId"];class Ei{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,t){return[e,aa(t)]}static key(e,t,r){return[e,aa(t),r]}}Ei.store="documentMutations",Ei.PLACEHOLDER=new Ei;class CM{constructor(e,t){this.path=e,this.readTime=t}}class oT{constructor(e,t){this.path=e,this.version=t}}class Jn{constructor(e,t,r,o,l,h){this.unknownDocument=e,this.noDocument=t,this.document=r,this.hasCommittedMutations=o,this.readTime=l,this.parentPath=h}}Jn.store="remoteDocuments",Jn.readTimeIndex="readTimeIndex",Jn.readTimeIndexPath="readTime",Jn.collectionReadTimeIndex="collectionReadTimeIndex",Jn.collectionReadTimeIndexPath=["parentPath","readTime"];class Xa{constructor(e){this.byteSize=e}}Xa.store="remoteDocumentGlobal",Xa.key="remoteDocumentGlobalKey";class ws{constructor(e,t,r,o,l,h,p){this.targetId=e,this.canonicalId=t,this.readTime=r,this.resumeToken=o,this.lastListenSequenceNumber=l,this.lastLimboFreeSnapshotVersion=h,this.query=p}}ws.store="targets",ws.keyPath="targetId",ws.queryTargetsIndexName="queryTargetsIndex",ws.queryTargetsKeyPath=["canonicalId","targetId"];class Hr{constructor(e,t,r){this.targetId=e,this.path=t,this.sequenceNumber=r}}Hr.store="targetDocuments",Hr.keyPath=["targetId","path"],Hr.documentTargetsIndex="documentTargetsIndex",Hr.documentTargetsKeyPath=["path","targetId"];class Cs{constructor(e,t,r,o){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=r,this.targetCount=o}}Cs.key="targetGlobalKey",Cs.store="targetGlobal";class gu{constructor(e,t){this.collectionId=e,this.parent=t}}gu.store="collectionParents",gu.keyPath=["collectionId","parent"];class ca{constructor(e,t,r,o){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=r,this.inForeground=o}}ca.store="clientMetadata",ca.keyPath="clientId";class Vf{constructor(e,t,r){this.bundleId=e,this.createTime=t,this.version=r}}Vf.store="bundles",Vf.keyPath="bundleId";class Li{constructor(e,t,r){this.name=e,this.readTime=t,this.bundledQuery=r}}Li.store="namedQueries",Li.keyPath="name";const DM=[Qa.store,kn.store,Ei.store,Jn.store,ws.store,$s.store,Cs.store,Hr.store,ca.store,Xa.store,gu.store,Vf.store,Li.store],IM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class aT{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class Re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ft(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Re((r,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(r,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Re?t:Re.resolve(t)}catch(t){return Re.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Re.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Re.reject(t)}static resolve(e){return new Re((t,r)=>{t(e)})}static reject(e){return new Re((t,r)=>{r(e)})}static waitFor(e){return new Re((t,r)=>{let o=0,l=0,h=!1;e.forEach(p=>{++o,p.next(()=>{++l,h&&l===o&&t()},y=>r(y))}),h=!0,l===o&&t()})}static or(e){let t=Re.resolve(!1);for(const r of e)t=t.next(o=>o?Re.resolve(o):r());return t}static forEach(e,t){const r=[];return e.forEach((o,l)=>{r.push(t.call(this,o,l))}),this.waitFor(r)}}class xv{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.Et=new ni,this.transaction.oncomplete=()=>{this.Et.resolve()},this.transaction.onabort=()=>{t.error?this.Et.reject(new Mv(e,t.error)):this.Et.resolve()},this.transaction.onerror=r=>{const o=Rv(r.target.error);this.Et.reject(new Mv(e,o))}}static open(e,t,r,o){try{return new xv(t,e.transaction(o,r))}catch(l){throw new Mv(t,l)}}get It(){return this.Et.promise}abort(e){e&&this.Et.reject(e),this.aborted||($e("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(e){const t=this.transaction.objectStore(e);return new lT(t)}}class ua{constructor(e,t,r){this.name=e,this.version=t,this.At=r,12.2===ua.Rt((0,Wt.z$)())&&_r("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return $e("SimpleDb","Removing database:",e),Zd(window.indexedDB.deleteDatabase(e)).toPromise()}static bt(){if(!(0,Wt.hl)())return!1;if(ua.Pt())return!0;const e=(0,Wt.z$)(),t=ua.Rt(e),r=0<t&&t<10,o=ua.vt(e),l=0<o&&o<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||l)}static Pt(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Vt)}static St(e,t){return e.store(t)}static Rt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static vt(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}Dt(e){var t=this;return(0,de.Z)(function*(){return t.db||($e("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,o)=>{const l=indexedDB.open(t.name,t.version);l.onsuccess=h=>{r(h.target.result)},l.onblocked=()=>{o(new Mv(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=h=>{const p=h.target.error;o("VersionError"===p.name?new Oe(ge.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===p.name?new Oe(ge.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+p):new Mv(e,p))},l.onupgradeneeded=h=>{$e("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',h.oldVersion),t.At.Ct(h.target.result,l.transaction,h.oldVersion,t.version).next(()=>{$e("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Nt&&(t.db.onversionchange=r=>t.Nt(r)),t.db})()}xt(e){this.Nt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,o){var l=this;return(0,de.Z)(function*(){const h="readonly"===t;let p=0;for(;;){++p;try{l.db=yield l.Dt(e);const y=xv.open(l.db,e,h?"readonly":"readwrite",r),C=o(y).catch(T=>(y.abort(T),Re.reject(T))).toPromise();return C.catch(()=>{}),yield y.It,C}catch(y){const C="FirebaseError"!==y.name&&p<3;if($e("SimpleDb","Transaction failed with error:",y.message,"Retrying:",C),l.close(),!C)return Promise.reject(y)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class TM{constructor(e){this.kt=e,this.$t=!1,this.Ot=null}get isDone(){return this.$t}get Ft(){return this.Ot}set cursor(e){this.kt=e}done(){this.$t=!0}Mt(e){this.Ot=e}delete(){return Zd(this.kt.delete())}}class Mv extends Oe{constructor(e,t){super(ge.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Wd(n){return"IndexedDbTransactionError"===n.name}class lT{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?($e("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):($e("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Zd(r)}add(e){return $e("SimpleDb","ADD",this.store.name,e,e),Zd(this.store.add(e))}get(e){return Zd(this.store.get(e)).next(t=>(void 0===t&&(t=null),$e("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return $e("SimpleDb","DELETE",this.store.name,e),Zd(this.store.delete(e))}count(){return $e("SimpleDb","COUNT",this.store.name),Zd(this.store.count())}Lt(e,t){const r=this.cursor(this.options(e,t)),o=[];return this.Bt(r,(l,h)=>{o.push(h)}).next(()=>o)}Ut(e,t){$e("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.qt=!1;const o=this.cursor(r);return this.Bt(o,(l,h,p)=>p.delete())}Kt(e,t){let r;t?r=e:(r={},t=e);const o=this.cursor(r);return this.Bt(o,t)}jt(e){const t=this.cursor({});return new Re((r,o)=>{t.onerror=l=>{const h=Rv(l.target.error);o(h)},t.onsuccess=l=>{const h=l.target.result;h?e(h.primaryKey,h.value).next(p=>{p?h.continue():r()}):r()}})}Bt(e,t){const r=[];return new Re((o,l)=>{e.onerror=h=>{l(h.target.error)},e.onsuccess=h=>{const p=h.target.result;if(!p)return void o();const y=new TM(p),C=t(p.primaryKey,p.value,y);if(C instanceof Re){const T=C.catch(R=>(y.done(),Re.reject(R)));r.push(T)}y.isDone?o():null===y.Ft?p.continue():p.continue(y.Ft)}}).next(()=>Re.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.qt?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Zd(n){return new Re((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const o=Rv(r.target.error);t(o)}})}let cT=!1;function Rv(n){const e=ua.Rt((0,Wt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Oe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return cT||(cT=!0,setTimeout(()=>{throw r},0)),r}}return n}class uT extends aT{constructor(e,t){super(),this.Qt=e,this.currentSequenceNumber=t}}function zs(n,e){const t=Ge(n);return ua.St(t.Qt,e)}class Pv{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&$I(l,e,r[o])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&bv(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&bv(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const r=e.get(t.key),o=r;this.applyToLocalView(o),r.isValidDocument()||o.convertToNoDocument(Bt.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),In())}isEqual(e){return this.batchId===e.batchId&&im(this.mutations,e.mutations,(t,r)=>GI(t,r))&&im(this.baseMutations,e.baseMutations,(t,r)=>GI(t,r))}}class kv{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){St(e.mutations.length===r.length);let o=QI();const l=e.mutations;for(let h=0;h<l.length;h++)o=o.insert(l[h].key,r[h].version);return new kv(e,t,r,o)}}class mu{constructor(e,t,r,o,l=Bt.min(),h=Bt.min(),p=or.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=p}withSequenceNumber(e){return new mu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new mu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new mu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class dT{constructor(e){this.Wt=e}}function Ov(n,e){if(e.document)return hM(n.Wt,e.document,!!e.hasCommittedMutations);if(e.noDocument){const t=ut.fromSegments(e.noDocument.path),r=bm(e.noDocument.readTime),o=Xn.newNoDocument(t,r);return e.hasCommittedMutations?o.setHasCommittedMutations():o}if(e.unknownDocument){const t=ut.fromSegments(e.unknownDocument.path),r=bm(e.unknownDocument.version);return Xn.newUnknownDocument(t,r)}return ft()}function Bf(n,e,t){const r=vm(t),o=e.key.path.popLast().toArray();if(e.isFoundDocument()){const l={name:Ff(p=n.Wt,(y=e).key),fields:y.data.value.mapValue.fields,updateTime:ym(p,y.version.toTimestamp())};return new Jn(null,null,l,e.hasCommittedMutations,r,o)}var p,y;if(e.isNoDocument()){const l=e.key.path.toArray(),h=Uf(e.version),p=e.hasCommittedMutations;return new Jn(null,new CM(l,h),null,p,r,o)}if(e.isUnknownDocument()){const l=e.key.path.toArray(),h=Uf(e.version);return new Jn(new oT(l,h),null,null,!0,r,o)}return ft()}function vm(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function nC(n){const e=new Mr(n[0],n[1]);return Bt.fromTimestamp(e)}function Uf(n){const e=n.toTimestamp();return new wM(e.seconds,e.nanoseconds)}function bm(n){const e=new Mr(n.seconds,n.nanoseconds);return Bt.fromTimestamp(e)}function Em(n,e){const t=(e.baseMutations||[]).map(l=>pM(n.Wt,l));for(let l=0;l<e.mutations.length-1;++l){const h=e.mutations[l];l+1<e.mutations.length&&void 0!==e.mutations[l+1].transform&&(h.updateTransforms=e.mutations[l+1].transform.fieldTransforms,e.mutations.splice(l+1,1),++l)}const r=e.mutations.map(l=>pM(n.Wt,l)),o=Mr.fromMillis(e.localWriteTimeMs);return new Pv(e.batchId,o,t,r)}function Nv(n){const e=bm(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?bm(n.lastLimboFreeSnapshotVersion):Bt.min();let r;var o;return void 0!==n.query.documents?(St(1===(o=n.query).documents.length),r=Co(zd(uM(o.documents[0])))):r=Co(mM(n.query)),new mu(r,n.targetId,0,n.lastListenSequenceNumber,e,t,or.fromBase64String(n.resumeToken))}function SM(n,e){const t=Uf(e.snapshotVersion),r=Uf(e.lastLimboFreeSnapshotVersion);let o;o=hm(e.target)?rT(n.Wt,e.target):gM(n.Wt,e.target);const l=e.resumeToken.toBase64();return new ws(e.targetId,um(e.target),t,l,e.sequenceNumber,r,o)}function hT(n){const e=mM({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Ni(e,e.limit,"L"):e}class Wk{getBundleMetadata(e,t){return Fv(e).get(t).next(r=>{if(r)return{id:(o=r).bundleId,createTime:bm(o.createTime),version:o.version};var o})}saveBundleMetadata(e,t){return Fv(e).put({bundleId:(r=t).id,createTime:Uf(jr(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return fT(e).get(t).next(r=>{if(r)return{name:(o=r).name,query:hT(o.bundledQuery),readTime:bm(o.readTime)};var o})}saveNamedQuery(e,t){return fT(e).put({name:(r=t).name,readTime:Uf(jr(r.readTime)),bundledQuery:r.bundledQuery});var r}}function Fv(n){return zs(n,Vf.store)}function fT(n){return zs(n,Li.store)}class Zk{constructor(){this.Gt=new rC}addToCollectionParentIndex(e,t){return this.Gt.add(t),Re.resolve()}getCollectionParents(e,t){return Re.resolve(this.Gt.getEntries(t))}}class rC{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new br(pn.comparator),l=!o.has(r);return this.index[t]=o.add(r),l}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new br(pn.comparator)).toArray()}}class AM{constructor(){this.zt=new rC}addToCollectionParentIndex(e,t){if(!this.zt.has(t)){const r=t.lastSegment(),o=t.popLast();e.addOnCommittedListener(()=>{this.zt.add(t)});const l={collectionId:r,parent:aa(o)};return pT(e).put(l)}return Re.resolve()}getCollectionParents(e,t){const r=[],o=IDBKeyRange.bound([t,""],[Mw(t),""],!1,!0);return pT(e).Lt(o).next(l=>{for(const h of l){if(h.collectionId!==t)break;r.push(la(h.parent))}return r})}}function pT(n){return zs(n,gu.store)}const gT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Gs{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Gs(e,Gs.DEFAULT_COLLECTION_PERCENTILE,Gs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function xM(n,e,t){const r=n.store(kn.store),o=n.store(Ei.store),l=[],h=IDBKeyRange.only(t.batchId);let p=0;const y=r.Kt({range:h},(T,R,V)=>(p++,V.delete()));l.push(y.next(()=>{St(1===p)}));const C=[];for(const T of t.mutations){const R=Ei.key(e,T.key.path,t.batchId);l.push(o.delete(R)),C.push(T.key)}return Re.waitFor(l).next(()=>C)}function iC(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw ft();e=n.noDocument}return JSON.stringify(e).length}Gs.DEFAULT_COLLECTION_PERCENTILE=10,Gs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Gs.DEFAULT=new Gs(41943040,Gs.DEFAULT_COLLECTION_PERCENTILE,Gs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Gs.DISABLED=new Gs(-1,0,0);class sC{constructor(e,t,r,o){this.userId=e,this.N=t,this.Ht=r,this.referenceDelegate=o,this.Jt={}}static Yt(e,t,r,o){St(""!==e.uid);const l=e.isAuthenticated()?e.uid:"";return new sC(l,t,r,o)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Vn(e).Kt({index:kn.userMutationsIndex,range:r},(o,l,h)=>{t=!1,h.done()}).next(()=>t)}addMutationBatch(e,t,r,o){const l=wm(e),h=Vn(e);return h.add({}).next(p=>{St("number"==typeof p);const y=new Pv(p,t,r,o),C=function(V,U,Q){const fe=Q.baseMutations.map(lt=>Jw(V.Wt,lt)),De=Q.mutations.map(lt=>Jw(V.Wt,lt));return new kn(U,Q.batchId,Q.localWriteTime.toMillis(),fe,De)}(this.N,this.userId,y),T=[];let R=new br((V,U)=>Xt(V.canonicalString(),U.canonicalString()));for(const V of o){const U=Ei.key(this.userId,V.key.path,p);R=R.add(V.key.path.popLast()),T.push(h.put(C)),T.push(l.put(U,Ei.PLACEHOLDER))}return R.forEach(V=>{T.push(this.Ht.addToCollectionParentIndex(e,V))}),e.addOnCommittedListener(()=>{this.Jt[p]=y.keys()}),Re.waitFor(T).next(()=>y)})}lookupMutationBatch(e,t){return Vn(e).get(t).next(r=>r?(St(r.userId===this.userId),Em(this.N,r)):null)}Xt(e,t){return this.Jt[t]?Re.resolve(this.Jt[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const o=r.keys();return this.Jt[t]=o,o}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=IDBKeyRange.lowerBound([this.userId,r]);let l=null;return Vn(e).Kt({index:kn.userMutationsIndex,range:o},(h,p,y)=>{p.userId===this.userId&&(St(p.batchId>=r),l=Em(this.N,p)),y.done()}).next(()=>l)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Vn(e).Kt({index:kn.userMutationsIndex,range:t,reverse:!0},(o,l,h)=>{r=l.batchId,h.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Vn(e).Lt(kn.userMutationsIndex,t).next(r=>r.map(o=>Em(this.N,o)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=Ei.prefixForPath(this.userId,t.path),o=IDBKeyRange.lowerBound(r),l=[];return wm(e).Kt({range:o},(h,p,y)=>{const[C,T,R]=h,V=la(T);if(C===this.userId&&t.path.isEqual(V))return Vn(e).get(R).next(U=>{if(!U)throw ft();St(U.userId===this.userId),l.push(Em(this.N,U))});y.done()}).next(()=>l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new br(Xt);const o=[];return t.forEach(l=>{const h=Ei.prefixForPath(this.userId,l.path),p=IDBKeyRange.lowerBound(h),y=wm(e).Kt({range:p},(C,T,R)=>{const[V,U,Q]=C,fe=la(U);V===this.userId&&l.path.isEqual(fe)?r=r.add(Q):R.done()});o.push(y)}),Re.waitFor(o).next(()=>this.Zt(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1,l=Ei.prefixForPath(this.userId,r),h=IDBKeyRange.lowerBound(l);let p=new br(Xt);return wm(e).Kt({range:h},(y,C,T)=>{const[R,V,U]=y,Q=la(V);R===this.userId&&r.isPrefixOf(Q)?Q.length===o&&(p=p.add(U)):T.done()}).next(()=>this.Zt(e,p))}Zt(e,t){const r=[],o=[];return t.forEach(l=>{o.push(Vn(e).get(l).next(h=>{if(null===h)throw ft();St(h.userId===this.userId),r.push(Em(this.N,h))}))}),Re.waitFor(o).next(()=>r)}removeMutationBatch(e,t){return xM(e.Qt,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.te(t.batchId)}),Re.forEach(r,o=>this.referenceDelegate.markPotentiallyOrphaned(e,o))))}te(e){delete this.Jt[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Re.resolve();const r=IDBKeyRange.lowerBound(Ei.prefixForUser(this.userId)),o=[];return wm(e).Kt({range:r},(l,h,p)=>{if(l[0]===this.userId){const y=la(l[1]);o.push(y)}else p.done()}).next(()=>{St(0===o.length)})})}containsKey(e,t){return Lv(e,this.userId,t)}ee(e){return oC(e).get(this.userId).next(t=>t||new Qa(this.userId,-1,""))}}function Lv(n,e,t){const r=Ei.prefixForPath(e,t.path),o=r[1],l=IDBKeyRange.lowerBound(r);let h=!1;return wm(n).Kt({range:l,qt:!0},(p,y,C)=>{const[T,R,V]=p;T===e&&R===o&&(h=!0),C.done()}).next(()=>h)}function Vn(n){return zs(n,kn.store)}function wm(n){return zs(n,Ei.store)}function oC(n){return zs(n,Qa.store)}class _u{constructor(e){this.ne=e}next(){return this.ne+=2,this.ne}static se(){return new _u(0)}static ie(){return new _u(-1)}}class MM{constructor(e,t){this.referenceDelegate=e,this.N=t}allocateTargetId(e){return this.re(e).next(t=>{const r=new _u(t.highestTargetId);return t.highestTargetId=r.next(),this.oe(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.re(e).next(t=>Bt.fromTimestamp(new Mr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.re(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.re(e).next(o=>(o.highestListenSequenceNumber=t,r&&(o.lastRemoteSnapshotVersion=r.toTimestamp()),t>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=t),this.oe(e,o)))}addTargetData(e,t){return this.ce(e,t).next(()=>this.re(e).next(r=>(r.targetCount+=1,this.ae(t,r),this.oe(e,r))))}updateTargetData(e,t){return this.ce(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>ec(e).delete(t.targetId)).next(()=>this.re(e)).next(r=>(St(r.targetCount>0),r.targetCount-=1,this.oe(e,r)))}removeTargets(e,t,r){let o=0;const l=[];return ec(e).Kt((h,p)=>{const y=Nv(p);y.sequenceNumber<=t&&null===r.get(y.targetId)&&(o++,l.push(this.removeTargetData(e,y)))}).next(()=>Re.waitFor(l)).next(()=>o)}forEachTarget(e,t){return ec(e).Kt((r,o)=>{const l=Nv(o);t(l)})}re(e){return mT(e).get(Cs.key).next(t=>(St(null!==t),t))}oe(e,t){return mT(e).put(Cs.key,t)}ce(e,t){return ec(e).put(SM(this.N,t))}ae(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.re(e).next(t=>t.targetCount)}getTargetData(e,t){const r=um(t),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let l=null;return ec(e).Kt({range:o,index:ws.queryTargetsIndexName},(h,p,y)=>{const C=Nv(p);dm(t,C.target)&&(l=C,y.done())}).next(()=>l)}addMatchingKeys(e,t,r){const o=[],l=yu(e);return t.forEach(h=>{const p=aa(h.path);o.push(l.put(new Hr(r,p))),o.push(this.referenceDelegate.addReference(e,r,h))}),Re.waitFor(o)}removeMatchingKeys(e,t,r){const o=yu(e);return Re.forEach(t,l=>{const h=aa(l.path);return Re.waitFor([o.delete([r,h]),this.referenceDelegate.removeReference(e,r,l)])})}removeMatchingKeysForTargetId(e,t){const r=yu(e),o=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(o)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),o=yu(e);let l=In();return o.Kt({range:r,qt:!0},(h,p,y)=>{const C=la(h[1]),T=new ut(C);l=l.add(T)}).next(()=>l)}containsKey(e,t){const r=aa(t.path),o=IDBKeyRange.bound([r],[Mw(r)],!1,!0);let l=0;return yu(e).Kt({index:Hr.documentTargetsIndex,qt:!0,range:o},([h,p],y,C)=>{0!==h&&(l++,C.done())}).next(()=>l>0)}Tt(e,t){return ec(e).get(t).next(r=>r?Nv(r):null)}}function ec(n){return zs(n,ws.store)}function mT(n){return zs(n,Cs.store)}function yu(n){return zs(n,Hr.store)}function vu(n){return tc.apply(this,arguments)}function tc(){return tc=(0,de.Z)(function*(n){if(n.code!==ge.FAILED_PRECONDITION||n.message!==IM)throw n;$e("LocalStore","Unexpectedly lost primary lease")}),tc.apply(this,arguments)}function aC([n,e],[t,r]){const o=Xt(n,t);return 0===o?Xt(e,r):o}class lC{constructor(e){this.ue=e,this.buffer=new br(aC),this.he=0}le(){return++this.he}fe(e){const t=[e,this.le()];if(this.buffer.size<this.ue)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();aC(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class cC{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.de=!1,this.we=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this._e(e)}stop(){this.we&&(this.we.cancel(),this.we=null)}get started(){return null!==this.we}_e(e){var t=this;const r=this.de?3e5:6e4;$e("LruGarbageCollector",`Garbage collection scheduled in ${r}ms`),this.we=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,(0,de.Z)(function*(){t.we=null,t.de=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(o){Wd(o)?$e("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield vu(o)}yield t._e(e)}))}}class RM{constructor(e,t){this.me=e,this.params=t}calculateTargetCount(e,t){return this.me.ge(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return Re.resolve(wo.T);const r=new lC(t);return this.me.forEachTarget(e,o=>r.fe(o.sequenceNumber)).next(()=>this.me.ye(e,o=>r.fe(o))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.me.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.me.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?($e("LruGarbageCollector","Garbage collection skipped; disabled"),Re.resolve(gT)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?($e("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),gT):this.pe(e,t))}getCacheSize(e){return this.me.getCacheSize(e)}pe(e,t){let r,o,l,h,p,y,C;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(R=>(R>this.params.maximumSequenceNumbersToCollect?($e("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${R}`),o=this.params.maximumSequenceNumbersToCollect):o=R,h=Date.now(),this.nthSequenceNumber(e,o))).next(R=>(r=R,p=Date.now(),this.removeTargets(e,r,t))).next(R=>(l=R,y=Date.now(),this.removeOrphanedDocuments(e,r))).next(R=>(C=Date.now(),wf()<=Yc.in.DEBUG&&$e("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${h-T}ms\n\tDetermined least recently used ${o} in `+(p-h)+`ms\n\tRemoved ${l} targets in `+(y-p)+`ms\n\tRemoved ${R} documents in `+(C-y)+`ms\nTotal Duration: ${C-T}ms`),Re.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:R})))}}class Vv{constructor(e,t){this.db=e,this.garbageCollector=new RM(this,t)}ge(e){const t=this.Te(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(o=>r+o))}Te(e){let t=0;return this.ye(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}ye(e,t){return this.Ee(e,(r,o)=>t(o))}addReference(e,t,r){return Bv(e,r)}removeReference(e,t,r){return Bv(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return Bv(e,t)}Ie(e,t){return function(r,o){let l=!1;return oC(r).jt(h=>Lv(r,h,o).next(p=>(p&&(l=!0),Re.resolve(!p)))).next(()=>l)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[];let l=0;return this.Ee(e,(h,p)=>{if(p<=t){const y=this.Ie(e,h).next(C=>{if(!C)return l++,r.getEntry(e,h).next(()=>(r.removeEntry(h),yu(e).delete([0,aa(h.path)])))});o.push(y)}}).next(()=>Re.waitFor(o)).next(()=>r.apply(e)).next(()=>l)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return Bv(e,t)}Ee(e,t){const r=yu(e);let o,l=wo.T;return r.Kt({index:Hr.documentTargetsIndex},([h,p],{path:y,sequenceNumber:C})=>{0===h?(l!==wo.T&&t(new ut(la(o)),l),l=C,o=y):l=wo.T}).next(()=>{l!==wo.T&&t(new ut(la(o)),l)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Bv(n,e){return yu(n).put((r=n.currentSequenceNumber,new Hr(0,aa(e.path),r)));var r}class bu{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[o,l]of r)if(this.equalsFn(o,e))return l}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0!==o){for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t])}else this.inner[r]=[[e,t]]}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return 1===r.length?delete this.inner[t]:r.splice(o,1),!0;return!1}forEach(e){jd(this.inner,(t,r)=>{for(const[o,l]of r)e(o,l)})}isEmpty(){return kI(this.inner)}}class uC{constructor(){this.changes=new bu(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}getReadTime(e){const t=this.changes.get(e);return t?t.readTime:Bt.min()}addEntry(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}removeEntry(e,t=null){this.assertNotApplied(),this.changes.set(e,{document:Xn.newInvalidDocument(e),readTime:t})}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?Re.resolve(r.document):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ri{constructor(e,t){this.N=e,this.Ht=t}addEntry(e,t,r){return Eu(e).put(dC(t),r)}removeEntry(e,t){const r=Eu(e),o=dC(t);return r.delete(o)}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Ae(e,r)))}getEntry(e,t){return Eu(e).get(dC(t)).next(r=>this.Re(t,r))}be(e,t){return Eu(e).get(dC(t)).next(r=>({document:this.Re(t,r),size:iC(r)}))}getEntries(e,t){let r=oa();return this.Pe(e,t,(o,l)=>{const h=this.Re(o,l);r=r.insert(o,h)}).next(()=>r)}ve(e,t){let r=oa(),o=new Rr(ut.comparator);return this.Pe(e,t,(l,h)=>{const p=this.Re(l,h);r=r.insert(l,p),o=o.insert(l,iC(h))}).next(()=>({documents:r,Ve:o}))}Pe(e,t,r){if(t.isEmpty())return Re.resolve();const o=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),l=t.getIterator();let h=l.getNext();return Eu(e).Kt({range:o},(p,y,C)=>{const T=ut.fromSegments(p);for(;h&&ut.comparator(h,T)<0;)r(h,null),h=l.getNext();h&&h.isEqual(T)&&(r(h,y),h=l.hasNext()?l.getNext():null),h?C.Mt(h.path.toArray()):C.done()}).next(()=>{for(;h;)r(h,null),h=l.hasNext()?l.getNext():null})}getDocumentsMatchingQuery(e,t,r){let o=oa();const l=t.path.length+1,h={};if(r.isEqual(Bt.min())){const p=t.path.toArray();h.range=IDBKeyRange.lowerBound(p)}else{const p=t.path.toArray(),y=vm(r);h.range=IDBKeyRange.lowerBound([p,y],!0),h.index=Jn.collectionReadTimeIndex}return Eu(e).Kt(h,(p,y,C)=>{if(p.length!==l)return;const T=Ov(this.N,y);t.path.isPrefixOf(T.key.path)?pv(t,T)&&(o=o.insert(T.key,T)):C.done()}).next(()=>o)}newChangeBuffer(e){return new Kk(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return _T(e).get(Xa.key).next(t=>(St(!!t),t))}Ae(e,t){return _T(e).put(Xa.key,t)}Re(e,t){if(t){const r=Ov(this.N,t);if(!r.isNoDocument()||!r.version.isEqual(Bt.min()))return r}return Xn.newInvalidDocument(e)}}class Kk extends uC{constructor(e,t){super(),this.Se=e,this.trackRemovals=t,this.De=new bu(r=>r.toString(),(r,o)=>r.isEqual(o))}applyChanges(e){const t=[];let r=0,o=new br((l,h)=>Xt(l.canonicalString(),h.canonicalString()));return this.changes.forEach((l,h)=>{const p=this.De.get(l);if(h.document.isValidDocument()){const y=Bf(this.Se.N,h.document,this.getReadTime(l));o=o.add(l.path.popLast()),r+=iC(y)-p,t.push(this.Se.addEntry(e,l,y))}else if(r-=p,this.trackRemovals){const y=Bf(this.Se.N,Xn.newNoDocument(l,Bt.min()),this.getReadTime(l));t.push(this.Se.addEntry(e,l,y))}else t.push(this.Se.removeEntry(e,l))}),o.forEach(l=>{t.push(this.Se.Ht.addToCollectionParentIndex(e,l))}),t.push(this.Se.updateMetadata(e,r)),Re.waitFor(t)}getFromCache(e,t){return this.Se.be(e,t).next(r=>(this.De.set(t,r.size),r.document))}getAllFromCache(e,t){return this.Se.ve(e,t).next(({documents:r,Ve:o})=>(o.forEach((l,h)=>{this.De.set(l,h)}),r))}}function _T(n){return zs(n,Xa.store)}function Eu(n){return zs(n,Jn.store)}function dC(n){return n.path.toArray()}class Uv{constructor(e){this.N=e}Ct(e,t,r,o){St(r<o&&r>=0&&o<=11);const l=new xv("createOrUpgrade",t);var p;r<1&&o>=1&&(e.createObjectStore($s.store),(p=e).createObjectStore(Qa.store,{keyPath:Qa.keyPath}),p.createObjectStore(kn.store,{keyPath:kn.keyPath,autoIncrement:!0}).createIndex(kn.userMutationsIndex,kn.userMutationsKeyPath,{unique:!0}),p.createObjectStore(Ei.store),yT(e),function(p){p.createObjectStore(Jn.store)}(e));let h=Re.resolve();return r<3&&o>=3&&(0!==r&&(function(p){p.deleteObjectStore(Hr.store),p.deleteObjectStore(ws.store),p.deleteObjectStore(Cs.store)}(e),yT(e)),h=h.next(()=>function(p){const y=p.store(Cs.store),C=new Cs(0,0,Bt.min().toTimestamp(),0);return y.put(Cs.key,C)}(l))),r<4&&o>=4&&(0!==r&&(h=h.next(()=>function(p,y){return y.store(kn.store).Lt().next(C=>{p.deleteObjectStore(kn.store),p.createObjectStore(kn.store,{keyPath:kn.keyPath,autoIncrement:!0}).createIndex(kn.userMutationsIndex,kn.userMutationsKeyPath,{unique:!0});const T=y.store(kn.store),R=C.map(V=>T.put(V));return Re.waitFor(R)})}(e,l))),h=h.next(()=>{!function(p){p.createObjectStore(ca.store,{keyPath:ca.keyPath})}(e)})),r<5&&o>=5&&(h=h.next(()=>this.Ce(l))),r<6&&o>=6&&(h=h.next(()=>(function(p){p.createObjectStore(Xa.store)}(e),this.Ne(l)))),r<7&&o>=7&&(h=h.next(()=>this.xe(l))),r<8&&o>=8&&(h=h.next(()=>this.ke(e,l))),r<9&&o>=9&&(h=h.next(()=>{(function(p){p.objectStoreNames.contains("remoteDocumentChanges")&&p.deleteObjectStore("remoteDocumentChanges")})(e),function(p){const y=p.objectStore(Jn.store);y.createIndex(Jn.readTimeIndex,Jn.readTimeIndexPath,{unique:!1}),y.createIndex(Jn.collectionReadTimeIndex,Jn.collectionReadTimeIndexPath,{unique:!1})}(t)})),r<10&&o>=10&&(h=h.next(()=>this.$e(l))),r<11&&o>=11&&(h=h.next(()=>{(function(p){p.createObjectStore(Vf.store,{keyPath:Vf.keyPath})})(e),function(p){p.createObjectStore(Li.store,{keyPath:Li.keyPath})}(e)})),h}Ne(e){let t=0;return e.store(Jn.store).Kt((r,o)=>{t+=iC(o)}).next(()=>{const r=new Xa(t);return e.store(Xa.store).put(Xa.key,r)})}Ce(e){const t=e.store(Qa.store),r=e.store(kn.store);return t.Lt().next(o=>Re.forEach(o,l=>{const h=IDBKeyRange.bound([l.userId,-1],[l.userId,l.lastAcknowledgedBatchId]);return r.Lt(kn.userMutationsIndex,h).next(p=>Re.forEach(p,y=>{St(y.userId===l.userId);const C=Em(this.N,y);return xM(e,l.userId,C).next(()=>{})}))}))}xe(e){const t=e.store(Hr.store),r=e.store(Jn.store);return e.store(Cs.store).get(Cs.key).next(o=>{const l=[];return r.Kt((h,p)=>{const y=new pn(h),C=[0,aa(y)];l.push(t.get(C).next(T=>T?Re.resolve():t.put(new Hr(0,aa(y),o.highestListenSequenceNumber))))}).next(()=>Re.waitFor(l))})}ke(e,t){e.createObjectStore(gu.store,{keyPath:gu.keyPath});const r=t.store(gu.store),o=new rC,l=h=>{if(o.add(h)){const p=h.lastSegment(),y=h.popLast();return r.put({collectionId:p,parent:aa(y)})}};return t.store(Jn.store).Kt({qt:!0},(h,p)=>{const y=new pn(h);return l(y.popLast())}).next(()=>t.store(Ei.store).Kt({qt:!0},([h,p,y],C)=>{const T=la(p);return l(T.popLast())}))}$e(e){const t=e.store(ws.store);return t.Kt((r,o)=>{const l=Nv(o),h=SM(this.N,l);return t.put(h)})}}function yT(n){n.createObjectStore(Hr.store,{keyPath:Hr.keyPath}).createIndex(Hr.documentTargetsIndex,Hr.documentTargetsKeyPath,{unique:!0}),n.createObjectStore(ws.store,{keyPath:ws.keyPath}).createIndex(ws.queryTargetsIndexName,ws.queryTargetsKeyPath,{unique:!0}),n.createObjectStore(Cs.store)}const vT="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class bT{constructor(e,t,r,o,l,h,p,y,C,T){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Oe=l,this.window=h,this.document=p,this.Fe=C,this.Me=T,this.Le=null,this.Be=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ue=null,this.inForeground=!1,this.qe=null,this.Ke=null,this.je=Number.NEGATIVE_INFINITY,this.Qe=R=>Promise.resolve(),!bT.bt())throw new Oe(ge.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Vv(this,o),this.We=t+"main",this.N=new dT(y),this.Ge=new ua(this.We,11,new Uv(this.N)),this.ze=new MM(this.referenceDelegate,this.N),this.Ht=new AM,this.He=new ri(this.N,this.Ht),this.Je=new Wk,this.window&&this.window.localStorage?this.Ye=this.window.localStorage:(this.Ye=null,!1===T&&_r("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Xe().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Oe(ge.FAILED_PRECONDITION,vT);return this.Ze(),this.tn(),this.en(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.ze.getHighestSequenceNumber(e))}).then(e=>{this.Le=new wo(e,this.Fe)}).then(()=>{this.Be=!0}).catch(e=>(this.Ge&&this.Ge.close(),Promise.reject(e)))}nn(e){var t=this;return this.Qe=function(){var r=(0,de.Z)(function*(o){if(t.started)return e(o)});return function(o){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ge.xt(function(){var t=(0,de.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Oe.enqueueAndForget((0,de.Z)(function*(){t.started&&(yield t.Xe())})))}Xe(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>jv(e).put(new ca(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.sn(e).next(t=>{t||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)))})}).next(()=>this.rn(e)).next(t=>this.isPrimary&&!t?this.on(e).next(()=>!1):!!t&&this.cn(e).next(()=>!0))).catch(e=>{if(Wd(e))return $e("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return $e("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Oe.enqueueRetryable(()=>this.Qe(e)),this.isPrimary=e})}sn(e){return jf(e).get($s.key).next(t=>Re.resolve(this.an(t)))}un(e){return jv(e).delete(this.clientId)}hn(){var e=this;return(0,de.Z)(function*(){if(e.isPrimary&&!e.ln(e.je,18e5)){e.je=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const o=zs(r,ca.store);return o.Lt().next(l=>{const h=e.fn(l,18e5),p=l.filter(y=>-1===h.indexOf(y));return Re.forEach(p,y=>o.delete(y.clientId)).next(()=>p)})}).catch(()=>[]);if(e.Ye)for(const r of t)e.Ye.removeItem(e.dn(r.clientId))}})()}en(){this.Ke=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Xe().then(()=>this.hn()).then(()=>this.en()))}an(e){return!!e&&e.ownerId===this.clientId}rn(e){return this.Me?Re.resolve(!0):jf(e).get($s.key).next(t=>{if(null!==t&&this.ln(t.leaseTimestampMs,5e3)&&!this.wn(t.ownerId)){if(this.an(t)&&this.networkEnabled)return!0;if(!this.an(t)){if(!t.allowTabSynchronization)throw new Oe(ge.FAILED_PRECONDITION,vT);return!1}}return!(!this.networkEnabled||!this.inForeground)||jv(e).Lt().next(r=>void 0===this.fn(r,5e3).find(o=>{if(this.clientId!==o.clientId){const h=!this.inForeground&&o.inForeground,p=this.networkEnabled===o.networkEnabled;if(!this.networkEnabled&&o.networkEnabled||h&&p)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&$e("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,de.Z)(function*(){e.Be=!1,e._n(),e.Ke&&(e.Ke.cancel(),e.Ke=null),e.mn(),e.gn(),yield e.Ge.runTransaction("shutdown","readwrite",[$s.store,ca.store],t=>{const r=new uT(t,wo.T);return e.on(r).next(()=>e.un(r))}),e.Ge.close(),e.yn()})()}fn(e,t){return e.filter(r=>this.ln(r.updateTimeMs,t)&&!this.wn(r.clientId))}pn(){return this.runTransaction("getActiveClients","readonly",e=>jv(e).Lt().next(t=>this.fn(t,18e5).map(r=>r.clientId)))}get started(){return this.Be}getMutationQueue(e){return sC.Yt(e,this.N,this.Ht,this.referenceDelegate)}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getIndexManager(){return this.Ht}getBundleCache(){return this.Je}runTransaction(e,t,r){let l;return $e("IndexedDbPersistence","Starting transaction:",e),this.Ge.runTransaction(e,"readonly"===t?"readonly":"readwrite",DM,h=>(l=new uT(h,this.Le?this.Le.next():wo.T),"readwrite-primary"===t?this.sn(l).next(p=>!!p||this.rn(l)).next(p=>{if(!p)throw _r(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)),new Oe(ge.FAILED_PRECONDITION,IM);return r(l)}).next(p=>this.cn(l).next(()=>p)):this.Tn(l).next(()=>r(l)))).then(h=>(l.raiseOnCommittedEvent(),h))}Tn(e){return jf(e).get($s.key).next(t=>{if(null!==t&&this.ln(t.leaseTimestampMs,5e3)&&!this.wn(t.ownerId)&&!this.an(t)&&!(this.Me||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Oe(ge.FAILED_PRECONDITION,vT)})}cn(e){const t=new $s(this.clientId,this.allowTabSynchronization,Date.now());return jf(e).put($s.key,t)}static bt(){return ua.bt()}on(e){const t=jf(e);return t.get($s.key).next(r=>this.an(r)?($e("IndexedDbPersistence","Releasing primary lease."),t.delete($s.key)):Re.resolve())}ln(e,t){const r=Date.now();return!(e<r-t||e>r&&(_r(`Detected an update time that is in the future: ${e} > ${r}`),1))}Ze(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Xe()))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)}mn(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)}tn(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Ue=()=>{this._n(),(0,Wt.G6)()&&navigator.appVersion.match("Version/14")&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ue))}gn(){this.Ue&&(this.window.removeEventListener("pagehide",this.Ue),this.Ue=null)}wn(e){var t;try{const r=null!==(null===(t=this.Ye)||void 0===t?void 0:t.getItem(this.dn(e)));return $e("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return _r("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}_n(){if(this.Ye)try{this.Ye.setItem(this.dn(this.clientId),String(Date.now()))}catch(e){_r("Failed to set zombie client id.",e)}}yn(){if(this.Ye)try{this.Ye.removeItem(this.dn(this.clientId))}catch(e){}}dn(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function jf(n){return zs(n,$s.store)}function jv(n){return zs(n,ca.store)}function hC(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class PM{constructor(e,t){this.progress=e,this.En=t}}class ET{constructor(e,t,r){this.He=e,this.In=t,this.Ht=r}An(e,t){return this.In.getAllMutationBatchesAffectingDocumentKey(e,t).next(r=>this.Rn(e,t,r))}Rn(e,t,r){return this.He.getEntry(e,t).next(o=>{for(const l of r)l.applyToLocalView(o);return o})}bn(e,t){e.forEach((r,o)=>{for(const l of t)l.applyToLocalView(o)})}Pn(e,t){return this.He.getEntries(e,t).next(r=>this.vn(e,r).next(()=>r))}vn(e,t){return this.In.getAllMutationBatchesAffectingDocumentKeys(e,t).next(r=>this.bn(t,r))}getDocumentsMatchingQuery(e,t,r){return ut.isDocumentKey((o=t).path)&&null===o.collectionGroup&&0===o.filters.length?this.Vn(e,t.path):Uw(t)?this.Sn(e,t,r):this.Dn(e,t,r);var o}Vn(e,t){return this.An(e,new ut(t)).next(r=>{let o=Qw();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}Sn(e,t,r){const o=t.collectionGroup;let l=Qw();return this.Ht.getCollectionParents(e,o).next(h=>Re.forEach(h,p=>{const y=(C=t,T=p.child(o),new Za(T,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt));var C,T;return this.Dn(e,y,r).next(C=>{C.forEach((T,R)=>{l=l.insert(T,R)})})}).next(()=>l))}Dn(e,t,r){let o,l;return this.He.getDocumentsMatchingQuery(e,t,r).next(h=>(o=h,this.In.getAllMutationBatchesAffectingQuery(e,t))).next(h=>(l=h,this.Cn(e,l,o).next(p=>{o=p;for(const y of l)for(const C of y.mutations){const T=C.key;let R=o.get(T);null==R&&(R=Xn.newInvalidDocument(T),o=o.insert(T,R)),bv(C,R,y.localWriteTime),R.isFoundDocument()||(o=o.remove(T))}}))).next(()=>(o.forEach((h,p)=>{pv(t,p)||(o=o.remove(h))}),o))}Cn(e,t,r){let o=In();for(const h of t)for(const p of h.mutations)p instanceof fu&&null===r.get(p.key)&&(o=o.add(p.key));let l=r;return this.He.getEntries(e,o).next(h=>(h.forEach((p,y)=>{y.isFoundDocument()&&(l=l.insert(p,y))}),l))}}class Hv{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.Nn=r,this.xn=o}static kn(e,t){let r=In(),o=In();for(const l of t.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new Hv(e,t.fromCache,r,o)}}class fC{$n(e){this.On=e}getDocumentsMatchingQuery(e,t,r,o){return 0===(l=t).filters.length&&null===l.limit&&null==l.startAt&&null==l.endAt&&(0===l.explicitOrderBy.length||1===l.explicitOrderBy.length&&l.explicitOrderBy[0].field.isKeyField())||r.isEqual(Bt.min())?this.Fn(e,t):this.On.Pn(e,o).next(l=>{const h=this.Mn(t,l);return(pm(t)||dv(t))&&this.Ln(t.limitType,h,o,r)?this.Fn(e,t):(wf()<=Yc.in.DEBUG&&$e("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),jw(t)),this.On.getDocumentsMatchingQuery(e,t,r).next(p=>(h.forEach(y=>{p=p.insert(y.key,y)}),p)))});var l}Mn(e,t){let r=new br(xf(e));return t.forEach((o,l)=>{pv(e,l)&&(r=r.add(l))}),r}Ln(e,t,r,o){if(r.size!==t.size)return!0;const l="F"===e?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Fn(e,t){return wf()<=Yc.in.DEBUG&&$e("QueryEngine","Using full collection scan to execute query:",jw(t)),this.On.getDocumentsMatchingQuery(e,t,Bt.min())}}class wT{constructor(e,t,r,o){this.persistence=e,this.Bn=t,this.N=o,this.Un=new Rr(Xt),this.qn=new bu(l=>um(l),dm),this.Kn=Bt.min(),this.In=e.getMutationQueue(r),this.jn=e.getRemoteDocumentCache(),this.ze=e.getTargetCache(),this.Qn=new ET(this.jn,this.In,this.persistence.getIndexManager()),this.Je=e.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Un))}}function CT(n,e,t,r){return new wT(n,e,t,r)}function DT(n,e){return $v.apply(this,arguments)}function $v(){return $v=(0,de.Z)(function*(n,e){const t=Ge(n);let r=t.In,o=t.Qn;const l=yield t.persistence.runTransaction("Handle user change","readonly",h=>{let p;return t.In.getAllMutationBatches(h).next(y=>(p=y,r=t.persistence.getMutationQueue(e),o=new ET(t.jn,r,t.persistence.getIndexManager()),r.getAllMutationBatches(h))).next(y=>{const C=[],T=[];let R=In();for(const V of p){C.push(V.batchId);for(const U of V.mutations)R=R.add(U.key)}for(const V of y){T.push(V.batchId);for(const U of V.mutations)R=R.add(U.key)}return o.Pn(h,R).next(V=>({Wn:V,removedBatchIds:C,addedBatchIds:T}))})});return t.In=r,t.Qn=o,t.Bn.$n(t.Qn),l}),$v.apply(this,arguments)}function zv(n,e){const t=Ge(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),l=t.jn.newChangeBuffer({trackRemovals:!0});return function(h,p,y,C){const T=y.batch,R=T.keys();let V=Re.resolve();return R.forEach(U=>{V=V.next(()=>C.getEntry(p,U)).next(Q=>{const fe=y.docVersions.get(U);St(null!==fe),Q.version.compareTo(fe)<0&&(T.applyToRemoteDocument(Q,y),Q.isValidDocument()&&C.addEntry(Q,y.commitVersion))})}),V.next(()=>h.In.removeMutationBatch(p,T))}(t,r,e,l).next(()=>l.apply(r)).next(()=>t.In.performConsistencyCheck(r)).next(()=>t.Qn.Pn(r,o))})}function IT(n){const e=Ge(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ze.getLastRemoteSnapshotVersion(t))}function TT(n,e){const t=Ge(n),r=e.snapshotVersion;let o=t.Un;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const h=t.jn.newChangeBuffer({trackRemovals:!0});o=t.Un;const p=[];e.targetChanges.forEach((C,T)=>{const R=o.get(T);if(!R)return;p.push(t.ze.removeMatchingKeys(l,C.removedDocuments,T).next(()=>t.ze.addMatchingKeys(l,C.addedDocuments,T)));const V=C.resumeToken;if(V.approximateByteSize()>0){const U=R.withResumeToken(V,r).withSequenceNumber(l.currentSequenceNumber);o=o.insert(T,U),Q=R,De=C,St((fe=U).resumeToken.approximateByteSize()>0),(0===Q.resumeToken.approximateByteSize()||fe.snapshotVersion.toMicroseconds()-Q.snapshotVersion.toMicroseconds()>=3e8||De.addedDocuments.size+De.modifiedDocuments.size+De.removedDocuments.size>0)&&p.push(t.ze.updateTargetData(l,U))}var Q,fe,De});let y=oa();if(e.documentUpdates.forEach((C,T)=>{e.resolvedLimboDocuments.has(C)&&p.push(t.persistence.referenceDelegate.updateLimboDocument(l,C))}),p.push(Cm(l,h,e.documentUpdates,r,void 0).next(C=>{y=C})),!r.isEqual(Bt.min())){const C=t.ze.getLastRemoteSnapshotVersion(l).next(T=>t.ze.setTargetsMetadata(l,l.currentSequenceNumber,r));p.push(C)}return Re.waitFor(p).next(()=>h.apply(l)).next(()=>t.Qn.vn(l,y)).next(()=>y)}).then(l=>(t.Un=o,l))}function Cm(n,e,t,r,o){let l=In();return t.forEach(h=>l=l.add(h)),e.getEntries(n,l).next(h=>{let p=oa();return t.forEach((y,C)=>{const T=h.get(y),R=(null==o?void 0:o.get(y))||r;C.isNoDocument()&&C.version.isEqual(Bt.min())?(e.removeEntry(y,R),p=p.insert(y,C)):!T.isValidDocument()||C.version.compareTo(T.version)>0||0===C.version.compareTo(T.version)&&T.hasPendingWrites?(e.addEntry(C,R),p=p.insert(y,C)):$e("LocalStore","Ignoring outdated watch update for ",y,". Current version:",T.version," Watch version:",C.version)}),p})}function kM(n,e){const t=Ge(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.In.getNextMutationBatchAfterBatchId(r,e)))}function Hf(n,e){const t=Ge(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return t.ze.getTargetData(r,e).next(l=>l?(o=l,Re.resolve(o)):t.ze.allocateTargetId(r).next(h=>(o=new mu(e,h,0,r.currentSequenceNumber),t.ze.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=t.Un.get(r.targetId);return(null===o||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Un=t.Un.insert(r.targetId,r),t.qn.set(e,r.targetId)),r})}function $f(n,e,t){return pC.apply(this,arguments)}function pC(){return pC=(0,de.Z)(function*(n,e,t){const r=Ge(n),o=r.Un.get(e),l=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",l,h=>r.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!Wd(h))throw h;$e("LocalStore",`Failed to update sequence numbers for target ${e}: ${h}`)}r.Un=r.Un.remove(e),r.qn.delete(o.target)}),pC.apply(this,arguments)}function gC(n,e,t){const r=Ge(n);let o=Bt.min(),l=In();return r.persistence.runTransaction("Execute query","readonly",h=>function(p,y,C){const T=Ge(p),R=T.qn.get(C);return void 0!==R?Re.resolve(T.Un.get(R)):T.ze.getTargetData(y,C)}(r,h,Co(e)).next(p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,r.ze.getMatchingKeysForTargetId(h,p.targetId).next(y=>{l=y})}).next(()=>r.Bn.getDocumentsMatchingQuery(h,e,t?o:Bt.min(),t?l:In())).next(p=>({documents:p,Gn:l})))}function ST(n,e){const t=Ge(n),r=Ge(t.ze),o=t.Un.get(e);return o?Promise.resolve(o.target):t.persistence.runTransaction("Get target data","readonly",l=>r.Tt(l,e).next(h=>h?h.target:null))}function AT(n){const e=Ge(n);return e.persistence.runTransaction("Get new document changes","readonly",t=>function(r,o,l){const h=Ge(r);let p=oa(),y=vm(l);const C=Eu(o),T=IDBKeyRange.lowerBound(y,!0);return C.Kt({index:Jn.readTimeIndex,range:T},(R,V)=>{const U=Ov(h.N,V);p=p.insert(U.key,U),y=V.readTime}).next(()=>({En:p,readTime:nC(y)}))}(e.jn,t,e.Kn)).then(({En:t,readTime:r})=>(e.Kn=r,t))}function mC(){return mC=(0,de.Z)(function*(n){const e=Ge(n);return e.persistence.runTransaction("Synchronize last document change read time","readonly",t=>function(r){const o=Eu(r);let l=Bt.min();return o.Kt({index:Jn.readTimeIndex,reverse:!0},(h,p,y)=>{p.readTime&&(l=nC(p.readTime)),y.done()}).next(()=>l)}(t)).then(t=>{e.Kn=t})}),mC.apply(this,arguments)}function _C(){return _C=(0,de.Z)(function*(n,e,t,r){const o=Ge(n);let l=In(),h=oa(),p=QI();for(const T of t){const R=e.zn(T.metadata.name);T.document&&(l=l.add(R)),h=h.insert(R,e.Hn(T)),p=p.insert(R,e.Jn(T.metadata.readTime))}const y=o.jn.newChangeBuffer({trackRemovals:!0}),C=yield Hf(o,(T=r,Co(zd(pn.fromString(`__bundle__/docs/${T}`)))));var T;return o.persistence.runTransaction("Apply bundle documents","readwrite",T=>Cm(T,y,h,Bt.min(),p).next(R=>(y.apply(T),R)).next(R=>o.ze.removeMatchingKeysForTargetId(T,C.targetId).next(()=>o.ze.addMatchingKeys(T,l,C.targetId)).next(()=>o.Qn.vn(T,R)).next(()=>R)))}),_C.apply(this,arguments)}function FM(n,e){return yC.apply(this,arguments)}function yC(){return yC=(0,de.Z)(function*(n,e,t=In()){const r=yield Hf(n,Co(hT(e.bundledQuery))),o=Ge(n);return o.persistence.runTransaction("Save named query","readwrite",l=>{const h=jr(e.readTime);if(r.snapshotVersion.compareTo(h)>=0)return o.Je.saveNamedQuery(l,e);const p=r.withResumeToken(or.EMPTY_BYTE_STRING,h);return o.Un=o.Un.insert(p.targetId,p),o.ze.updateTargetData(l,p).next(()=>o.ze.removeMatchingKeysForTargetId(l,r.targetId)).next(()=>o.ze.addMatchingKeys(l,t,r.targetId)).next(()=>o.Je.saveNamedQuery(l,e))})}),yC.apply(this,arguments)}class Gv{constructor(e){this.N=e,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(e,t){return Re.resolve(this.Yn.get(t))}saveBundleMetadata(e,t){var r;return this.Yn.set(t.id,{id:(r=t).id,version:r.version,createTime:jr(r.createTime)}),Re.resolve()}getNamedQuery(e,t){return Re.resolve(this.Xn.get(t))}saveNamedQuery(e,t){return this.Xn.set(t.name,{name:(r=t).name,query:hT(r.bundledQuery),readTime:jr(r.readTime)}),Re.resolve();var r}}class zf{constructor(){this.Zn=new br(wi.ts),this.es=new br(wi.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,t){const r=new wi(e,t);this.Zn=this.Zn.add(r),this.es=this.es.add(r)}ss(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.rs(new wi(e,t))}os(e,t){e.forEach(r=>this.removeReference(r,t))}cs(e){const t=new ut(new pn([])),r=new wi(t,e),o=new wi(t,e+1),l=[];return this.es.forEachInRange([r,o],h=>{this.rs(h),l.push(h.key)}),l}us(){this.Zn.forEach(e=>this.rs(e))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const t=new ut(new pn([])),r=new wi(t,e),o=new wi(t,e+1);let l=In();return this.es.forEachInRange([r,o],h=>{l=l.add(h.key)}),l}containsKey(e){const t=new wi(e,0),r=this.Zn.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class wi{constructor(e,t){this.key=e,this.ls=t}static ts(e,t){return ut.comparator(e.key,t.key)||Xt(e.ls,t.ls)}static ns(e,t){return Xt(e.ls,t.ls)||ut.comparator(e.key,t.key)}}class Dm{constructor(e,t){this.Ht=e,this.referenceDelegate=t,this.In=[],this.fs=1,this.ds=new br(wi.ts)}checkEmpty(e){return Re.resolve(0===this.In.length)}addMutationBatch(e,t,r,o){const l=this.fs;this.fs++;const h=new Pv(l,t,r,o);this.In.push(h);for(const p of o)this.ds=this.ds.add(new wi(p.key,l)),this.Ht.addToCollectionParentIndex(e,p.key.path.popLast());return Re.resolve(h)}lookupMutationBatch(e,t){return Re.resolve(this.ws(t))}getNextMutationBatchAfterBatchId(e,t){const o=this._s(t+1),l=o<0?0:o;return Re.resolve(this.In.length>l?this.In[l]:null)}getHighestUnacknowledgedBatchId(){return Re.resolve(0===this.In.length?-1:this.fs-1)}getAllMutationBatches(e){return Re.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new wi(t,0),o=new wi(t,Number.POSITIVE_INFINITY),l=[];return this.ds.forEachInRange([r,o],h=>{const p=this.ws(h.ls);l.push(p)}),Re.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new br(Xt);return t.forEach(o=>{const l=new wi(o,0),h=new wi(o,Number.POSITIVE_INFINITY);this.ds.forEachInRange([l,h],p=>{r=r.add(p.ls)})}),Re.resolve(this.gs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let l=r;ut.isDocumentKey(l)||(l=l.child(""));const h=new wi(new ut(l),0);let p=new br(Xt);return this.ds.forEachWhile(y=>{const C=y.key.path;return!!r.isPrefixOf(C)&&(C.length===o&&(p=p.add(y.ls)),!0)},h),Re.resolve(this.gs(p))}gs(e){const t=[];return e.forEach(r=>{const o=this.ws(r);null!==o&&t.push(o)}),t}removeMutationBatch(e,t){St(0===this.ys(t.batchId,"removed")),this.In.shift();let r=this.ds;return Re.forEach(t.mutations,o=>{const l=new wi(o.key,t.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.ds=r})}te(e){}containsKey(e,t){const r=new wi(t,0),o=this.ds.firstAfterOrEqual(r);return Re.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return Re.resolve()}ys(e,t){return this._s(e)}_s(e){return 0===this.In.length?0:e-this.In[0].batchId}ws(e){const t=this._s(e);return t<0||t>=this.In.length?null:this.In[t]}}class bn{constructor(e,t){this.Ht=e,this.ps=t,this.docs=new Rr(ut.comparator),this.size=0}addEntry(e,t,r){const o=t.key,l=this.docs.get(o),h=l?l.size:0,p=this.ps(t);return this.docs=this.docs.insert(o,{document:t.clone(),size:p,readTime:r}),this.size+=p-h,this.Ht.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Re.resolve(r?r.document.clone():Xn.newInvalidDocument(t))}getEntries(e,t){let r=oa();return t.forEach(o=>{const l=this.docs.get(o);r=r.insert(o,l?l.document.clone():Xn.newInvalidDocument(o))}),Re.resolve(r)}getDocumentsMatchingQuery(e,t,r){let o=oa();const l=new ut(t.path.child("")),h=this.docs.getIteratorFrom(l);for(;h.hasNext();){const{key:p,value:{document:y,readTime:C}}=h.getNext();if(!t.path.isPrefixOf(p.path))break;C.compareTo(r)<=0||pv(t,y)&&(o=o.insert(y.key,y.clone()))}return Re.resolve(o)}Ts(e,t){return Re.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new wu(this)}getSize(e){return Re.resolve(this.size)}}class wu extends uC{constructor(e){super(),this.Se=e}applyChanges(e){const t=[];return this.changes.forEach((r,o)=>{o.document.isValidDocument()?t.push(this.Se.addEntry(e,o.document,this.getReadTime(r))):this.Se.removeEntry(r)}),Re.waitFor(t)}getFromCache(e,t){return this.Se.getEntry(e,t)}getAllFromCache(e,t){return this.Se.getEntries(e,t)}}class Gf{constructor(e){this.persistence=e,this.Es=new bu(t=>um(t),dm),this.lastRemoteSnapshotVersion=Bt.min(),this.highestTargetId=0,this.Is=0,this.As=new zf,this.targetCount=0,this.Rs=_u.se()}forEachTarget(e,t){return this.Es.forEach((r,o)=>t(o)),Re.resolve()}getLastRemoteSnapshotVersion(e){return Re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Re.resolve(this.Is)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),Re.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Is&&(this.Is=t),Re.resolve()}ce(e){this.Es.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Rs=new _u(t),this.highestTargetId=t),e.sequenceNumber>this.Is&&(this.Is=e.sequenceNumber)}addTargetData(e,t){return this.ce(t),this.targetCount+=1,Re.resolve()}updateTargetData(e,t){return this.ce(t),Re.resolve()}removeTargetData(e,t){return this.Es.delete(t.target),this.As.cs(t.targetId),this.targetCount-=1,Re.resolve()}removeTargets(e,t,r){let o=0;const l=[];return this.Es.forEach((h,p)=>{p.sequenceNumber<=t&&null===r.get(p.targetId)&&(this.Es.delete(h),l.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)}),Re.waitFor(l).next(()=>o)}getTargetCount(e){return Re.resolve(this.targetCount)}getTargetData(e,t){const r=this.Es.get(t)||null;return Re.resolve(r)}addMatchingKeys(e,t,r){return this.As.ss(t,r),Re.resolve()}removeMatchingKeys(e,t,r){this.As.os(t,r);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach(h=>{l.push(o.markPotentiallyOrphaned(e,h))}),Re.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.As.cs(t),Re.resolve()}getMatchingKeysForTargetId(e,t){const r=this.As.hs(t);return Re.resolve(r)}containsKey(e,t){return Re.resolve(this.As.containsKey(t))}}class Im{constructor(e,t){this.bs={},this.Le=new wo(0),this.Be=!1,this.Be=!0,this.referenceDelegate=e(this),this.ze=new Gf(this),this.Ht=new Zk,this.He=new bn(this.Ht,r=>this.referenceDelegate.Ps(r)),this.N=new dT(t),this.Je=new Gv(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(e){let t=this.bs[e.toKey()];return t||(t=new Dm(this.Ht,this.referenceDelegate),this.bs[e.toKey()]=t),t}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(e,t,r){$e("MemoryPersistence","Starting transaction:",e);const o=new Yk(this.Le.next());return this.referenceDelegate.vs(),r(o).next(l=>this.referenceDelegate.Vs(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}Ss(e,t){return Re.or(Object.values(this.bs).map(r=>()=>r.containsKey(e,t)))}}class Yk extends aT{constructor(e){super(),this.currentSequenceNumber=e}}class At{constructor(e){this.persistence=e,this.Ds=new zf,this.Cs=null}static Ns(e){return new At(e)}get xs(){if(this.Cs)return this.Cs;throw ft()}addReference(e,t,r){return this.Ds.addReference(r,t),this.xs.delete(r.toString()),Re.resolve()}removeReference(e,t,r){return this.Ds.removeReference(r,t),this.xs.add(r.toString()),Re.resolve()}markPotentiallyOrphaned(e,t){return this.xs.add(t.toString()),Re.resolve()}removeTarget(e,t){this.Ds.cs(t.targetId).forEach(o=>this.xs.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(l=>this.xs.add(l.toString()))}).next(()=>r.removeTargetData(e,t))}vs(){this.Cs=new Set}Vs(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Re.forEach(this.xs,r=>{const o=ut.fromPath(r);return this.ks(e,o).next(l=>{l||t.removeEntry(o)})}).next(()=>(this.Cs=null,t.apply(e)))}updateLimboDocument(e,t){return this.ks(e,t).next(r=>{r?this.xs.delete(t.toString()):this.xs.add(t.toString())})}Ps(e){return 0}ks(e,t){return Re.or([()=>Re.resolve(this.Ds.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ss(e,t)])}}function vC(n,e){return`firestore_clients_${n}_${e}`}function xT(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function bC(n,e){return`firestore_targets_${n}_${e}`}class Tm{constructor(e,t,r,o){this.user=e,this.batchId=t,this.state=r,this.error=o}static $s(e,t,r){const o=JSON.parse(r);let l,h="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return h&&o.error&&(h="string"==typeof o.error.message&&"string"==typeof o.error.code,h&&(l=new Oe(o.error.code,o.error.message))),h?new Tm(e,t,o.state,l):(_r("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Os(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Sm{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static $s(e,t){const r=JSON.parse(t);let o,l="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return l&&r.error&&(l="string"==typeof r.error.message&&"string"==typeof r.error.code,l&&(o=new Oe(r.error.code,r.error.message))),l?new Sm(e,r.state,o):(_r("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Os(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Am{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static $s(e,t){const r=JSON.parse(t);let o="object"==typeof r&&r.activeTargetIds instanceof Array,l=wv();for(let h=0;o&&h<r.activeTargetIds.length;++h)o=NI(r.activeTargetIds[h]),l=l.add(r.activeTargetIds[h]);return o?new Am(e,l):(_r("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Ds{constructor(e,t){this.clientId=e,this.onlineState=t}static $s(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Ds(t.clientId,t.onlineState):(_r("SharedClientState",`Failed to parse online state: ${e}`),null)}}class xm{constructor(){this.activeTargetIds=wv()}Fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ms(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Os(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class nc{constructor(e,t,r,o,l){this.window=e,this.Oe=t,this.persistenceKey=r,this.Ls=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Bs=this.Us.bind(this),this.qs=new Rr(Xt),this.started=!1,this.Ks=[];const h=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.js=vC(this.persistenceKey,this.Ls),this.Qs=`firestore_sequence_number_${this.persistenceKey}`,this.qs=this.qs.insert(this.Ls,new xm),this.Ws=new RegExp(`^firestore_clients_${h}_([^_]*)$`),this.Gs=new RegExp(`^firestore_mutations_${h}_(\\d+)(?:_(.*))?$`),this.zs=new RegExp(`^firestore_targets_${h}_(\\d+)$`),this.Hs=`firestore_online_state_${this.persistenceKey}`,this.Js=function(p){return`firestore_bundle_loaded_${p}`}(this.persistenceKey),this.window.addEventListener("storage",this.Bs)}static bt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,de.Z)(function*(){const t=yield e.syncEngine.pn();for(const o of t){if(o===e.Ls)continue;const l=e.getItem(vC(e.persistenceKey,o));if(l){const h=Am.$s(o,l);h&&(e.qs=e.qs.insert(h.clientId,h))}}e.Ys();const r=e.storage.getItem(e.Hs);if(r){const o=e.Xs(r);o&&e.Zs(o)}for(const o of e.Ks)e.Us(o);e.Ks=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Qs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ti(this.qs)}isActiveQueryTarget(e){let t=!1;return this.qs.forEach((r,o)=>{o.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.ei(e,"pending")}updateMutationState(e,t,r){this.ei(e,t,r),this.ni(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(bC(this.persistenceKey,e));if(r){const o=Sm.$s(e,r);o&&(t=o.state)}}return this.si.Fs(e),this.Ys(),t}removeLocalQueryTarget(e){this.si.Ms(e),this.Ys()}isLocalQueryTarget(e){return this.si.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(bC(this.persistenceKey,e))}updateQueryState(e,t,r){this.ii(e,t,r)}handleUserChange(e,t,r){t.forEach(o=>{this.ni(o)}),this.currentUser=e,r.forEach(o=>{this.addPendingMutation(o)})}setOnlineState(e){this.ri(e)}notifyBundleLoaded(){this.oi()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Bs),this.removeItem(this.js),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return $e("SharedClientState","READ",e,t),t}setItem(e,t){$e("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){$e("SharedClientState","REMOVE",e),this.storage.removeItem(e)}Us(e){var t=this;const r=e;if(r.storageArea===this.storage){if($e("SharedClientState","EVENT",r.key,r.newValue),r.key===this.js)return void _r("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((0,de.Z)(function*(){if(t.started){if(null!==r.key)if(t.Ws.test(r.key)){if(null==r.newValue){const o=t.ci(r.key);return t.ai(o,null)}{const o=t.ui(r.key,r.newValue);if(o)return t.ai(o.clientId,o)}}else if(t.Gs.test(r.key)){if(null!==r.newValue){const o=t.hi(r.key,r.newValue);if(o)return t.li(o)}}else if(t.zs.test(r.key)){if(null!==r.newValue){const o=t.fi(r.key,r.newValue);if(o)return t.di(o)}}else if(r.key===t.Hs){if(null!==r.newValue){const o=t.Xs(r.newValue);if(o)return t.Zs(o)}}else if(r.key===t.Qs){const o=function(l){let h=wo.T;if(null!=l)try{const p=JSON.parse(l);St("number"==typeof p),h=p}catch(p){_r("SharedClientState","Failed to read sequence number from WebStorage",p)}return h}(r.newValue);o!==wo.T&&t.sequenceNumberHandler(o)}else if(r.key===t.Js)return t.syncEngine.wi()}else t.Ks.push(r)}))}}get si(){return this.qs.get(this.Ls)}Ys(){this.setItem(this.js,this.si.Os())}ei(e,t,r){const o=new Tm(this.currentUser,e,t,r),l=xT(this.persistenceKey,this.currentUser,e);this.setItem(l,o.Os())}ni(e){const t=xT(this.persistenceKey,this.currentUser,e);this.removeItem(t)}ri(e){this.storage.setItem(this.Hs,JSON.stringify({clientId:this.Ls,onlineState:e}))}ii(e,t,r){const o=bC(this.persistenceKey,e),l=new Sm(e,t,r);this.setItem(o,l.Os())}oi(){this.setItem(this.Js,"value-not-used")}ci(e){const t=this.Ws.exec(e);return t?t[1]:null}ui(e,t){const r=this.ci(e);return Am.$s(r,t)}hi(e,t){const r=this.Gs.exec(e),o=Number(r[1]);return Tm.$s(new ti(void 0!==r[2]?r[2]:null),o,t)}fi(e,t){const r=this.zs.exec(e),o=Number(r[1]);return Sm.$s(o,t)}Xs(e){return Ds.$s(e)}li(e){var t=this;return(0,de.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine._i(e.batchId,e.state,e.error);$e("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}di(e){return this.syncEngine.mi(e.targetId,e.state,e.error)}ai(e,t){const r=t?this.qs.insert(e,t):this.qs.remove(e),o=this.ti(this.qs),l=this.ti(r),h=[],p=[];return l.forEach(y=>{o.has(y)||h.push(y)}),o.forEach(y=>{l.has(y)||p.push(y)}),this.syncEngine.gi(h,p).then(()=>{this.qs=r})}Zs(e){this.qs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ti(e){let t=wv();return e.forEach((r,o)=>{t=t.unionWith(o.activeTargetIds)}),t}}class EC{constructor(){this.yi=new xm,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.yi.Fs(e),this.pi[e]||"not-current"}updateQueryState(e,t,r){this.pi[e]=t}removeLocalQueryTarget(e){this.yi.Ms(e)}isLocalQueryTarget(e){return this.yi.activeTargetIds.has(e)}clearQueryState(e){delete this.pi[e]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(e){return this.yi.activeTargetIds.has(e)}start(){return this.yi=new xm,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class MT{Ti(e){}shutdown(){}}class LM{constructor(){this.Ei=()=>this.Ii(),this.Ai=()=>this.Ri(),this.bi=[],this.Pi()}Ti(e){this.bi.push(e)}shutdown(){window.removeEventListener("online",this.Ei),window.removeEventListener("offline",this.Ai)}Pi(){window.addEventListener("online",this.Ei),window.addEventListener("offline",this.Ai)}Ii(){$e("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.bi)e(0)}Ri(){$e("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.bi)e(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const VM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class BM{constructor(e){this.vi=e.vi,this.Vi=e.Vi}Si(e){this.Di=e}Ci(e){this.Ni=e}onMessage(e){this.xi=e}close(){this.Vi()}send(e){this.vi(e)}ki(){this.Di()}$i(e){this.Ni(e)}Oi(e){this.xi(e)}}class Do extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.Fi=(e.ssl?"https":"http")+"://"+e.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(e,t,r,o){const l=this.Bi(e,t);$e("RestConnection","Sending: ",l,r);const h={};return this.Ui(h,o),this.qi(e,l,h,r).then(p=>($e("RestConnection","Received: ",p),p),p=>{throw Cf("RestConnection",`${e} failed with error: `,p,"url: ",l,"request:",r),p})}Ki(e,t,r,o){return this.Li(e,t,r,o)}Ui(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/"+cu,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(const r in t.authHeaders)t.authHeaders.hasOwnProperty(r)&&(e[r]=t.authHeaders[r])}Bi(e,t){return`${this.Fi}/v1/${t}:${VM[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}qi(e,t,r,o){return new Promise((l,h)=>{const p=new $x;p.listenOnce(Bx.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Ef.NO_ERROR:const C=p.getResponseJson();$e("Connection","XHR received:",JSON.stringify(C)),l(C);break;case Ef.TIMEOUT:$e("Connection",'RPC "'+e+'" timed out'),h(new Oe(ge.DEADLINE_EXCEEDED,"Request time out"));break;case Ef.HTTP_ERROR:const T=p.getStatus();if($e("Connection",'RPC "'+e+'" failed with status:',T,"response text:",p.getResponseText()),T>0){const R=p.getResponseJson().error;if(R&&R.status&&R.message){const V=function(U){const Q=U.toLowerCase().replace(/_/g,"-");return Object.values(ge).indexOf(Q)>=0?Q:ge.UNKNOWN}(R.status);h(new Oe(V,R.message))}else h(new Oe(ge.UNKNOWN,"Server responded with status "+p.getStatus()))}else h(new Oe(ge.UNAVAILABLE,"Connection failed."));break;default:ft()}}finally{$e("Connection",'RPC "'+e+'" completed.')}});const y=JSON.stringify(o);p.send(t,"POST",y,r,15)})}ji(e,t){const r=[this.Fi,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=MI(),l=Vk(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(h.xmlHttpFactory=new Hx({})),this.Ui(h.initMessageHeaders,t),(0,Wt.uI)()||(0,Wt.b$)()||(0,Wt.d)()||(0,Wt.w1)()||(0,Wt.Mn)()||(0,Wt.ru)()||(h.httpHeadersOverwriteParam="$httpHeaders");const p=r.join("");$e("Connection","Creating WebChannel: "+p,h);const y=o.createWebChannel(p,h);let C=!1,T=!1;const R=new BM({vi:U=>{T?$e("Connection","Not sending because WebChannel is closed:",U):(C||($e("Connection","Opening WebChannel transport."),y.open(),C=!0),$e("Connection","WebChannel sending:",U),y.send(U))},Vi:()=>y.close()}),V=(U,Q,fe)=>{U.listen(Q,De=>{try{fe(De)}catch(lt){setTimeout(()=>{throw lt},0)}})};return V(y,nv.EventType.OPEN,()=>{T||$e("Connection","WebChannel transport opened.")}),V(y,nv.EventType.CLOSE,()=>{T||(T=!0,$e("Connection","WebChannel transport closed"),R.$i())}),V(y,nv.EventType.ERROR,U=>{T||(T=!0,Cf("Connection","WebChannel transport errored:",U),R.$i(new Oe(ge.UNAVAILABLE,"The operation could not be completed")))}),V(y,nv.EventType.MESSAGE,U=>{var Q;if(!T){const fe=U.data[0];St(!!fe);const De=fe,lt=De.error||(null===(Q=De[0])||void 0===Q?void 0:Q.error);if(lt){$e("Connection","WebChannel received error:",lt);const Et=lt.status;let Lt=function(Cn){const Er=vr[Cn];if(void 0!==Er)return YI(Er)}(Et),ht=lt.message;void 0===Lt&&(Lt=ge.INTERNAL,ht="Unknown error status: "+Et+" with message "+lt.message),T=!0,R.$i(new Oe(Lt,ht)),y.close()}else $e("Connection","WebChannel received:",fe),R.Oi(fe)}}),V(l,Ux.STAT_EVENT,U=>{U.stat===jx.PROXY?$e("Connection","Detected buffering proxy"):U.stat===jx.NOPROXY&&$e("Connection","Detected no buffering proxy")}),setTimeout(()=>{R.ki()},0),R}}function zn(){return"undefined"!=typeof window?window:null}function Is(){return"undefined"!=typeof document?document:null}function qf(n){return new lM(n,!0)}class wC{constructor(e,t,r=1e3,o=1.5,l=6e4){this.Oe=e,this.timerId=t,this.Qi=r,this.Wi=o,this.Gi=l,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(e){this.cancel();const t=Math.floor(this.zi+this.Zi()),r=Math.max(0,Date.now()-this.Ji),o=Math.max(0,t-r);o>0&&$e("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.zi} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,o,()=>(this.Ji=Date.now(),e())),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}class CC{constructor(e,t,r,o,l,h,p){this.Oe=e,this.er=r,this.nr=o,this.sr=l,this.credentialsProvider=h,this.listener=p,this.state=0,this.ir=0,this.rr=null,this.cr=null,this.stream=null,this.ar=new wC(e,t)}ur(){return 1===this.state||5===this.state||this.hr()}hr(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.lr()}stop(){var e=this;return(0,de.Z)(function*(){e.ur()&&(yield e.close(0))})()}dr(){this.state=0,this.ar.reset()}wr(){this.hr()&&null===this.rr&&(this.rr=this.Oe.enqueueAfterDelay(this.er,6e4,()=>this._r()))}mr(e){this.gr(),this.stream.send(e)}_r(){var e=this;return(0,de.Z)(function*(){if(e.hr())return e.close(0)})()}gr(){this.rr&&(this.rr.cancel(),this.rr=null)}yr(){this.cr&&(this.cr.cancel(),this.cr=null)}close(e,t){var r=this;return(0,de.Z)(function*(){r.gr(),r.yr(),r.ar.cancel(),r.ir++,4!==e?r.ar.reset():t&&t.code===ge.RESOURCE_EXHAUSTED?(_r(t.toString()),_r("Using maximum backoff delay to prevent overloading the backend."),r.ar.Yi()):t&&t.code===ge.UNAUTHENTICATED&&3!==r.state&&r.credentialsProvider.invalidateToken(),null!==r.stream&&(r.pr(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Ci(t)})()}pr(){}auth(){this.state=1;const e=this.Tr(this.ir),t=this.ir;this.credentialsProvider.getToken().then(r=>{this.ir===t&&this.Er(r)},r=>{e(()=>{const o=new Oe(ge.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Ir(o)})})}Er(e){const t=this.Tr(this.ir);this.stream=this.Ar(e),this.stream.Si(()=>{t(()=>(this.state=2,this.cr=this.Oe.enqueueAfterDelay(this.nr,1e4,()=>(this.hr()&&(this.state=3),Promise.resolve())),this.listener.Si()))}),this.stream.Ci(r=>{t(()=>this.Ir(r))}),this.stream.onMessage(r=>{t(()=>this.onMessage(r))})}lr(){var e=this;this.state=5,this.ar.Xi((0,de.Z)(function*(){e.state=0,e.start()}))}Ir(e){return $e("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Tr(e){return t=>{this.Oe.enqueueAndForget(()=>this.ir===e?t():($e("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class DC extends CC{constructor(e,t,r,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,l),this.N=o}Ar(e){return this.sr.ji("Listen",e)}onMessage(e){this.ar.reset();const t=function(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(y=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===y?1:"REMOVE"===y?2:"CURRENT"===y?3:"RESET"===y?4:ft(),o=e.targetChange.targetIds||[],l=function(y,C){return y.D?(St(void 0===C||"string"==typeof C),or.fromBase64String(C||"")):(St(void 0===C||C instanceof Uint8Array),or.fromUint8Array(C||new Uint8Array))}(n,e.targetChange.resumeToken),h=e.targetChange.cause,p=h&&function(y){const C=void 0===y.code?ge.UNKNOWN:YI(y.code);return new Oe(C,y.message||"")}(h);t=new XI(r,o,l,p||null)}else if("documentChange"in e){const r=e.documentChange,o=js(n,r.document.name),l=jr(r.document.updateTime),h=new Ur({mapValue:{fields:r.document.fields}}),p=Xn.newFoundDocument(o,l,h);t=new Xw(r.targetIds||[],r.removedTargetIds||[],p.key,p)}else if("documentDelete"in e){const r=e.documentDelete,o=js(n,r.document),l=r.readTime?jr(r.readTime):Bt.min(),h=Xn.newNoDocument(o,l);t=new Xw([],r.removedTargetIds||[],h.key,h)}else if("documentRemove"in e){const r=e.documentRemove,o=js(n,r.document);t=new Xw([],r.removedTargetIds||[],o,null)}else{if(!("filter"in e))return ft();{const r=e.filter,l=new ZI(r.count||0);t=new iM(r.targetId,l)}}var y;return t}(this.N,e),r=function(o){if(!("targetChange"in o))return Bt.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?Bt.min():l.readTime?jr(l.readTime):Bt.min()}(e);return this.listener.Rr(t,r)}br(e){const t={};t.database=Sv(this.N),t.addTarget=function(o,l){let h;const p=l.target;return h=hm(p)?{documents:rT(o,p)}:{query:gM(o,p)},h.targetId=l.targetId,l.resumeToken.approximateByteSize()>0?h.resumeToken=Dv(o,l.resumeToken):l.snapshotVersion.compareTo(Bt.min())>0&&(h.readTime=ym(o,l.snapshotVersion.toTimestamp())),h}(this.N,e);const r=function(n,e){const t=function(r,o){switch(o){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ft()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.mr(t)}Pr(e){const t={};t.database=Sv(this.N),t.removeTarget=e,this.mr(t)}}class Wf extends CC{constructor(e,t,r,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,l),this.N=o,this.vr=!1}get Vr(){return this.vr}start(){this.vr=!1,this.lastStreamToken=void 0,super.start()}pr(){this.vr&&this.Sr([])}Ar(e){return this.sr.ji("Write",e)}onMessage(e){if(St(!!e.streamToken),this.lastStreamToken=e.streamToken,this.vr){this.ar.reset();const t=function(n,e){return n&&n.length>0?(St(void 0!==e),n.map(t=>function(r,o){let l=jr(r.updateTime?r.updateTime:o);return l.isEqual(Bt.min())&&(l=jr(o)),new Ww(l,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=jr(e.commitTime);return this.listener.Dr(r,t)}return St(!e.writeResults||0===e.writeResults.length),this.vr=!0,this.listener.Cr()}Nr(){const e={};e.database=Sv(this.N),this.mr(e)}Sr(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Jw(this.N,r))};this.mr(t)}}class Mm extends class{}{constructor(e,t,r){super(),this.credentials=e,this.sr=t,this.N=r,this.kr=!1}$r(){if(this.kr)throw new Oe(ge.FAILED_PRECONDITION,"The client has already been terminated.")}Li(e,t,r){return this.$r(),this.credentials.getToken().then(o=>this.sr.Li(e,t,r,o)).catch(o=>{throw"FirebaseError"===o.name?(o.code===ge.UNAUTHENTICATED&&this.credentials.invalidateToken(),o):new Oe(ge.UNKNOWN,o.toString())})}Ki(e,t,r){return this.$r(),this.credentials.getToken().then(o=>this.sr.Ki(e,t,r,o)).catch(o=>{throw"FirebaseError"===o.name?(o.code===ge.UNAUTHENTICATED&&this.credentials.invalidateToken(),o):new Oe(ge.UNKNOWN,o.toString())})}terminate(){this.kr=!0}}class UM{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Or=0,this.Fr=null,this.Mr=!0}Lr(){0===this.Or&&(this.Br("Unknown"),this.Fr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.Fr=null,this.Ur("Backend didn't respond within 10 seconds."),this.Br("Offline"),Promise.resolve())))}qr(e){"Online"===this.state?this.Br("Unknown"):(this.Or++,this.Or>=1&&(this.Kr(),this.Ur(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.Br("Offline")))}set(e){this.Kr(),this.Or=0,"Online"===e&&(this.Mr=!1),this.Br(e)}Br(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}Ur(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Mr?(_r(t),this.Mr=!1):$e("OnlineStateTracker",t)}Kr(){null!==this.Fr&&(this.Fr.cancel(),this.Fr=null)}}class Kd{constructor(e,t,r,o,l){var h=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.jr=[],this.Qr=new Map,this.Wr=new Set,this.Gr=[],this.zr=l,this.zr.Ti(p=>{r.enqueueAndForget((0,de.Z)(function*(){var y;rc(h)&&($e("RemoteStore","Restarting streams for network reachability change."),yield(y=(0,de.Z)(function*(C){const T=Ge(C);T.Wr.add(4),yield Cu(T),T.Hr.set("Unknown"),T.Wr.delete(4),yield Rm(T)}),function(C){return y.apply(this,arguments)})(h))}))}),this.Hr=new UM(r,o)}}function Rm(n){return qv.apply(this,arguments)}function qv(){return qv=(0,de.Z)(function*(n){if(rc(n))for(const e of n.Gr)yield e(!0)}),qv.apply(this,arguments)}function Cu(n){return Yd.apply(this,arguments)}function Yd(){return Yd=(0,de.Z)(function*(n){for(const e of n.Gr)yield e(!1)}),Yd.apply(this,arguments)}function Zf(n,e){const t=Ge(n);t.Qr.has(e.targetId)||(t.Qr.set(e.targetId,e),Wv(t)?Yf(t):Om(t).hr()&&Du(t,e))}function Kf(n,e){const t=Ge(n),r=Om(t);t.Qr.delete(e),r.hr()&&RT(t,e),0===t.Qr.size&&(r.hr()?r.wr():rc(t)&&t.Hr.set("Unknown"))}function Du(n,e){n.Jr.Y(e.targetId),Om(n).br(e)}function RT(n,e){n.Jr.Y(e),Om(n).Pr(e)}function Yf(n){n.Jr=new oM({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Tt:e=>n.Qr.get(e)||null}),Om(n).start(),n.Hr.Lr()}function Wv(n){return rc(n)&&!Om(n).ur()&&n.Qr.size>0}function rc(n){return 0===Ge(n).Wr.size}function IC(n){n.Jr=void 0}function Zv(n){return TC.apply(this,arguments)}function TC(){return TC=(0,de.Z)(function*(n){n.Qr.forEach((e,t)=>{Du(n,e)})}),TC.apply(this,arguments)}function SC(n,e){return Pm.apply(this,arguments)}function Pm(){return Pm=(0,de.Z)(function*(n,e){IC(n),Wv(n)?(n.Hr.qr(e),Yf(n)):n.Hr.set("Unknown")}),Pm.apply(this,arguments)}function Qk(n,e,t){return PT.apply(this,arguments)}function PT(){return PT=(0,de.Z)(function*(n,e,t){if(n.Hr.set("Online"),e instanceof XI&&2===e.state&&e.cause)try{yield(r=(0,de.Z)(function*(o,l){const h=l.cause;for(const p of l.targetIds)o.Qr.has(p)&&(yield o.remoteSyncer.rejectListen(p,h),o.Qr.delete(p),o.Jr.removeTarget(p))}),function(o,l){return r.apply(this,arguments)})(n,e)}catch(r){$e("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Dt(n,r)}else if(e instanceof Xw?n.Jr.rt(e):e instanceof iM?n.Jr.ft(e):n.Jr.at(e),!t.isEqual(Bt.min()))try{const r=yield IT(n.localStore);t.compareTo(r)>=0&&(yield function(o,l){const h=o.Jr._t(l);return h.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const C=o.Qr.get(y);C&&o.Qr.set(y,C.withResumeToken(p.resumeToken,l))}}),h.targetMismatches.forEach(p=>{const y=o.Qr.get(p);if(!y)return;o.Qr.set(p,y.withResumeToken(or.EMPTY_BYTE_STRING,y.snapshotVersion)),RT(o,p);const C=new mu(y.target,p,1,y.sequenceNumber);Du(o,C)}),o.remoteSyncer.applyRemoteEvent(h)}(n,t))}catch(r){$e("RemoteStore","Failed to raise snapshot:",r),yield Dt(n,r)}var r}),PT.apply(this,arguments)}function Dt(n,e,t){return kT.apply(this,arguments)}function kT(){return kT=(0,de.Z)(function*(n,e,t){if(!Wd(e))throw e;n.Wr.add(1),yield Cu(n),n.Hr.set("Offline"),t||(t=()=>IT(n.localStore)),n.asyncQueue.enqueueRetryable((0,de.Z)(function*(){$e("RemoteStore","Retrying IndexedDB access"),yield t(),n.Wr.delete(1),yield Rm(n)}))}),kT.apply(this,arguments)}function jM(n,e){return e().catch(t=>Dt(n,t,e))}function km(n){return AC.apply(this,arguments)}function AC(){return AC=(0,de.Z)(function*(n){const e=Ge(n),t=Iu(e);let r=e.jr.length>0?e.jr[e.jr.length-1].batchId:-1;for(;HM(e);)try{const o=yield kM(e.localStore,r);if(null===o){0===e.jr.length&&t.wr();break}r=o.batchId,$M(e,o)}catch(o){yield Dt(e,o)}OT(e)&&NT(e)}),AC.apply(this,arguments)}function HM(n){return rc(n)&&n.jr.length<10}function $M(n,e){n.jr.push(e);const t=Iu(n);t.hr()&&t.Vr&&t.Sr(e.mutations)}function OT(n){return rc(n)&&!Iu(n).ur()&&n.jr.length>0}function NT(n){Iu(n).start()}function da(n){return xC.apply(this,arguments)}function xC(){return xC=(0,de.Z)(function*(n){Iu(n).Nr()}),xC.apply(this,arguments)}function zM(n){return MC.apply(this,arguments)}function MC(){return MC=(0,de.Z)(function*(n){const e=Iu(n);for(const t of n.jr)e.Sr(t.mutations)}),MC.apply(this,arguments)}function GM(n,e,t){return Qd.apply(this,arguments)}function Qd(){return Qd=(0,de.Z)(function*(n,e,t){const r=n.jr.shift(),o=kv.from(r,e,t);yield jM(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),yield km(n)}),Qd.apply(this,arguments)}function qM(n,e){return RC.apply(this,arguments)}function RC(){return RC=(0,de.Z)(function*(n,e){var t;e&&Iu(n).Vr&&(yield(t=(0,de.Z)(function*(r,o){if(KI(l=o.code)&&l!==ge.ABORTED){const h=r.jr.shift();Iu(r).dr(),yield jM(r,()=>r.remoteSyncer.rejectFailedWrite(h.batchId,o)),yield km(r)}var l}),function(r,o){return t.apply(this,arguments)})(n,e)),OT(n)&&NT(n)}),RC.apply(this,arguments)}function PC(n,e){return FT.apply(this,arguments)}function FT(){return FT=(0,de.Z)(function*(n,e){const t=Ge(n);e?(t.Wr.delete(2),yield Rm(t)):e||(t.Wr.add(2),yield Cu(t),t.Hr.set("Unknown"))}),FT.apply(this,arguments)}function Om(n){return n.Yr||(n.Yr=function(e,t,r){const o=Ge(e);return o.$r(),new DC(t,o.sr,o.credentials,o.N,r)}(n.datastore,n.asyncQueue,{Si:Zv.bind(null,n),Ci:SC.bind(null,n),Rr:Qk.bind(null,n)}),n.Gr.push(function(){var e=(0,de.Z)(function*(t){t?(n.Yr.dr(),Wv(n)?Yf(n):n.Hr.set("Unknown")):(yield n.Yr.stop(),IC(n))});return function(t){return e.apply(this,arguments)}}())),n.Yr}function Iu(n){return n.Xr||(n.Xr=function(e,t,r){const o=Ge(e);return o.$r(),new Wf(t,o.sr,o.credentials,o.N,r)}(n.datastore,n.asyncQueue,{Si:da.bind(null,n),Ci:qM.bind(null,n),Cr:zM.bind(null,n),Dr:GM.bind(null,n)}),n.Gr.push(function(){var e=(0,de.Z)(function*(t){t?(n.Xr.dr(),yield km(n)):(yield n.Xr.stop(),n.jr.length>0&&($e("RemoteStore",`Stopping write stream with ${n.jr.length} pending writes`),n.jr=[]))});return function(t){return e.apply(this,arguments)}}())),n.Xr}class ii{constructor(e,t,r,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=l,this.deferred=new ni,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}static createAndSchedule(e,t,r,o,l){const h=Date.now()+r,p=new ii(e,t,h,o,l);return p.start(r),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Oe(ge.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Qf(n,e){if(_r("AsyncQueue",`${e}: ${n}`),Wd(n))return new Oe(ge.UNAVAILABLE,`${e}: ${n}`);throw n}class Xf{constructor(e){this.comparator=e?(t,r)=>e(t,r)||ut.comparator(t.key,r.key):(t,r)=>ut.comparator(t.key,r.key),this.keyedMap=Qw(),this.sortedSet=new Rr(this.comparator)}static emptySet(e){return new Xf(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Xf)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=r.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Xf;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class Kv{constructor(){this.Zr=new Rr(ut.comparator)}track(e){const t=e.doc.key,r=this.Zr.get(t);r?0!==e.type&&3===r.type?this.Zr=this.Zr.insert(t,e):3===e.type&&1!==r.type?this.Zr=this.Zr.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Zr=this.Zr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Zr=this.Zr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Zr=this.Zr.remove(t):1===e.type&&2===r.type?this.Zr=this.Zr.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Zr=this.Zr.insert(t,{type:2,doc:e.doc}):ft():this.Zr=this.Zr.insert(t,e)}eo(){const e=[];return this.Zr.inorderTraversal((t,r)=>{e.push(r)}),e}}class Jf{constructor(e,t,r,o,l,h,p,y){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=l,this.fromCache=h,this.syncStateChanged=p,this.excludesMetadataChanges=y}static fromInitialDocuments(e,t,r,o){const l=[];return t.forEach(h=>{l.push({type:0,doc:h})}),new Jf(e,t,Xf.emptySet(t),l,r,o,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ka(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}class WM{constructor(){this.no=void 0,this.listeners=[]}}class ZM{constructor(){this.queries=new bu(e=>jI(e),Ka),this.onlineState="Unknown",this.so=new Set}}function kC(n,e){return OC.apply(this,arguments)}function OC(){return OC=(0,de.Z)(function*(n,e){const t=Ge(n),r=e.query;let o=!1,l=t.queries.get(r);if(l||(o=!0,l=new WM),o)try{l.no=yield t.onListen(r)}catch(h){const p=Qf(h,`Initialization of query '${jw(e.query)}' failed`);return void e.onError(p)}t.queries.set(r,l),l.listeners.push(e),e.io(t.onlineState),l.no&&e.ro(l.no)&&Yv(t)}),OC.apply(this,arguments)}function NC(n,e){return Nm.apply(this,arguments)}function Nm(){return Nm=(0,de.Z)(function*(n,e){const t=Ge(n),r=e.query;let o=!1;const l=t.queries.get(r);if(l){const h=l.listeners.indexOf(e);h>=0&&(l.listeners.splice(h,1),o=0===l.listeners.length)}if(o)return t.queries.delete(r),t.onUnlisten(r)}),Nm.apply(this,arguments)}function KM(n,e){const t=Ge(n);let r=!1;for(const o of e){const h=t.queries.get(o.query);if(h){for(const p of h.listeners)p.ro(o)&&(r=!0);h.no=o}}r&&Yv(t)}function YM(n,e,t){const r=Ge(n),o=r.queries.get(e);if(o)for(const l of o.listeners)l.onError(t);r.queries.delete(e)}function Yv(n){n.so.forEach(e=>{e.next()})}class Fm{constructor(e,t,r){this.query=e,this.oo=t,this.co=!1,this.ao=null,this.onlineState="Unknown",this.options=r||{}}ro(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)3!==o.type&&r.push(o);e=new Jf(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.co?this.uo(e)&&(this.oo.next(e),t=!0):this.ho(e,this.onlineState)&&(this.lo(e),t=!0),this.ao=e,t}onError(e){this.oo.error(e)}io(e){this.onlineState=e;let t=!1;return this.ao&&!this.co&&this.ho(this.ao,e)&&(this.lo(this.ao),t=!0),t}ho(e,t){return!e.fromCache||!(this.options.fo&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}uo(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ao&&this.ao.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}lo(e){e=Jf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.co=!0,this.oo.next(e)}}class QM{constructor(e,t){this.payload=e,this.byteLength=t}wo(){return"metadata"in this.payload}}class XM{constructor(e){this.N=e}zn(e){return js(this.N,e)}Hn(e){return e.metadata.exists?hM(this.N,e.document,!1):Xn.newNoDocument(this.zn(e.metadata.name),this.Jn(e.metadata.readTime))}Jn(e){return jr(e)}}class JM{constructor(e,t,r){this._o=e,this.localStore=t,this.N=r,this.queries=[],this.documents=[],this.progress=LT(e)}mo(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}yo(e){const t=new Map,r=new XM(this.N);for(const o of e)if(o.metadata.queries){const l=r.zn(o.metadata.name);for(const h of o.metadata.queries){const p=(t.get(h)||In()).add(l);t.set(h,p)}}return t}complete(){var e=this;return(0,de.Z)(function*(){const t=yield function(n,e,t,r){return _C.apply(this,arguments)}(e.localStore,new XM(e.N),e.documents,e._o.id),r=e.yo(e.documents);for(const o of e.queries)yield FM(e.localStore,o,r.get(o.name));return e.progress.taskState="Success",new PM(Object.assign({},e.progress),t)})()}}function LT(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class VT{constructor(e){this.key=e}}class BT{constructor(e){this.key=e}}class UT{constructor(e,t){this.query=e,this.po=t,this.To=null,this.current=!1,this.Eo=In(),this.mutatedKeys=In(),this.Io=xf(e),this.Ao=new Xf(this.Io)}get Ro(){return this.po}bo(e,t){const r=t?t.Po:new Kv,o=t?t.Ao:this.Ao;let l=t?t.mutatedKeys:this.mutatedKeys,h=o,p=!1;const y=pm(this.query)&&o.size===this.query.limit?o.last():null,C=dv(this.query)&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((T,R)=>{const V=o.get(T),U=pv(this.query,R)?R:null,Q=!!V&&this.mutatedKeys.has(V.key),fe=!!U&&(U.hasLocalMutations||this.mutatedKeys.has(U.key)&&U.hasCommittedMutations);let De=!1;V&&U?V.data.isEqual(U.data)?Q!==fe&&(r.track({type:3,doc:U}),De=!0):this.vo(V,U)||(r.track({type:2,doc:U}),De=!0,(y&&this.Io(U,y)>0||C&&this.Io(U,C)<0)&&(p=!0)):!V&&U?(r.track({type:0,doc:U}),De=!0):V&&!U&&(r.track({type:1,doc:V}),De=!0,(y||C)&&(p=!0)),De&&(U?(h=h.add(U),l=fe?l.add(T):l.delete(T)):(h=h.delete(T),l=l.delete(T)))}),pm(this.query)||dv(this.query))for(;h.size>this.query.limit;){const T=pm(this.query)?h.last():h.first();h=h.delete(T.key),l=l.delete(T.key),r.track({type:1,doc:T})}return{Ao:h,Po:r,Ln:p,mutatedKeys:l}}vo(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const o=this.Ao;this.Ao=e.Ao,this.mutatedKeys=e.mutatedKeys;const l=e.Po.eo();l.sort((C,T)=>function(R,V){const U=Q=>{switch(Q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ft()}};return U(R)-U(V)}(C.type,T.type)||this.Io(C.doc,T.doc)),this.Vo(r);const h=t?this.So():[],p=0===this.Eo.size&&this.current?1:0,y=p!==this.To;return this.To=p,0!==l.length||y?{snapshot:new Jf(this.query,e.Ao,o,l,e.mutatedKeys,0===p,y,!1),Do:h}:{Do:h}}io(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ao:this.Ao,Po:new Kv,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{Do:[]}}Co(e){return!this.po.has(e)&&!!this.Ao.has(e)&&!this.Ao.get(e).hasLocalMutations}Vo(e){e&&(e.addedDocuments.forEach(t=>this.po=this.po.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.po=this.po.delete(t)),this.current=e.current)}So(){if(!this.current)return[];const e=this.Eo;this.Eo=In(),this.Ao.forEach(r=>{this.Co(r.key)&&(this.Eo=this.Eo.add(r.key))});const t=[];return e.forEach(r=>{this.Eo.has(r)||t.push(new BT(r))}),this.Eo.forEach(r=>{e.has(r)||t.push(new VT(r))}),t}No(e){this.po=e.Gn,this.Eo=In();const t=this.bo(e.documents);return this.applyChanges(t,!0)}xo(){return Jf.fromInitialDocuments(this.query,this.Ao,this.mutatedKeys,0===this.To)}}class eR{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class Lm{constructor(e){this.key=e,this.ko=!1}}class tR{constructor(e,t,r,o,l,h){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=h,this.$o={},this.Oo=new bu(p=>jI(p),Ka),this.Fo=new Map,this.Mo=new Set,this.Lo=new Rr(ut.comparator),this.Bo=new Map,this.Uo=new zf,this.qo={},this.Ko=new Map,this.jo=_u.ie(),this.onlineState="Unknown",this.Qo=void 0}get isPrimaryClient(){return!0===this.Qo}}function nR(n,e){return Qv.apply(this,arguments)}function Qv(){return Qv=(0,de.Z)(function*(n,e){const t=XT(n);let r,o;const l=t.Oo.get(e);if(l)r=l.targetId,t.sharedClientState.addLocalQueryTarget(r),o=l.view.xo();else{const h=yield Hf(t.localStore,Co(e)),p=t.sharedClientState.addLocalQueryTarget(h.targetId);r=h.targetId,o=yield Xd(t,e,r,"current"===p),t.isPrimaryClient&&Zf(t.remoteStore,h)}return o}),Qv.apply(this,arguments)}function Xd(n,e,t,r){return jT.apply(this,arguments)}function jT(){return jT=(0,de.Z)(function*(n,e,t,r){n.Wo=(T,R,V)=>{return(U=(0,de.Z)(function*(Q,fe,De,lt){let Et=fe.view.bo(De);Et.Ln&&(Et=yield gC(Q.localStore,fe.query,!1).then(({documents:Cn})=>fe.view.bo(Cn,Et)));const Lt=lt&&lt.targetChanges.get(fe.targetId),ht=fe.view.applyChanges(Et,Q.isPrimaryClient,Lt);return Xv(Q,fe.targetId,ht.Do),ht.snapshot}),function(Q,fe,De,lt){return U.apply(this,arguments)})(n,T,R,V);var U};const o=yield gC(n.localStore,e,!0),l=new UT(e,o.Gn),h=l.bo(o.documents),p=_m.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),y=l.applyChanges(h,n.isPrimaryClient,p);Xv(n,t,y.Do);const C=new eR(e,t,l);return n.Oo.set(e,C),n.Fo.has(t)?n.Fo.get(t).push(e):n.Fo.set(t,[e]),y.snapshot}),jT.apply(this,arguments)}function HT(n,e){return FC.apply(this,arguments)}function FC(){return FC=(0,de.Z)(function*(n,e){const t=Ge(n),r=t.Oo.get(e),o=t.Fo.get(r.targetId);if(o.length>1)return t.Fo.set(r.targetId,o.filter(l=>!Ka(l,e))),void t.Oo.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield $f(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Kf(t.remoteStore,r.targetId),ep(t,r.targetId)}).catch(vu))):(ep(t,r.targetId),yield $f(t.localStore,r.targetId,!0))}),FC.apply(this,arguments)}function LC(){return LC=(0,de.Z)(function*(n,e,t){const r=YC(n);try{const o=yield function(l,h){const p=Ge(l),y=Mr.now(),C=h.reduce((R,V)=>R.add(V.key),In());let T;return p.persistence.runTransaction("Locally write mutations","readwrite",R=>p.Qn.Pn(R,C).next(V=>{T=V;const U=[];for(const Q of h){const fe=zI(Q,T.get(Q.key));null!=fe&&U.push(new fu(Q.key,fe,VI(fe.value.mapValue),ar.exists(!0)))}return p.In.addMutationBatch(R,y,U,h)})).then(R=>(R.applyToLocalDocumentSet(T),{batchId:R.batchId,changes:T}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(l,h,p){let y=l.qo[l.currentUser.toKey()];y||(y=new Rr(Xt)),y=y.insert(h,p),l.qo[l.currentUser.toKey()]=y}(r,o.batchId,t),yield Gn(r,o.changes),yield km(r.remoteStore)}catch(o){const l=Qf(o,"Failed to persist write");t.reject(l)}}),LC.apply(this,arguments)}function $T(n,e){return VC.apply(this,arguments)}function VC(){return VC=(0,de.Z)(function*(n,e){const t=Ge(n);try{const r=yield TT(t.localStore,e);e.targetChanges.forEach((o,l)=>{const h=t.Bo.get(l);h&&(St(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?h.ko=!0:o.modifiedDocuments.size>0?St(h.ko):o.removedDocuments.size>0&&(St(h.ko),h.ko=!1))}),yield Gn(t,r,e)}catch(r){yield vu(r)}}),VC.apply(this,arguments)}function BC(n,e,t){const r=Ge(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const o=[];r.Oo.forEach((l,h)=>{const p=h.view.io(e);p.snapshot&&o.push(p.snapshot)}),function(l,h){const p=Ge(l);p.onlineState=h;let y=!1;p.queries.forEach((C,T)=>{for(const R of T.listeners)R.io(h)&&(y=!0)}),y&&Yv(p)}(r.eventManager,e),o.length&&r.$o.Rr(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function iR(n,e,t){return UC.apply(this,arguments)}function UC(){return UC=(0,de.Z)(function*(n,e,t){const r=Ge(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.Bo.get(e),l=o&&o.key;if(l){let h=new Rr(ut.comparator);h=h.insert(l,Xn.newNoDocument(l,Bt.min()));const p=In().add(l),y=new mm(Bt.min(),new Map,new br(Xt),h,p);yield $T(r,y),r.Lo=r.Lo.remove(l),r.Bo.delete(e),GC(r)}else yield $f(r.localStore,e,!1).then(()=>ep(r,e,t)).catch(vu)}),UC.apply(this,arguments)}function Xk(n,e){return zT.apply(this,arguments)}function zT(){return zT=(0,de.Z)(function*(n,e){const t=Ge(n),r=e.batch.batchId;try{const o=yield zv(t.localStore,e);$C(t,r,null),HC(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Gn(t,o)}catch(o){yield vu(o)}}),zT.apply(this,arguments)}function Jk(n,e,t){return Vm.apply(this,arguments)}function Vm(){return Vm=(0,de.Z)(function*(n,e,t){const r=Ge(n);try{const o=yield function(l,h){const p=Ge(l);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let C;return p.In.lookupMutationBatch(y,h).next(T=>(St(null!==T),C=T.keys(),p.In.removeMutationBatch(y,T))).next(()=>p.In.performConsistencyCheck(y)).next(()=>p.Qn.Pn(y,C))})}(r.localStore,e);$C(r,e,t),HC(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Gn(r,o)}catch(o){yield vu(o)}}),Vm.apply(this,arguments)}function jC(){return jC=(0,de.Z)(function*(n,e){const t=Ge(n);rc(t.remoteStore)||$e("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(l){const h=Ge(l);return h.persistence.runTransaction("Get highest unacknowledged batch id","readonly",p=>h.In.getHighestUnacknowledgedBatchId(p))}(t.localStore);if(-1===r)return void e.resolve();const o=t.Ko.get(r)||[];o.push(e),t.Ko.set(r,o)}catch(r){const o=Qf(r,"Initialization of waitForPendingWrites() operation failed");e.reject(o)}}),jC.apply(this,arguments)}function HC(n,e){(n.Ko.get(e)||[]).forEach(t=>{t.resolve()}),n.Ko.delete(e)}function $C(n,e,t){const r=Ge(n);let o=r.qo[r.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),r.qo[r.currentUser.toKey()]=o}}function ep(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Fo.get(e))n.Oo.delete(r),t&&n.$o.Go(r,t);n.Fo.delete(e),n.isPrimaryClient&&n.Uo.cs(e).forEach(r=>{n.Uo.containsKey(r)||GT(n,r)})}function GT(n,e){n.Mo.delete(e.path.canonicalString());const t=n.Lo.get(e);null!==t&&(Kf(n.remoteStore,t),n.Lo=n.Lo.remove(e),n.Bo.delete(t),GC(n))}function Xv(n,e,t){for(const r of t)r instanceof VT?(n.Uo.addReference(r.key,e),zC(n,r)):r instanceof BT?($e("SyncEngine","Document no longer in limbo: "+r.key),n.Uo.removeReference(r.key,e),n.Uo.containsKey(r.key)||GT(n,r.key)):ft()}function zC(n,e){const t=e.key,r=t.path.canonicalString();n.Lo.get(t)||n.Mo.has(r)||($e("SyncEngine","New document in limbo: "+t),n.Mo.add(r),GC(n))}function GC(n){for(;n.Mo.size>0&&n.Lo.size<n.maxConcurrentLimboResolutions;){const e=n.Mo.values().next().value;n.Mo.delete(e);const t=new ut(pn.fromString(e)),r=n.jo.next();n.Bo.set(r,new Lm(t)),n.Lo=n.Lo.insert(t,r),Zf(n.remoteStore,new mu(Co(zd(t.path)),r,2,wo.T))}}function Gn(n,e,t){return Jv.apply(this,arguments)}function Jv(){return Jv=(0,de.Z)(function*(n,e,t){const r=Ge(n),o=[],l=[],h=[];var p;r.Oo.isEmpty()||(r.Oo.forEach((p,y)=>{h.push(r.Wo(y,e,t).then(C=>{if(C){r.isPrimaryClient&&r.sharedClientState.updateQueryState(y.targetId,C.fromCache?"not-current":"current"),o.push(C);const T=Hv.kn(y.targetId,C);l.push(T)}}))}),yield Promise.all(h),r.$o.Rr(o),yield(p=(0,de.Z)(function*(y,C){const T=Ge(y);try{yield T.persistence.runTransaction("notifyLocalViewChanges","readwrite",R=>Re.forEach(C,V=>Re.forEach(V.Nn,U=>T.persistence.referenceDelegate.addReference(R,V.targetId,U)).next(()=>Re.forEach(V.xn,U=>T.persistence.referenceDelegate.removeReference(R,V.targetId,U)))))}catch(R){if(!Wd(R))throw R;$e("LocalStore","Failed to update sequence numbers: "+R)}for(const R of C){const V=R.targetId;if(!R.fromCache){const U=T.Un.get(V),fe=U.withLastLimboFreeSnapshotVersion(U.snapshotVersion);T.Un=T.Un.insert(V,fe)}}}),function(y,C){return p.apply(this,arguments)})(r.localStore,l))}),Jv.apply(this,arguments)}function ha(n,e){return Bm.apply(this,arguments)}function Bm(){return Bm=(0,de.Z)(function*(n,e){const t=Ge(n);if(!t.currentUser.isEqual(e)){$e("SyncEngine","User change. New user:",e.toKey());const r=yield DT(t.localStore,e);t.currentUser=e,(o=t).Ko.forEach(h=>{h.forEach(p=>{p.reject(new Oe(ge.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.Ko.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Gn(t,r.Wn)}var o}),Bm.apply(this,arguments)}function oR(n,e){const t=Ge(n),r=t.Bo.get(e);if(r&&r.ko)return In().add(r.key);{let o=In();const l=t.Fo.get(e);if(!l)return o;for(const h of l){const p=t.Oo.get(h);o=o.unionWith(p.view.Ro)}return o}}function qT(n,e){return WT.apply(this,arguments)}function WT(){return WT=(0,de.Z)(function*(n,e){const t=Ge(n),r=yield gC(t.localStore,e.query,!0),o=e.view.No(r);return t.isPrimaryClient&&Xv(t,e.targetId,o.Do),o}),WT.apply(this,arguments)}function aR(n){return qC.apply(this,arguments)}function qC(){return qC=(0,de.Z)(function*(n){const e=Ge(n);return AT(e.localStore).then(t=>Gn(e,t))}),qC.apply(this,arguments)}function lR(n,e,t,r){return Jd.apply(this,arguments)}function Jd(){return Jd=(0,de.Z)(function*(n,e,t,r){const o=Ge(n),l=yield function(h,p){const y=Ge(h),C=Ge(y.In);return y.persistence.runTransaction("Lookup mutation documents","readonly",T=>C.Xt(T,p).next(R=>R?y.Qn.Pn(T,R):Re.resolve(null)))}(o.localStore,e);var p;null!==l?("pending"===t?yield km(o.remoteStore):"acknowledged"===t||"rejected"===t?($C(o,e,r||null),HC(o,e),p=e,Ge(Ge(o.localStore).In).te(p)):ft(),yield Gn(o,l)):$e("SyncEngine","Cannot apply mutation batch with id: "+e)}),Jd.apply(this,arguments)}function KT(){return KT=(0,de.Z)(function*(n,e){const t=Ge(n);if(XT(t),YC(t),!0===e&&!0!==t.Qo){const r=t.sharedClientState.getAllActiveQueryTargets(),o=yield YT(t,r.toArray());t.Qo=!0,yield PC(t.remoteStore,!0);for(const l of o)Zf(t.remoteStore,l)}else if(!1===e&&!1!==t.Qo){const r=[];let o=Promise.resolve();t.Fo.forEach((l,h)=>{t.sharedClientState.isLocalQueryTarget(h)?r.push(h):o=o.then(()=>(ep(t,h),$f(t.localStore,h,!0))),Kf(t.remoteStore,h)}),yield o,yield YT(t,r),function(l){const h=Ge(l);h.Bo.forEach((p,y)=>{Kf(h.remoteStore,y)}),h.Uo.us(),h.Bo=new Map,h.Lo=new Rr(ut.comparator)}(t),t.Qo=!1,yield PC(t.remoteStore,!1)}}),KT.apply(this,arguments)}function YT(n,e,t){return QT.apply(this,arguments)}function QT(){return QT=(0,de.Z)(function*(n,e,t){const r=Ge(n),o=[],l=[];for(const h of e){let p;const y=r.Fo.get(h);if(y&&0!==y.length){p=yield Hf(r.localStore,Co(y[0]));for(const C of y){const T=r.Oo.get(C),R=yield qT(r,T);R.snapshot&&l.push(R.snapshot)}}else{const C=yield ST(r.localStore,h);p=yield Hf(r.localStore,C),yield Xd(r,cR(C),h,!1)}o.push(p)}return r.$o.Rr(l),o}),QT.apply(this,arguments)}function cR(n){return Bw(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function eO(n){const e=Ge(n);return Ge(Ge(e.localStore).persistence).pn()}function WC(n,e,t,r){return ZC.apply(this,arguments)}function ZC(){return ZC=(0,de.Z)(function*(n,e,t,r){const o=Ge(n);if(o.Qo)$e("SyncEngine","Ignoring unexpected query state notification.");else if(o.Fo.has(e))switch(t){case"current":case"not-current":{const l=yield AT(o.localStore),h=mm.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield Gn(o,l,h);break}case"rejected":yield $f(o.localStore,e,!0),ep(o,e,r);break;default:ft()}}),ZC.apply(this,arguments)}function uR(n,e,t){return KC.apply(this,arguments)}function KC(){return KC=(0,de.Z)(function*(n,e,t){const r=XT(n);if(r.Qo){for(const o of e){if(r.Fo.has(o)){$e("SyncEngine","Adding an already active target "+o);continue}const l=yield ST(r.localStore,o),h=yield Hf(r.localStore,l);yield Xd(r,cR(l),h.targetId,!1),Zf(r.remoteStore,h)}for(const o of t)r.Fo.has(o)&&(yield $f(r.localStore,o,!1).then(()=>{Kf(r.remoteStore,o),ep(r,o)}).catch(vu))}}),KC.apply(this,arguments)}function XT(n){const e=Ge(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=$T.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=oR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=iR.bind(null,e),e.$o.Rr=KM.bind(null,e.eventManager),e.$o.Go=YM.bind(null,e.eventManager),e}function YC(n){const e=Ge(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Xk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Jk.bind(null,e),e}class JT{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,de.Z)(function*(){t.N=qf(e.databaseInfo.databaseId),t.sharedClientState=t.Ho(e),t.persistence=t.Jo(e),yield t.persistence.start(),t.gcScheduler=t.Yo(e),t.localStore=t.Xo(e)})()}Yo(e){return null}Xo(e){return CT(this.persistence,new fC,e.initialUser,this.N)}Jo(e){return new Im(At.Ns,this.N)}Ho(e){return new EC}terminate(){var e=this;return(0,de.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Io extends JT{constructor(e,t,r){super(),this.Zo=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,de.Z)(function*(){yield t().call(r,e),yield function(n){return mC.apply(this,arguments)}(r.localStore),yield r.Zo.initialize(r,e),yield YC(r.Zo.syncEngine),yield km(r.Zo.remoteStore),yield r.persistence.nn(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()))})()}Xo(e){return CT(this.persistence,new fC,e.initialUser,this.N)}Yo(e){return new cC(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}Jo(e){const t=hC(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Gs.withCacheSize(this.cacheSizeBytes):Gs.DEFAULT;return new bT(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,zn(),Is(),this.N,this.sharedClientState,!!this.forceOwnership)}Ho(e){return new EC}}class tO extends Io{constructor(e,t){super(e,t,!1),this.Zo=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,de.Z)(function*(){yield t().call(r,e);const o=r.Zo.syncEngine;r.sharedClientState instanceof nc&&(r.sharedClientState.syncEngine={_i:lR.bind(null,o),mi:WC.bind(null,o),gi:uR.bind(null,o),pn:eO.bind(null,o),wi:aR.bind(null,o)},yield r.sharedClientState.start()),yield r.persistence.nn(function(){var l=(0,de.Z)(function*(h){yield function(n,e){return KT.apply(this,arguments)}(r.Zo.syncEngine,h),r.gcScheduler&&(h&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):h||r.gcScheduler.stop())});return function(h){return l.apply(this,arguments)}}())})()}Ho(e){const t=zn();if(!nc.bt(t))throw new Oe(ge.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=hC(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new nc(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class eb{initialize(e,t){var r=this;return(0,de.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=o=>BC(r.syncEngine,o,1),r.remoteStore.remoteSyncer.handleCredentialChange=ha.bind(null,r.syncEngine),yield PC(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new ZM}createDatastore(e){const t=qf(e.databaseInfo.databaseId),r=new Do(e.databaseInfo);return new Mm(e.credentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,o=e.asyncQueue,l=p=>BC(this.syncEngine,p,0),h=LM.bt()?new LM:new MT,new Kd(t,r,o,l,h);var t,r,o,l,h}createSyncEngine(e,t){return function(r,o,l,h,p,y,C){const T=new tR(r,o,l,h,p,y);return C&&(T.Qo=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,de.Z)(function*(t){const r=Ge(t);$e("RemoteStore","RemoteStore shutting down."),r.Wr.add(5),yield Cu(r),r.zr.shutdown(),r.Hr.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function eS(n,e=10240){let t=0;return{read:()=>(0,de.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,de.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Um{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.tc(this.observer.next,e)}error(e){this.observer.error?this.tc(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}ec(){this.muted=!0}tc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class tS{constructor(e,t){this.nc=e,this.N=t,this.metadata=new ni,this.buffer=new Uint8Array,this.sc=new TextDecoder("utf-8"),this.ic().then(r=>{r&&r.wo()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.nc.cancel()}getMetadata(){var e=this;return(0,de.Z)(function*(){return e.metadata.promise})()}zo(){var e=this;return(0,de.Z)(function*(){return yield e.getMetadata(),e.ic()})()}ic(){var e=this;return(0,de.Z)(function*(){const t=yield e.rc();if(null===t)return null;const r=e.sc.decode(t),o=Number(r);isNaN(o)&&e.oc(`length string (${r}) is not valid number`);const l=yield e.cc(o);return new QM(JSON.parse(l),t.length+o)})()}ac(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}rc(){var e=this;return(0,de.Z)(function*(){for(;e.ac()<0&&!(yield e.uc()););if(0===e.buffer.length)return null;const t=e.ac();t<0&&e.oc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}cc(e){var t=this;return(0,de.Z)(function*(){for(;t.buffer.length<e;)(yield t.uc())&&t.oc("Reached the end of bundle when more is expected.");const r=t.sc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}oc(e){throw this.nc.cancel(),new Error(`Invalid bundle format: ${e}`)}uc(){var e=this;return(0,de.Z)(function*(){const t=yield e.nc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class nS{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,de.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Oe(ge.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(o=(0,de.Z)(function*(l,h){const p=Ge(l),y=Sv(p.N)+"/documents",C={documents:h.map(U=>Ff(p.N,U))},T=yield p.Ki("BatchGetDocuments",y,C),R=new Map;T.forEach(U=>{const Q=function(n,e){return"found"in e?function(t,r){St(!!r.found);const o=js(t,r.found.name),l=jr(r.found.updateTime),h=new Ur({mapValue:{fields:r.found.fields}});return Xn.newFoundDocument(o,l,h)}(n,e):"missing"in e?function(t,r){St(!!r.missing),St(!!r.readTime);const o=js(t,r.missing),l=jr(r.readTime);return Xn.newNoDocument(o,l)}(n,e):ft()}(p.N,U);R.set(Q.key.toString(),Q)});const V=[];return h.forEach(U=>{const Q=R.get(U.toString());St(!!Q),V.push(Q)}),V}),function(l,h){return o.apply(this,arguments)})(t.datastore,e);var o;return r.forEach(o=>t.recordVersion(o)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Of(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,de.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,o)=>{const l=ut.fromPath(o);e.mutations.push(new Ev(l,e.precondition(l)))}),yield(r=(0,de.Z)(function*(o,l){const h=Ge(o),p=Sv(h.N)+"/documents",y={writes:l.map(C=>Jw(h.N,C))};yield h.Li("Commit",p,y)}),function(o,l){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ft();t=Bt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Oe(ge.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?ar.updateTime(t):ar.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Bt.min()))throw new Oe(ge.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ar.updateTime(t)}return ar.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class QC{constructor(e,t,r,o){this.asyncQueue=e,this.datastore=t,this.updateFunction=r,this.deferred=o,this.hc=5,this.ar=new wC(this.asyncQueue,"transaction_retry")}run(){this.hc-=1,this.lc()}lc(){var e=this;this.ar.Xi((0,de.Z)(function*(){const t=new nS(e.datastore),r=e.fc(t);r&&r.then(o=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(o)}).catch(l=>{e.dc(l)}))}).catch(o=>{e.dc(o)})}))}fc(e){try{const t=this.updateFunction(e);return!du(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}dc(e){this.hc>0&&this.wc(e)?(this.hc-=1,this.asyncQueue.enqueueAndForget(()=>(this.lc(),Promise.resolve()))):this.deferred.reject(e)}wc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!KI(t)}return!1}}class XC{constructor(e,t,r){var o=this;this.credentials=e,this.asyncQueue=t,this.databaseInfo=r,this.user=ti.UNAUTHENTICATED,this.clientId=Gx.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(t,function(){var l=(0,de.Z)(function*(h){$e("FirestoreClient","Received user=",h.uid),yield o.credentialListener(h),o.user=h});return function(h){return l.apply(this,arguments)}}())}getConfiguration(){var e=this;return(0,de.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,credentials:e.credentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.credentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Oe(ge.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new ni;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,de.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.credentials.shutdown(),t.resolve()}catch(r){const o=Qf(r,"Failed to shutdown persistence");t.reject(o)}})),t.promise}}function tb(n,e){return tp.apply(this,arguments)}function tp(){return tp=(0,de.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),$e("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var o=(0,de.Z)(function*(l){r.isEqual(l)||(yield DT(e.localStore,l),r=l)});return function(l){return o.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),tp.apply(this,arguments)}function jm(n,e){return nb.apply(this,arguments)}function nb(){return nb=(0,de.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield rb(n);$e("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(o=>{return(l=(0,de.Z)(function*(h,p){const y=Ge(h);y.asyncQueue.verifyOperationInProgress(),$e("RemoteStore","RemoteStore received new credentials");const C=rc(y);y.Wr.add(3),yield Cu(y),C&&y.Hr.set("Unknown"),yield y.remoteSyncer.handleCredentialChange(p),y.Wr.delete(3),yield Rm(y)}),function(h,p){return l.apply(this,arguments)})(e.remoteStore,o);var l}),n.onlineComponents=e}),nb.apply(this,arguments)}function rb(n){return JC.apply(this,arguments)}function JC(){return JC=(0,de.Z)(function*(n){return n.offlineComponents||($e("FirestoreClient","Using default OfflineComponentProvider"),yield tb(n,new JT)),n.offlineComponents}),JC.apply(this,arguments)}function ib(n){return sb.apply(this,arguments)}function sb(){return sb=(0,de.Z)(function*(n){return n.onlineComponents||($e("FirestoreClient","Using default OnlineComponentProvider"),yield jm(n,new eb)),n.onlineComponents}),sb.apply(this,arguments)}function rS(n){return rb(n).then(e=>e.persistence)}function e0(n){return rb(n).then(e=>e.localStore)}function iS(n){return ib(n).then(e=>e.remoteStore)}function Hm(n){return ib(n).then(e=>e.syncEngine)}function np(n){return Ci.apply(this,arguments)}function Ci(){return Ci=(0,de.Z)(function*(n){const e=yield ib(n),t=e.eventManager;return t.onListen=nR.bind(null,e.syncEngine),t.onUnlisten=HT.bind(null,e.syncEngine),t}),Ci.apply(this,arguments)}function zm(n,e,t={}){const r=new ni;return n.asyncQueue.enqueueAndForget((0,de.Z)(function*(){return function(o,l,h,p,y){const C=new Um({next:R=>{l.enqueueAndForget(()=>NC(o,T));const V=R.docs.has(h);!V&&R.fromCache?y.reject(new Oe(ge.UNAVAILABLE,"Failed to get document because the client is offline.")):V&&R.fromCache&&p&&"server"===p.source?y.reject(new Oe(ge.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(R)},error:R=>y.reject(R)}),T=new Fm(zd(h.path),C,{includeMetadataChanges:!0,fo:!0});return kC(o,T)}(yield np(n),n.asyncQueue,e,t,r)})),r.promise}function n0(n,e,t={}){const r=new ni;return n.asyncQueue.enqueueAndForget((0,de.Z)(function*(){return function(o,l,h,p,y){const C=new Um({next:R=>{l.enqueueAndForget(()=>NC(o,T)),R.fromCache&&"server"===p.source?y.reject(new Oe(ge.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(R)},error:R=>y.reject(R)}),T=new Fm(h,C,{includeMetadataChanges:!0,fo:!0});return kC(o,T)}(yield np(n),n.asyncQueue,e,t,r)})),r.promise}class gR{constructor(e,t,r,o,l,h,p,y){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=l,this.forceLongPolling=h,this.autoDetectLongPolling=p,this.useFetchStreams=y}}class eh{constructor(e,t){this.projectId=e,this.database=t||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof eh&&e.projectId===this.projectId&&e.database===this.database}}const oS=new Map;function r0(n,e,t){if(!t)throw new Oe(ge.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function aS(n,e,t,r){if(!0===e&&!0===r)throw new Oe(ge.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function ic(n){if(!ut.isDocumentKey(n))throw new Oe(ge.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function rp(n){if(ut.isDocumentKey(n))throw new Oe(ge.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function ip(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":ft()}function tn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Oe(ge.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=ip(n);throw new Oe(ge.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function lS(n,e){if(e<=0)throw new Oe(ge.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class cS{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Oe(ge.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Oe(ge.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,aS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class th{constructor(e,t){this._credentials=t,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cS({}),this._settingsFrozen=!1,e instanceof eh?this._databaseId=e:(this._app=e,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new Oe(ge.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new eh(r.options.projectId)}(e))}get app(){if(!this._app)throw new Oe(ge.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Oe(ge.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cS(e),void 0!==e.credentials&&(this._credentials=function(t){if(!t)return new RI;switch(t.type){case"gapi":const r=t.client;return St(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new zx(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Oe(ge.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=oS.get(e);t&&($e("ComponentProvider","Removing Datastore"),oS.delete(e),t.terminate())}(this),Promise.resolve()}}class On{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ja(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new On(this.firestore,e,this._key)}}class Di{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Di(this.firestore,e,this._query)}}class Ja extends Di{constructor(e,t,r){super(e,t,zd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new On(this.firestore,null,new ut(e))}withConverter(e){return new Ja(this.firestore,e,this._path)}}function uS(n,e,...t){if(n=(0,Wt.m9)(n),r0("collection","path",e),n instanceof th){const r=pn.fromString(e,...t);return rp(r),new Ja(n,null,r)}{if(!(n instanceof On||n instanceof Ja))throw new Oe(ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(pn.fromString(e,...t));return rp(r),new Ja(n.firestore,null,r)}}function To(n,e,...t){if(n=(0,Wt.m9)(n),1===arguments.length&&(e=Gx.I()),r0("doc","path",e),n instanceof th){const r=pn.fromString(e,...t);return ic(r),new On(n,null,new ut(r))}{if(!(n instanceof On||n instanceof Ja))throw new Oe(ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(pn.fromString(e,...t));return ic(r),new On(n.firestore,n instanceof Ja?n.converter:null,new ut(r))}}function sp(n,e){return n=(0,Wt.m9)(n),e=(0,Wt.m9)(e),(n instanceof On||n instanceof Ja)&&(e instanceof On||e instanceof Ja)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function nh(n,e){return n=(0,Wt.m9)(n),e=(0,Wt.m9)(e),n instanceof Di&&e instanceof Di&&n.firestore===e.firestore&&Ka(n._query,e._query)&&n.converter===e.converter}class lb{constructor(){this._c=Promise.resolve(),this.mc=[],this.gc=!1,this.yc=[],this.Tc=null,this.Ec=!1,this.Ic=!1,this.Ac=[],this.ar=new wC(this,"async_queue_retry"),this.Rc=()=>{const t=Is();t&&$e("AsyncQueue","Visibility state changed to "+t.visibilityState),this.ar.tr()};const e=Is();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Rc)}get isShuttingDown(){return this.gc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.bc(),this.Pc(e)}enterRestrictedMode(e){if(!this.gc){this.gc=!0,this.Ic=e||!1;const t=Is();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Rc)}}enqueue(e){if(this.bc(),this.gc)return new Promise(()=>{});const t=new ni;return this.Pc(()=>this.gc&&this.Ic?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.mc.push(e),this.vc()))}vc(){var e=this;return(0,de.Z)(function*(){if(0!==e.mc.length){try{yield e.mc[0](),e.mc.shift(),e.ar.reset()}catch(t){if(!Wd(t))throw t;$e("AsyncQueue","Operation failed with retryable error: "+t)}e.mc.length>0&&e.ar.Xi(()=>e.vc())}})()}Pc(e){const t=this._c.then(()=>(this.Ec=!0,e().catch(r=>{throw this.Tc=r,this.Ec=!1,_r("INTERNAL UNHANDLED ERROR: ",function(l){let h=l.message||"";return l.stack&&(h=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),h}(r)),r}).then(r=>(this.Ec=!1,r))));return this._c=t,t}enqueueAfterDelay(e,t,r){this.bc(),this.Ac.indexOf(e)>-1&&(t=0);const o=ii.createAndSchedule(this,e,t,r,l=>this.Vc(l));return this.yc.push(o),o}bc(){this.Tc&&ft()}verifyOperationInProgress(){}Sc(){var e=this;return(0,de.Z)(function*(){let t;do{t=e._c,yield t}while(t!==e._c)})()}Dc(e){for(const t of this.yc)if(t.timerId===e)return!0;return!1}Cc(e){return this.Sc().then(()=>{this.yc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.yc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Sc()})}Nc(e){this.Ac.push(e)}Vc(e){const t=this.yc.indexOf(e);this.yc.splice(t,1)}}function Tu(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const o of["next","error","complete"])if(o in r&&"function"==typeof r[o])return!0;return!1}(n)}class yR{constructor(){this._progressObserver={},this._taskCompletionResolver=new ni,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class er extends th{constructor(e,t){super(e,t),this.type="firestore",this._queue=new lb,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||s0(this),this._firestoreClient.terminate()}}function Pr(n){return n._firestoreClient||s0(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function s0(n){var e;const t=n._freezeSettings(),r=(l=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new gR(n._databaseId,l,n._persistenceKey,(p=t).host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,p.useFetchStreams));var l,p;n._firestoreClient=new XC(n._credentials,n._queue,r)}function dS(n,e,t){const r=new ni;return n.asyncQueue.enqueue((0,de.Z)(function*(){try{yield tb(n,t),yield jm(n,e),r.resolve()}catch(o){if(!("FirebaseError"===(l=o).name?l.code===ge.FAILED_PRECONDITION||l.code===ge.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&l instanceof DOMException)||22===l.code||20===l.code||11===l.code))throw o;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+o),r.reject(o)}var l})).then(()=>r.promise)}function DR(n){if(n._initialized||n._terminated)throw new Oe(ge.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Su{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Oe(ge.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class el{constructor(e){this._byteString=e}static fromBase64String(e){try{return new el(or.fromBase64String(e))}catch(t){throw new Oe(ge.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new el(or.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class op{constructor(e){this._methodName=e}}class l0{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Oe(ge.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Oe(ge.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Xt(this._lat,e._lat)||Xt(this._long,e._long)}}const oO=/^__.*__$/;class aO{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new fu(e,this.data,this.fieldMask,t,this.fieldTransforms):new kf(e,this.data,t,this.fieldTransforms)}}class fS{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new fu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function IR(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ft()}}class c0{constructor(e,t,r,o,l,h){this.settings=e,this.databaseId=t,this.N=r,this.ignoreUndefinedProperties=o,void 0===l&&this.xc(),this.fieldTransforms=l||[],this.fieldMask=h||[]}get path(){return this.settings.path}get kc(){return this.settings.kc}$c(e){return new c0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Oc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.$c({path:r,Fc:!1});return o.Mc(e),o}Lc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.$c({path:r,Fc:!1});return o.xc(),o}Bc(e){return this.$c({path:void 0,Fc:!0})}Uc(e){return Fe(e,this.settings.methodName,this.settings.qc||!1,this.path,this.settings.Kc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.Mc(this.path.get(e))}Mc(e){if(0===e.length)throw this.Uc("Document fields must not be empty");if(IR(this.kc)&&oO.test(e))throw this.Uc('Document fields cannot begin and end with "__"')}}class lO{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.N=r||qf(e)}jc(e,t,r,o=!1){return new c0({kc:e,methodName:t,Kc:r,path:vi.emptyPath(),Fc:!1,qc:o},this.databaseId,this.N,this.ignoreUndefinedProperties)}}function ap(n){const e=n._freezeSettings(),t=qf(n._databaseId);return new lO(n._databaseId,!!e.ignoreUndefinedProperties,t)}function i(n,e,t,r,o,l={}){const h=n.jc(l.merge||l.mergeFields?2:0,e,t,o);H("Data must be an object, but it was:",h,r);const p=O(r,h);let y,C;if(l.merge)y=new If(h.fieldMask),C=h.fieldTransforms;else if(l.mergeFields){const T=[];for(const R of l.mergeFields){const V=W(e,R,t);if(!h.contains(V))throw new Oe(ge.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);we(T,V)||T.push(V)}y=new If(T),C=h.fieldTransforms.filter(R=>y.covers(R.field))}else y=null,C=h.fieldTransforms;return new aO(new Ur(p),y,C)}class s extends op{_toFieldTransform(e){if(2!==e.kc)throw e.Uc(1===e.kc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof s}}function a(n,e,t){return new c0({kc:3,Kc:e.settings.Kc,methodName:n._methodName,Fc:t},e.databaseId,e.N,e.ignoreUndefinedProperties)}class c extends op{_toFieldTransform(e){return new Pf(e.path,new qd)}isEqual(e){return e instanceof c}}class u extends op{constructor(e,t){super(e),this.Qc=t}_toFieldTransform(e){const t=a(this,e,!0),r=this.Qc.map(l=>M(l,t)),o=new Ya(r);return new Pf(e.path,o)}isEqual(e){return this===e}}class f extends op{constructor(e,t){super(e),this.Qc=t}_toFieldTransform(e){const t=a(this,e,!0),r=this.Qc.map(l=>M(l,t)),o=new Mf(r);return new Pf(e.path,o)}isEqual(e){return this===e}}class _ extends op{constructor(e,t){super(e),this.Wc=t}_toFieldTransform(e){const t=new Rf(e.N,Hw(e.N,this.Wc));return new Pf(e.path,t)}isEqual(e){return this===e}}function b(n,e,t,r){const o=n.jc(1,e,t);H("Data must be an object, but it was:",o,r);const l=[],h=Ur.empty();jd(r,(y,C)=>{const T=ee(e,y,t);C=(0,Wt.m9)(C);const R=o.Lc(T);if(C instanceof s)l.push(T);else{const V=M(C,R);null!=V&&(l.push(T),h.set(T,V))}});const p=new If(l);return new fS(h,p,o.fieldTransforms)}function w(n,e,t,r,o,l){const h=n.jc(1,e,t),p=[W(e,r,t)],y=[o];if(l.length%2!=0)throw new Oe(ge.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let V=0;V<l.length;V+=2)p.push(W(e,l[V])),y.push(l[V+1]);const C=[],T=Ur.empty();for(let V=p.length-1;V>=0;--V)if(!we(C,p[V])){const U=p[V];let Q=y[V];Q=(0,Wt.m9)(Q);const fe=h.Lc(U);if(Q instanceof s)C.push(U);else{const De=M(Q,fe);null!=De&&(C.push(U),T.set(U,De))}}const R=new If(C);return new fS(T,R,h.fieldTransforms)}function I(n,e,t,r=!1){return M(t,n.jc(r?4:3,e))}function M(n,e){if(F(n=(0,Wt.m9)(n)))return H("Unsupported field value:",e,n),O(n,e);if(n instanceof op)return function(t,r){if(!IR(r.kc))throw r.Uc(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Uc(`${t._methodName}() is not currently supported inside arrays`);const o=t._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Fc&&4!==e.kc)throw e.Uc("Nested arrays are not supported");return function(t,r){const o=[];let l=0;for(const h of t){let p=M(h,r.Bc(l));null==p&&(p={nullValue:"NULL_VALUE"}),o.push(p),l++}return{arrayValue:{values:o}}}(n,e)}return function(t,r){if(null===(t=(0,Wt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Hw(r.N,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const o=Mr.fromDate(t);return{timestampValue:ym(r.N,o)}}if(t instanceof Mr){const o=new Mr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:ym(r.N,o)}}if(t instanceof l0)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof el)return{bytesValue:Dv(r.N,t._byteString)};if(t instanceof On){const o=r.databaseId,l=t.firestore._databaseId;if(!l.isEqual(o))throw r.Uc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Iv(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.Uc(`Unsupported field value: ${ip(t)}`)}(n,e)}function O(n,e){const t={};return kI(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):jd(n,(r,o)=>{const l=M(o,e.Oc(r));null!=l&&(t[r]=l)}),{mapValue:{fields:t}}}function F(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Mr||n instanceof l0||n instanceof el||n instanceof On||n instanceof op)}function H(n,e,t){if(!F(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=ip(t);throw e.Uc("an object"===r?n+" a custom object":n+" "+r)}var r}function W(n,e,t){if((e=(0,Wt.m9)(e))instanceof Su)return e._internalPath;if("string"==typeof e)return ee(n,e);throw Fe("Field path arguments must be of type string or FieldPath.",n,!1,void 0,t)}const ce=new RegExp("[~\\*/\\[\\]]");function ee(n,e,t){if(e.search(ce)>=0)throw Fe(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Su(...e.split("."))._internalPath}catch(r){throw Fe(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Fe(n,e,t,r,o){const l=r&&!r.isEmpty(),h=void 0!==o;let p=`Function ${e}() called with invalid data`;t&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(l||h)&&(y+=" (found",l&&(y+=` in field ${r}`),h&&(y+=` in document ${o}`),y+=")"),new Oe(ge.INVALID_ARGUMENT,p+n+y)}function we(n,e){return n.some(t=>t.isEqual(e))}class at{constructor(e,t,r,o,l){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new On(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new It(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(zt("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class It extends at{data(){return super.data()}}function zt(n,e){return"string"==typeof e?ee(n,e):e instanceof Su?e._internalPath:e._delegate._internalPath}class Bn{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class kr extends at{constructor(e,t,r,o,l,h){super(e,t,r,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new sc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(zt("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class sc extends kr{data(e={}){return super.data(e)}}class qs{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Bn(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new sc(this._firestore,this._userDataWriter,r.key,r,new Bn(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Oe(ge.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let l=0;return r._snapshot.docChanges.map(h=>({type:"added",doc:new sc(r._firestore,r._userDataWriter,h.doc.key,h.doc,new Bn(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:l++}))}{let l=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(h=>o||3!==h.type).map(h=>{const p=new sc(r._firestore,r._userDataWriter,h.doc.key,h.doc,new Bn(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);let y=-1,C=-1;return 0!==h.type&&(y=l.indexOf(h.doc.key),l=l.delete(h.doc.key)),1!==h.type&&(l=l.add(h.doc),C=l.indexOf(h.doc.key)),{type:lp(h.type),doc:p,oldIndex:y,newIndex:C}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function lp(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ft()}}function ih(n,e){return n instanceof kr&&e instanceof kr?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof qs&&e instanceof qs&&n._firestore===e._firestore&&nh(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function cb(n){if(dv(n)&&0===n.explicitOrderBy.length)throw new Oe(ge.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class sh{}function tl(n,...e){for(const t of e)n=t._apply(n);return n}class u0 extends sh{constructor(e,t,r){super(),this.Gc=e,this.zc=t,this.Hc=r,this.type="where"}_apply(e){const t=ap(e.firestore),r=function(o,l,h,p,y,C,T){let R;if(y.isKeyField()){if("array-contains"===C||"array-contains-any"===C)throw new Oe(ge.INVALID_ARGUMENT,`Invalid Query. You can't perform '${C}' queries on FieldPath.documentId().`);if("in"===C||"not-in"===C){pO(T,C);const U=[];for(const Q of T)U.push(fO(p,o,Q));R={arrayValue:{values:U}}}else R=fO(p,o,T)}else"in"!==C&&"not-in"!==C&&"array-contains-any"!==C||pO(T,C),R=I(h,"where",T,"in"===C||"not-in"===C);const V=bi.create(y,C,R);return function(U,Q){if(Q.v()){const De=fv(U);if(null!==De&&!De.isEqual(Q.field))throw new Oe(ge.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${De.toString()}' and '${Q.field.toString()}'`);const lt=hv(U);null!==lt&&gO(0,Q.field,lt)}const fe=function(De,lt){for(const Et of De.filters)if(lt.indexOf(Et.op)>=0)return Et.op;return null}(U,function(De){switch(De){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Q.op));if(null!==fe)throw new Oe(ge.INVALID_ARGUMENT,fe===Q.op?`Invalid query. You cannot use more than one '${Q.op.toString()}' filter.`:`Invalid query. You cannot use '${Q.op.toString()}' filters with '${fe.toString()}' filters.`)}(o,V),V}(e._query,0,t,e.firestore._databaseId,this.Gc,this.zc,this.Hc);return new Di(e.firestore,e.converter,function(o,l){const h=o.filters.concat([l]);return new Za(o.path,o.collectionGroup,o.explicitOrderBy.slice(),h,o.limit,o.limitType,o.startAt,o.endAt)}(e._query,r))}}class RF extends sh{constructor(e,t){super(),this.Gc=e,this.Jc=t,this.type="orderBy"}_apply(e){const t=function(r,o,l){if(null!==r.startAt)throw new Oe(ge.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Oe(ge.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const h=new Af(o,l);return function(p,y){if(null===hv(p)){const C=fv(p);null!==C&&gO(0,C,y.field)}}(r,h),h}(e._query,this.Gc,this.Jc);return new Di(e.firestore,e.converter,function(r,o){const l=r.explicitOrderBy.concat([o]);return new Za(r.path,r.collectionGroup,l,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class cO extends sh{constructor(e,t,r){super(),this.type=e,this.Yc=t,this.Xc=r}_apply(e){return new Di(e.firestore,e.converter,Ni(e._query,this.Yc,this.Xc))}}class uO extends sh{constructor(e,t,r){super(),this.type=e,this.Zc=t,this.ta=r}_apply(e){const t=hO(e,this.type,this.Zc,this.ta);return new Di(e.firestore,e.converter,(o=t,new Za((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)));var r,o}}class dO extends sh{constructor(e,t,r){super(),this.type=e,this.Zc=t,this.ta=r}_apply(e){const t=hO(e,this.type,this.Zc,this.ta);return new Di(e.firestore,e.converter,(o=t,new Za((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)));var r,o}}function hO(n,e,t,r){if(t[0]=(0,Wt.m9)(t[0]),t[0]instanceof at)return function(o,l,h,p,y){if(!p)throw new Oe(ge.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${h}().`);const C=[];for(const T of Gd(o))if(T.field.isKeyField())C.push(ov(l,p.key));else{const R=p.data.field(T.field);if(iv(R))throw new Oe(ge.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+T.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===R){const V=T.field.canonicalString();throw new Oe(ge.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${V}' (used as the orderBy) does not exist.`)}C.push(R)}return new fm(C,y)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const o=ap(n.firestore);return function(l,h,p,y,C,T){const R=l.explicitOrderBy;if(C.length>R.length)throw new Oe(ge.INVALID_ARGUMENT,`Too many arguments provided to ${y}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const V=[];for(let U=0;U<C.length;U++){const Q=C[U];if(R[U].field.isKeyField()){if("string"!=typeof Q)throw new Oe(ge.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${y}(), but got a ${typeof Q}`);if(!Uw(l)&&-1!==Q.indexOf("/"))throw new Oe(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${y}() must be a plain document ID, but '${Q}' contains a slash.`);const fe=l.path.child(pn.fromString(Q));if(!ut.isDocumentKey(fe))throw new Oe(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${y}() must result in a valid document path, but '${fe}' is not because it contains an odd number of segments.`);const De=new ut(fe);V.push(ov(h,De))}else{const fe=I(p,y,Q);V.push(fe)}}return new fm(V,T)}(n._query,n.firestore._databaseId,o,e,t,r)}}function fO(n,e,t){if("string"==typeof(t=(0,Wt.m9)(t))){if(""===t)throw new Oe(ge.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Uw(e)&&-1!==t.indexOf("/"))throw new Oe(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(pn.fromString(t));if(!ut.isDocumentKey(r))throw new Oe(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ov(n,new ut(r))}if(t instanceof On)return ov(n,t._key);throw new Oe(ge.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${ip(t)}.`)}function pO(n,e){if(!Array.isArray(n)||0===n.length)throw new Oe(ge.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Oe(ge.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function gO(n,e,t){if(!t.isEqual(e))throw new Oe(ge.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class TR{convertValue(e,t="none"){switch($d(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Hd(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ft()}}convertObject(e,t){const r={};return jd(e.fields,(o,l)=>{r[o]=this.convertValue(l,t)}),r}convertGeoPoint(e){return new l0(yr(e.latitude),yr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Pw(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(om(e));default:return null}}convertTimestamp(e){const t=Jl(e);return new Mr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=pn.fromString(e);St(Av(r));const o=new eh(r.get(1),r.get(3)),l=new ut(r.popFirst(5));return o.isEqual(t)||_r(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function pS(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class BF extends TR{constructor(e){super(),this.firestore=e}convertBytes(e){return new el(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new On(this.firestore,null,t)}}class mO{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=ap(e)}set(e,t,r){this._verifyNotCommitted();const o=cp(e,this._firestore),l=pS(o.converter,t,r),h=i(this._dataReader,"WriteBatch.set",o._key,l,null!==o.converter,r);return this._mutations.push(h.toMutation(o._key,ar.none())),this}update(e,t,r,...o){this._verifyNotCommitted();const l=cp(e,this._firestore);let h;return h="string"==typeof(t=(0,Wt.m9)(t))||t instanceof Su?w(this._dataReader,"WriteBatch.update",l._key,t,r,o):b(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(h.toMutation(l._key,ar.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=cp(e,this._firestore);return this._mutations=this._mutations.concat(new Of(t._key,ar.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Oe(ge.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function cp(n,e){if((n=(0,Wt.m9)(n)).firestore!==e)throw new Oe(ge.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Gm extends TR{constructor(e){super(),this.firestore=e}convertBytes(e){return new el(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new On(this.firestore,null,t)}}function _O(n,e,t){n=tn(n,On);const r=tn(n.firestore,er),o=pS(n.converter,e,t);return ub(r,[i(ap(r),"setDoc",n._key,o,null!==n.converter,t).toMutation(n._key,ar.none())])}function yO(n,e,t,...r){n=tn(n,On);const o=tn(n.firestore,er),l=ap(o);let h;return h="string"==typeof(e=(0,Wt.m9)(e))||e instanceof Su?w(l,"updateDoc",n._key,e,t,r):b(l,"updateDoc",n._key,e),ub(o,[h.toMutation(n._key,ar.exists(!0))])}function vO(n,...e){var t,r,o;n=(0,Wt.m9)(n);let l={includeMetadataChanges:!1},h=0;"object"!=typeof e[h]||Tu(e[h])||(l=e[h],h++);const p={includeMetadataChanges:l.includeMetadataChanges};if(Tu(e[h])){const R=e[h];e[h]=null===(t=R.next)||void 0===t?void 0:t.bind(R),e[h+1]=null===(r=R.error)||void 0===r?void 0:r.bind(R),e[h+2]=null===(o=R.complete)||void 0===o?void 0:o.bind(R)}let y,C,T;if(n instanceof On)C=tn(n.firestore,er),T=zd(n._key.path),y={next:R=>{e[h]&&e[h](SR(C,n,R))},error:e[h+1],complete:e[h+2]};else{const R=tn(n,Di);C=tn(R.firestore,er),T=R._query;const V=new Gm(C);y={next:U=>{e[h]&&e[h](new qs(C,V,R,U))},error:e[h+1],complete:e[h+2]},cb(n._query)}return function(R,V,U,Q){const fe=new Um(Q),De=new Fm(V,fe,U);return R.asyncQueue.enqueueAndForget((0,de.Z)(function*(){return kC(yield np(R),De)})),()=>{fe.ec(),R.asyncQueue.enqueueAndForget((0,de.Z)(function*(){return NC(yield np(R),De)}))}}(Pr(C),T,p,y)}function ub(n,e){return function(t,r){const o=new ni;return t.asyncQueue.enqueueAndForget((0,de.Z)(function*(){return function(n,e,t){return LC.apply(this,arguments)}(yield Hm(t),r,o)})),o.promise}(Pr(n),e)}function SR(n,e,t){const r=t.docs.get(e._key),o=new Gm(n);return new kr(n,o,e._key,r,new Bn(t.hasPendingWrites,t.fromCache),e.converter)}class KF extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=ap(e)}get(e){const t=cp(e,this._firestore),r=new BF(this._firestore);return this._transaction.lookup([t._key]).then(o=>{if(!o||1!==o.length)return ft();const l=o[0];if(l.isFoundDocument())return new at(this._firestore,r,l.key,l,t.converter);if(l.isNoDocument())return new at(this._firestore,r,t._key,null,t.converter);throw ft()})}set(e,t,r){const o=cp(e,this._firestore),l=pS(o.converter,t,r),h=i(this._dataReader,"Transaction.set",o._key,l,null!==o.converter,r);return this._transaction.set(o._key,h),this}update(e,t,r,...o){const l=cp(e,this._firestore);let h;return h="string"==typeof(t=(0,Wt.m9)(t))||t instanceof Su?w(this._dataReader,"Transaction.update",l._key,t,r,o):b(this._dataReader,"Transaction.update",l._key,t),this._transaction.update(l._key,h),this}delete(e){const t=cp(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=cp(e,this._firestore),r=new Gm(this._firestore);return super.get(e).then(o=>new kr(this._firestore,r,t._key,o._document,new Bn(!1,!1),t.converter))}}function AR(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Oe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function bO(){if("undefined"==typeof Uint8Array)throw new Oe("unimplemented","Uint8Arrays are not available in this environment.")}function EO(){if("undefined"==typeof atob)throw new Oe("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){cu=Kc.SDK_VERSION,(0,Kc._registerComponent)(new _E.wA("firestore",(t,{options:r})=>{const o=t.getProvider("app").getImmediate(),l=new er(o,new Bk(t.getProvider("auth-internal")));return r=Object.assign({useFetchStreams:e},r),l._setSettings(r),l},"PUBLIC")),(0,Kc.registerVersion)(rv,"3.3.0",n),(0,Kc.registerVersion)(rv,"3.3.0","esm2017")}();class h0{constructor(e){this._delegate=e}static fromBase64String(e){return EO(),new h0(el.fromBase64String(e))}static fromUint8Array(e){return bO(),new h0(el.fromUint8Array(e))}toBase64(){return EO(),this._delegate.toBase64()}toUint8Array(){return bO(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function xR(n){return function(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of["next","error","complete"])if(r in t&&"function"==typeof t[r])return!0;return!1}(n)}class sL{enableIndexedDbPersistence(e,t){return function(n,e){DR(n=tn(n,er));const t=Pr(n),r=n._freezeSettings(),o=new eb;return dS(t,o,new Io(o,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(n){DR(n=tn(n,er));const e=Pr(n),t=n._freezeSettings(),r=new eb;return dS(e,r,new tO(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(n){if(n._initialized&&!n._terminated)throw new Oe(ge.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new ni;return n._queue.enqueueAndForgetEvenWhileRestricted((0,de.Z)(function*(){try{yield(t=(0,de.Z)(function*(r){if(!ua.bt())return Promise.resolve();const o=r+"main";yield ua.delete(o)}),function(r){return t.apply(this,arguments)})(hC(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class wO{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof eh||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Cf("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function(n,e,t,r={}){var o;const l=(n=tn(n,th))._getSettings();if("firestore.googleapis.com"!==l.host&&l.host!==e&&Cf("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},l),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let h,p;if("string"==typeof r.mockUserToken)h=r.mockUserToken,p=ti.MOCK_USER;else{h=(0,Wt.Sg)(r.mockUserToken,null===(o=n._app)||void 0===o?void 0:o.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new Oe(ge.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new ti(y)}n._credentials=new Df(new uu(h,p))}}(this._delegate,e,t,r)}enableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,de.Z)(function*(){const e=yield rS(n),t=yield iS(n);return e.setNetworkEnabled(!0),function(r){const o=Ge(r);return o.Wr.delete(0),Rm(o)}(t)}))}(Pr(n=tn(n,er)))}(this._delegate)}disableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,de.Z)(function*(){const e=yield rS(n),t=yield iS(n);return e.setNetworkEnabled(!1),(r=(0,de.Z)(function*(o){const l=Ge(o);l.Wr.add(0),yield Cu(l),l.Hr.set("Offline")}),function(o){return r.apply(this,arguments)})(t);var r}))}(Pr(n=tn(n,er)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,aS("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(n){return function(e){const t=new ni;return e.asyncQueue.enqueueAndForget((0,de.Z)(function*(){return function(n,e){return jC.apply(this,arguments)}(yield Hm(e),t)})),t.promise}(Pr(n=tn(n,er)))}(this._delegate)}onSnapshotsInSync(e){return function(n,e){return function(n,e){const t=new Um(e);return n.asyncQueue.enqueueAndForget((0,de.Z)(function*(){return r=yield np(n),o=t,Ge(r).so.add(o),void o.next();var r,o})),()=>{t.ec(),n.asyncQueue.enqueueAndForget((0,de.Z)(function*(){return r=yield np(n),o=t,void Ge(r).so.delete(o);var r,o}))}}(Pr(n=tn(n,er)),Tu(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Oe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new db(this,uS(this._delegate,e))}catch(t){throw Ws(t,"collection()","Firestore.collection()")}}doc(e){try{return new nl(this,To(this._delegate,e))}catch(t){throw Ws(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Zs(this,function(n,e){if(n=tn(n,th),r0("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Oe(ge.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Di(n,null,(t=e,new Za(pn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Ws(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(n,e){return function(n,e){const t=new ni;return n.asyncQueue.enqueueAndForget((0,de.Z)(function*(){const r=yield(o=n,ib(o).then(l=>l.datastore));var o;new QC(n.asyncQueue,r,e,t).run()})),t.promise}(Pr(n=tn(n,er)),t=>e(new KF(n,t)))}(this._delegate,t=>e(new CO(this,t)))}batch(){return Pr(this._delegate),new DO(new mO(this._delegate,e=>ub(this._delegate,e)))}loadBundle(e){return function(n,e){const t=Pr(n=tn(n,er)),r=new yR;return function(n,e,t,r){const o=function(l,h){let p;return p="string"==typeof l?(new TextEncoder).encode(l):l,y=function(y,C){if(y instanceof Uint8Array)return eS(y,C);if(y instanceof ArrayBuffer)return eS(new Uint8Array(y),C);if(y instanceof ReadableStream)return y.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(p),new tS(y,h);var y}(t,qf(e));n.asyncQueue.enqueueAndForget((0,de.Z)(function*(){!function(n,e,t){const r=Ge(n);var o;(o=(0,de.Z)(function*(l,h,p){try{const y=yield h.getMetadata();if(yield function(V,U){const Q=Ge(V),fe=jr(U.createTime);return Q.persistence.runTransaction("hasNewerBundle","readonly",De=>Q.Je.getBundleMetadata(De,U.id)).then(De=>!!De&&De.createTime.compareTo(fe)>=0)}(l.localStore,y))return yield h.close(),void p._completeWith((V=y,{taskState:"Success",documentsLoaded:V.totalDocuments,bytesLoaded:V.totalBytes,totalDocuments:V.totalDocuments,totalBytes:V.totalBytes}));p._updateProgress(LT(y));const C=new JM(y,l.localStore,h.N);let T=yield h.zo();for(;T;){const V=yield C.mo(T);V&&p._updateProgress(V),T=yield h.zo()}const R=yield C.complete();yield Gn(l,R.En,void 0),yield function(V,U){const Q=Ge(V);return Q.persistence.runTransaction("Save bundle","readwrite",fe=>Q.Je.saveBundleMetadata(fe,U))}(l.localStore,y),p._completeWith(R.progress)}catch(y){Cf("SyncEngine",`Loading bundle failed with ${y}`),p._failWith(y)}var V}),function(l,h,p){return o.apply(this,arguments)})(r,e,t).then(()=>{r.sharedClientState.notifyBundleLoaded()})}(yield Hm(n),o,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function(n,e){return function(n,e){return n.asyncQueue.enqueue((0,de.Z)(function*(){return function(t,r){const o=Ge(t);return o.persistence.runTransaction("Get named query","readonly",l=>o.Je.getNamedQuery(l,r))}(yield e0(n),e)}))}(Pr(n=tn(n,er)),e).then(t=>t?new Di(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Zs(this,t):null)}}class gS extends TR{constructor(e){super(),this.firestore=e}convertBytes(e){return new h0(new el(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return nl.forKey(t,this.firestore,null)}}class CO{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new gS(e)}get(e){const t=Wm(e);return this._delegate.get(t).then(r=>new f0(this._firestore,new kr(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const o=Wm(e);return r?(AR("Transaction.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const l=Wm(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...o),this}delete(e){const t=Wm(e);return this._delegate.delete(t),this}}class DO{constructor(e){this._delegate=e}set(e,t,r){const o=Wm(e);return r?(AR("WriteBatch.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const l=Wm(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...o),this}delete(e){const t=Wm(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class qm{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new sc(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new p0(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=qm.INSTANCES;let o=r.get(e);o||(o=new WeakMap,r.set(e,o));let l=o.get(t);return l||(l=new qm(e,new gS(e),t),o.set(t,l)),l}}qm.INSTANCES=new WeakMap;class nl{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new gS(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Oe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new nl(t,new On(t._delegate,r,new ut(e)))}static forKey(e,t,r){return new nl(t,new On(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new db(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new db(this.firestore,uS(this._delegate,e))}catch(t){throw Ws(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Wt.m9)(e))instanceof On&&sp(this._delegate,e)}set(e,t){t=AR("DocumentReference.set",t);try{return t?_O(this._delegate,e,t):_O(this._delegate,e)}catch(r){throw Ws(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?yO(this._delegate,e):yO(this._delegate,e,t,...r)}catch(o){throw Ws(o,"updateDoc()","DocumentReference.update()")}}delete(){return function(n){return ub(tn(n.firestore,er),[new Of(n._key,ar.none())])}(this._delegate)}onSnapshot(...e){const t=IO(e),r=TO(e,o=>new f0(this.firestore,new kr(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)));return vO(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(n){n=tn(n,On);const e=tn(n.firestore,er),t=Pr(e),r=new Gm(e);return function(n,e){const t=new ni;return n.asyncQueue.enqueueAndForget((0,de.Z)(function*(){return(r=(0,de.Z)(function*(o,l,h){try{const p=yield function(y,C){const T=Ge(y);return T.persistence.runTransaction("read document","readonly",R=>T.Qn.An(R,C))}(o,l);p.isFoundDocument()?h.resolve(p):p.isNoDocument()?h.resolve(null):h.reject(new Oe(ge.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(p){const y=Qf(p,`Failed to get document '${l} from cache`);h.reject(y)}}),function(o,l,h){return r.apply(this,arguments)})(yield e0(n),e,t);var r})),t.promise}(t,n._key).then(o=>new kr(e,r,n._key,o,new Bn(null!==o&&o.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function(n){n=tn(n,On);const e=tn(n.firestore,er);return zm(Pr(e),n._key,{source:"server"}).then(t=>SR(e,n,t))}(this._delegate):function(n){n=tn(n,On);const e=tn(n.firestore,er);return zm(Pr(e),n._key).then(t=>SR(e,n,t))}(this._delegate),t.then(r=>new f0(this.firestore,new kr(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new nl(this.firestore,this._delegate.withConverter(e?qm.getInstance(this.firestore,e):null))}}function Ws(n,e,t){return n.message=n.message.replace(e,t),n}function IO(n){for(const e of n)if("object"==typeof e&&!xR(e))return e;return{}}function TO(n,e){var t,r;let o;return o=xR(n[0])?n[0]:xR(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:l=>{o.next&&o.next(e(l))},error:null===(t=o.error)||void 0===t?void 0:t.bind(o),complete:null===(r=o.complete)||void 0===r?void 0:r.bind(o)}}class f0{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new nl(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return ih(this._delegate,e._delegate)}}class p0 extends f0{data(e){const t=this._delegate.data(e);return function(n,e){n||ft()}(void 0!==t),t}}class Zs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new gS(e)}where(e,t,r){try{return new Zs(this.firestore,tl(this._delegate,function(n,e,t){const r=e,o=zt("where",n);return new u0(o,r,t)}(e,t,r)))}catch(o){throw Ws(o,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Zs(this.firestore,tl(this._delegate,function(n,e="asc"){const t=e,r=zt("orderBy",n);return new RF(r,t)}(e,t)))}catch(r){throw Ws(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Zs(this.firestore,tl(this._delegate,function(n){return lS("limit",n),new cO("limit",n,"F")}(e)))}catch(t){throw Ws(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Zs(this.firestore,tl(this._delegate,function(n){return lS("limitToLast",n),new cO("limitToLast",n,"L")}(e)))}catch(t){throw Ws(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Zs(this.firestore,tl(this._delegate,function(...n){return new uO("startAt",n,!0)}(...e)))}catch(t){throw Ws(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Zs(this.firestore,tl(this._delegate,function(...n){return new uO("startAfter",n,!1)}(...e)))}catch(t){throw Ws(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Zs(this.firestore,tl(this._delegate,function(...n){return new dO("endBefore",n,!0)}(...e)))}catch(t){throw Ws(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Zs(this.firestore,tl(this._delegate,function(...n){return new dO("endAt",n,!1)}(...e)))}catch(t){throw Ws(t,"endAt()","Query.endAt()")}}isEqual(e){return nh(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(n){n=tn(n,Di);const e=tn(n.firestore,er),t=Pr(e),r=new Gm(e);return function(n,e){const t=new ni;return n.asyncQueue.enqueueAndForget((0,de.Z)(function*(){return(r=(0,de.Z)(function*(o,l,h){try{const p=yield gC(o,l,!0),y=new UT(l,p.Gn),C=y.bo(p.documents),T=y.applyChanges(C,!1);h.resolve(T.snapshot)}catch(p){const y=Qf(p,`Failed to execute query '${l} against cache`);h.reject(y)}}),function(o,l,h){return r.apply(this,arguments)})(yield e0(n),e,t);var r})),t.promise}(t,n._query).then(o=>new qs(e,r,n,o))}(this._delegate):"server"===(null==e?void 0:e.source)?function(n){n=tn(n,Di);const e=tn(n.firestore,er),t=Pr(e),r=new Gm(e);return n0(t,n._query,{source:"server"}).then(o=>new qs(e,r,n,o))}(this._delegate):function(n){n=tn(n,Di);const e=tn(n.firestore,er),t=Pr(e),r=new Gm(e);return cb(n._query),n0(t,n._query).then(o=>new qs(e,r,n,o))}(this._delegate),t.then(r=>new MR(this.firestore,new qs(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=IO(e),r=TO(e,o=>new MR(this.firestore,new qs(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)));return vO(this._delegate,t,r)}withConverter(e){return new Zs(this.firestore,this._delegate.withConverter(e?qm.getInstance(this.firestore,e):null))}}class aL{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new p0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class MR{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Zs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new p0(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new aL(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new p0(this._firestore,r))})}isEqual(e){return ih(this._delegate,e._delegate)}}class db extends Zs{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new nl(this.firestore,e):null}doc(e){try{return new nl(this.firestore,void 0===e?To(this._delegate):To(this._delegate,e))}catch(t){throw Ws(t,"doc()","CollectionReference.doc()")}}add(e){return function(n,e){const t=tn(n.firestore,er),r=To(n),o=pS(n.converter,e);return ub(t,[i(ap(n.firestore),"addDoc",r._key,o,null!==n.converter,{}).toMutation(r._key,ar.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new nl(this.firestore,t))}isEqual(e){return sp(this._delegate,e._delegate)}withConverter(e){return new db(this.firestore,this._delegate.withConverter(e?qm.getInstance(this.firestore,e):null))}}function Wm(n){return tn(n,On)}class RR{constructor(...e){this._delegate=new Su(...e)}static documentId(){return new RR(vi.keyField().canonicalString())}isEqual(e){return(e=(0,Wt.m9)(e))instanceof Su&&this._delegate._internalPath.isEqual(e._internalPath)}}class Zm{constructor(e){this._delegate=e}static serverTimestamp(){const e=new c("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new Zm(e)}static delete(){const e=new s("deleteField");return e._methodName="FieldValue.delete",new Zm(e)}static arrayUnion(...e){const t=function(...n){return new u("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Zm(t)}static arrayRemove(...e){const t=function(...n){return new f("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Zm(t)}static increment(e){const t=function(n){return new _("increment",n)}(e);return t._methodName="FieldValue.increment",new Zm(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const lL={Firestore:wO,GeoPoint:l0,Timestamp:Mr,Blob:h0,Transaction:CO,WriteBatch:DO,DocumentReference:nl,DocumentSnapshot:f0,Query:Zs,QueryDocumentSnapshot:p0,QuerySnapshot:MR,CollectionReference:db,FieldPath:RR,FieldValue:Zm,setLogLevel:function(n){!function(n){Us.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function SO(n,e){return function(n,e=Od.z){return new hn.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function PR(n,e){return SO(n,e).pipe((0,Je.U)(t=>({payload:t,type:"query"})))}function mS(n,e){return PR(n,e).pipe(Ri(void 0),Sg(),(0,Je.U)(([t,r])=>{const o=r.payload.docChanges(),l=o.map(h=>({type:h.type,payload:h}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((h,p)=>{const y=o.find(T=>T.doc.ref.isEqual(h.ref)),C=null==t?void 0:t.payload.docs.find(T=>T.ref.isEqual(h.ref));y&&JSON.stringify(y.doc.metadata)===JSON.stringify(h.metadata)||!y&&C&&JSON.stringify(C.metadata)===JSON.stringify(h.metadata)||l.push({type:"modified",payload:{oldIndex:p,newIndex:p,type:"modified",doc:h}})}),l}))}function AO(n,e,t){return mS(n,t).pipe(xc((r,o)=>function(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return kR(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return kR(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return kR(n,e.oldIndex,1)}return n}(n,r))}),n}(r,o.map(l=>l.payload),e),[]),OE(),(0,Je.U)(r=>r.map(o=>({type:o.type,payload:o}))))}function kR(n,e,t,...r){const o=n.slice();return o.splice(e,t,...r),o}function xO(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function(n){(function(n,e){n.INTERNAL.registerComponent(new _E.wA("firestore-compat",t=>((e,t)=>new wO(e,t,new sL))(t.getProvider("app-compat").getImmediate(),t.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},lL)))})(n),n.registerVersion("@firebase/firestore-compat","0.1.7")}(NE.Z);class MO{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=mS(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Je.U)(r=>r.filter(o=>e.indexOf(o.type)>-1)))),t.pipe(Ri(void 0),Sg(),Kr(([r,o])=>o.length>0||!r),(0,Je.U)(([r,o])=>o),Sr.iC)}auditTrail(e){return this.stateChanges(e).pipe(xc((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=xO(e);return AO(this.query,t,this.afs.schedulers.outsideAngular).pipe(Sr.iC)}valueChanges(e={}){return PR(this.query,this.afs.schedulers.outsideAngular).pipe((0,Je.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Sr.iC)}get(e){return(0,Pn.D)(this.query.get(e)).pipe(Sr.iC)}add(e){return this.ref.add(e)}doc(e){return new RO(this.ref.doc(e),this.afs)}}class RO{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:o,query:l}=OO(r,t);return new MO(o,l,this.afs)}snapshotChanges(){return function(n,e){return SO(n,e).pipe(Ri(void 0),Sg(),(0,Je.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Sr.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Je.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Pn.D)(this.ref.get(e)).pipe(Sr.iC)}}class gL{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?mS(this.query,this.afs.schedulers.outsideAngular).pipe((0,Je.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),Kr(t=>t.length>0),Sr.iC):mS(this.query,this.afs.schedulers.outsideAngular).pipe(Sr.iC)}auditTrail(e){return this.stateChanges(e).pipe(xc((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=xO(e);return AO(this.query,t,this.afs.schedulers.outsideAngular).pipe(Sr.iC)}valueChanges(e={}){return PR(this.query,this.afs.schedulers.outsideAngular).pipe((0,Je.U)(r=>r.payload.docs.map(o=>e.idField?Object.assign({[e.idField]:o.id},o.data()):o.data())),Sr.iC)}get(e){return(0,Pn.D)(this.query.get(e)).pipe(Sr.iC)}}const PO=new d.OlP("angularfire2.enableFirestorePersistence"),kO=new d.OlP("angularfire2.firestore.persistenceSettings"),mL=new d.OlP("angularfire2.firestore.settings"),_L=new d.OlP("angularfire2.firestore.use-emulator");function OO(n,e=(t=>t)){return{query:e(n),ref:n}}let _S=(()=>{class n{constructor(t,r,o,l,h,p,y,C,T,R,V,U,Q,fe,De,lt,Et){this.schedulers=y;const Lt=(0,Ls.on)(t,p,r),ht=T;R&&Sy(Lt,p,V,Q,fe,De,U,lt),[this.firestore,this.persistenceEnabled$]=(0,Ls.cc)(`${Lt.name}.firestore`,"AngularFirestore",Lt.name,()=>{const Cn=p.runOutsideAngular(()=>Lt.firestore());if(l&&Cn.settings(l),ht&&Cn.useEmulator(...ht),o&&!Lr(h)){const Er=()=>{try{return(0,Pn.D)(Cn.enablePersistence(C||void 0).then(()=>!0,()=>!1))}catch(ls){return"undefined"!=typeof console&&console.warn(ls),st(!1)}};return[Cn,p.runOutsideAngular(Er)]}return[Cn,st(!1)]},[l,ht,o])}collection(t,r){let o;o="string"==typeof t?this.firestore.collection(t):t;const{ref:l,query:h}=OO(o,r),p=this.schedulers.ngZone.run(()=>l);return new MO(p,h,this)}collectionGroup(t,r){const o=r||(h=>h),l=this.firestore.collectionGroup(t);return new gL(o(l),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const o=this.schedulers.ngZone.run(()=>r);return new RO(o,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Ls.Dh),d.LFG(Ls.xv,8),d.LFG(PO,8),d.LFG(mL,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(Sr.HU),d.LFG(kO,8),d.LFG(_L,8),d.LFG(tu,8),d.LFG(rx,8),d.LFG(Ty,8),d.LFG(LD,8),d.LFG(ix,8),d.LFG(cf,8),d.LFG(kE,8),d.LFG(eu,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),yL=(()=>{class n{constructor(){RE.Z.registerVersion("angularfire",Sr.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:PO,useValue:!0},{provide:kO,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[_S]}),n})(),hb=(()=>{class n{constructor(t,r){this.firebaseAuth=t,this.firebaseFirestore=r,this.isLoggedIn=!1}signIn(t,r){var o=this;return(0,de.Z)(function*(){yield o.firebaseAuth.signInWithEmailAndPassword(t,r).then(l=>{o.isLoggedIn=!0,localStorage.setItem("user",JSON.stringify(l.user))}).catch(l=>{console.log(l),o.isLoggedIn=!1})})()}signUp(t,r,o){var l=this;return(0,de.Z)(function*(){yield l.firebaseAuth.createUserWithEmailAndPassword(t,r).then(h=>{l.isLoggedIn=!0,localStorage.setItem("user",JSON.stringify(h.user)),h.user&&h.user.updateProfile({displayName:o})}).catch(h=>{console.log(h),l.isLoggedIn=!1})})()}addColumnToFirestore(t,r){var o=this;return(0,de.Z)(function*(){let l=o.firebaseFirestore.doc(`board/${r}`);yield l.set({id:r,title:t,color:"#009886",list:[]})})()}changeLikeInCard(t,r,o,l){var h=this;return(0,de.Z)(function*(){console.log("user",o);let y,T,R,p=h.firebaseFirestore.doc(`board/${r}`);yield p.get().subscribe({next:V=>(y=V.get("list"),y.forEach(U=>{t===U.id&&(T=U)}),y=y.filter(U=>t!==U.id),R=T.like,R.includes(o)?(R=R.filter(U=>U!==o),console.log(" include",R),p.update({list:[...y,{id:T.id,text:T.text,like:R,comments:T.comments}]}),l(!1),"yes"):(R.push(o),console.log("not include",R),p.update({list:[...y,{id:t,text:T.text,like:R,comments:T.comments}]}),l(!0),"not")),error(V){console.error("something wrong occurred: "+V)},complete(){console.log("done")}})})()}addCardToColumnFirestore(t,r,o,l){var h=this;return(0,de.Z)(function*(){let y,p=h.firebaseFirestore.doc(`board/${o}`);yield p.get().subscribe({next(C){y=C.get("list"),p.update(void 0===y?{list:[{id:l,text:r,like:[],comments:[]}]}:{list:[...y,{id:l,text:r,like:[],comments:[]}]}),console.log("list",y)},error(C){console.error("something wrong occurred: "+C)},complete(){console.log("done")}})})()}updateCurrentColumnInFirestore(t,r){var o=this;return(0,de.Z)(function*(){let h,l=o.firebaseFirestore.doc(`board/${t}`);yield l.get().subscribe({next(p){h=p.get("list"),l.update({list:[...h,{id:r.id,text:r.text,like:r.like,comments:r.comments}]}),console.log("list",h)},error(p){console.error("something wrong occurred: "+p)},complete(){console.log("done")}})})()}updatePreviousColumnInFirestore(t,r){var o=this;return(0,de.Z)(function*(){let h,l=o.firebaseFirestore.doc(`board/${t}`);yield l.get().subscribe({next(p){h=p.get("list"),h=h.filter(y=>y.id!==r.id),l.update({list:[...h]}),console.log("list",h)},error(p){console.error("something wrong occurred: "+p)},complete(){console.log("done")}})})()}deleteColumnFromFirestore(t){var r=this;return(0,de.Z)(function*(){yield r.firebaseFirestore.doc(`board/${t}`).delete()})()}deleteCardFromColumnFirestore(t,r){var o=this;return(0,de.Z)(function*(){let h,l=o.firebaseFirestore.doc(`board/${t}`);console.log("cardIdIN",r),yield l.get().subscribe({next(p){h=p.get("list"),console.log("columnCards",h),h=h.filter(y=>(console.log("cardId",r),console.log("EACHcard.Id",y.id),r!==y.id)),console.log("columnCardsafter",h),l.update({list:[...h]})},error(p){console.error("something wrong occurred: "+p)},complete(){console.log("done")}})})()}getCurrentUser(){var t=this;return(0,de.Z)(function*(){let r;return yield t.firebaseAuth.currentUser.then(o=>{r=null==o?void 0:o.uid,console.log(null==o?void 0:o.uid)}),r})()}getBoardFromFirestore(){let t=[];return this.firebaseFirestore.collection("board").get().subscribe(r=>{let o;r.docs.forEach(l=>{o=l.data(),t.push({id:l.get("id"),title:l.get("title"),list:l.get("list"),color:l.get("color")})})}),t}getBoardFromFirestore1(t,r){let l,h,p,y;return this.firebaseFirestore.doc(`board/${r}`),this.firebaseFirestore.doc(`board/${r}`).get().subscribe(C=>{l=C.get("list"),h=C.get("list"),l=l.filter(T=>t!==T.id),h=h.filter(T=>t===T.id),p=h[0],y=p.like}),y}addCommentToFirestore(t,r,o,l){var h=this;return(0,de.Z)(function*(){let y,C,p=h.firebaseFirestore.doc(`board/${t}`);yield p.get().subscribe({next(R){y=R.get("list"),y.forEach(V=>{V.id===r&&(C=V)}),y=y.filter(V=>V.id!==r),console.log("currentCard",C),p.update(void 0===C.comments?{list:[...y,{id:C.id,text:C.text,like:C.like,comments:[{id:l,text:o}]}]}:{list:[...y,{id:C.id,text:C.text,like:C.like,comments:[...C.comments,{id:l,text:o}]}]}),console.log("list",y)},error(R){console.error("something wrong occurred: "+R)},complete(){console.log("done")}})})()}deleteCommentFromFirestore(t,r,o){var l=this;return(0,de.Z)(function*(){let p,y,C,h=l.firebaseFirestore.doc(`board/${t}`);yield h.get().subscribe({next(T){p=T.get("list"),p.forEach(R=>{R.id===r&&(y=R)}),p=p.filter(R=>r!==R.id),C=y.comments,C=C.filter(R=>R.id!==o),h.update({list:[...p,{id:y.id,text:y.text,like:y.like,comments:[...C]}]})},error(T){console.error("something wrong occurred: "+T)},complete(){console.log("done")}})})()}updateColumnColorInFirestore(t,r){var o=this;return(0,de.Z)(function*(){let h,l=o.firebaseFirestore.doc(`board/${r}`);yield l.get().subscribe({next(p){h=p.get("color"),l.update({color:t}),console.log("list",h)},error(p){console.error("something wrong occurred: "+p)},complete(){console.log("done")}})})()}logout(){this.firebaseAuth.signOut(),localStorage.removeItem("user")}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(tu),d.LFG(_S))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function vL(n,e){1&n&&(d.TgZ(0,"div",16),d._uU(1," Please fill all fields "),d.qZA())}function bL(n,e){1&n&&(d.TgZ(0,"div",16),d._uU(1," Invalid username or password "),d.qZA())}let EL=(()=>{class n{constructor(t,r){this.firebaseService=t,this.router=r,this.isSignedIn=!1,this.isFormInvalid=!1,this.isCredentialInvalid=!1}ngOnInit(){null!==localStorage.getItem("user")?(this.isSignedIn=!0,this.router.navigate(["board"])):this.isSignedIn=!1}onSignIn(t,r){var o=this;return(0,de.Z)(function*(){return""===t||""===r?(o.isFormInvalid=!0,void(o.isCredentialInvalid=!1)):(yield o.firebaseService.signIn(t,r),console.log("this.firebaseService.isLoggedIn",o.firebaseService.isLoggedIn),o.firebaseService.isLoggedIn?(o.isSignedIn=!0,o.router.navigate(["board"]),void console.log(t,r)):(o.isCredentialInvalid=!0,void(o.isFormInvalid=!1)))})()}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(hb),d.Y36(An))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-sign-in"]],decls:25,vars:2,consts:[[1,"signin-wrapper"],[1,"card"],[1,"card-body"],[1,"form-signin"],["signInForm","ngForm"],[1,"h3","mb-3","fw-normal"],[1,"form-floating"],["type","email","name","email","id","floatingInput","placeholder","name@example.com",1,"form-control"],["emailSignIn",""],["for","floatingInput"],["type","password","name","password","id","floatingPassword","placeholder","Password",1,"form-control"],["passwordSignIn",""],["for","floatingPassword"],[1,"w-100","btn","btn-lg","btn-primary",3,"click"],["href","#","routerLink","/sign-up"],["class","alert alert-danger",4,"ngIf"],[1,"alert","alert-danger"]],template:function(t,r){if(1&t){const o=d.EpF();d.TgZ(0,"div",0),d.TgZ(1,"div",1),d.TgZ(2,"div",2),d.TgZ(3,"form",3,4),d.TgZ(5,"h1",5),d._uU(6,"Please sign in"),d.qZA(),d.TgZ(7,"div",6),d._UZ(8,"input",7,8),d.TgZ(10,"label",9),d._uU(11,"Email address"),d.qZA(),d.qZA(),d.TgZ(12,"div",6),d._UZ(13,"input",10,11),d.TgZ(15,"label",12),d._uU(16,"Password"),d.qZA(),d.qZA(),d.TgZ(17,"button",13),d.NdJ("click",function(){d.CHM(o);const h=d.MAs(9),p=d.MAs(14);return r.onSignIn(h.value,p.value)}),d._uU(18,"Sign in"),d.qZA(),d.TgZ(19,"p"),d._uU(20,"New in RETROBOARD? "),d.TgZ(21,"a",14),d._uU(22,"sign up"),d.qZA(),d.qZA(),d.YNc(23,vL,2,0,"div",15),d.YNc(24,bL,2,0,"div",15),d.qZA(),d.qZA(),d.qZA(),d.qZA()}2&t&&(d.xp6(23),d.Q6J("ngIf",r.isFormInvalid),d.xp6(1),d.Q6J("ngIf",r.isCredentialInvalid))},directives:[oy,K0,ef,Gl,zi],styles:[".signin-wrapper[_ngcontent-%COMP%]{width:500px;margin:0 auto}input[_ngcontent-%COMP%]{margin-bottom:2rem}"]}),n})();function wL(n,e){1&n&&(d.TgZ(0,"div",17),d._uU(1," Please fill all fields "),d.qZA())}function CL(n,e){1&n&&(d.TgZ(0,"div",17),d._uU(1," Invalid username or password "),d.qZA())}let DL=(()=>{class n{constructor(t,r){this.firebaseService=t,this.router=r,this.isSignedIn=!1,this.isFormInvalid=!1,this.isCredentialInvalid=!1}ngOnInit(){null!==localStorage.getItem("user")?(this.isSignedIn=!0,this.router.navigate(["board"])):this.isSignedIn=!1}onSignUp(t,r,o){var l=this;return(0,de.Z)(function*(){return""===t||""===r||""===o?(l.isFormInvalid=!0,void(l.isCredentialInvalid=!1)):(yield l.firebaseService.signUp(t,r,o),l.firebaseService.isLoggedIn?(l.isSignedIn=!0,void l.router.navigate(["board"])):(l.isCredentialInvalid=!0,void(l.isFormInvalid=!1)))})()}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(hb),d.Y36(An))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-sign-up"]],decls:29,vars:2,consts:[[1,"signup-wrapper"],[1,"card"],[1,"card-body"],[1,"form-signup"],[1,"h3","mb-3","fw-normal"],[1,"form-floating"],["type","text","name","name","placeholder","name",1,"form-control"],["name",""],["for","floatingInput"],["type","email","name","email","id","floatingInput","placeholder","name@example.com",1,"form-control"],["emailSignUp",""],["type","password","name","password","id","floatingPassword","placeholder","Password",1,"form-control"],["passwordSignUp",""],["for","floatingPassword"],[1,"w-100","btn","btn-lg","btn-primary",3,"click"],["href","#","routerLink","/sign-in"],["class","alert alert-danger",4,"ngIf"],[1,"alert","alert-danger"]],template:function(t,r){if(1&t){const o=d.EpF();d.TgZ(0,"div",0),d.TgZ(1,"div",1),d.TgZ(2,"div",2),d.TgZ(3,"form",3),d.TgZ(4,"h1",4),d._uU(5,"Please sign Up"),d.qZA(),d.TgZ(6,"div",5),d._UZ(7,"input",6,7),d.TgZ(9,"label",8),d._uU(10,"Your name"),d.qZA(),d.qZA(),d.TgZ(11,"div",5),d._UZ(12,"input",9,10),d.TgZ(14,"label",8),d._uU(15,"Email address"),d.qZA(),d.qZA(),d.TgZ(16,"div",5),d._UZ(17,"input",11,12),d.TgZ(19,"label",13),d._uU(20,"Password"),d.qZA(),d.qZA(),d.TgZ(21,"button",14),d.NdJ("click",function(){d.CHM(o);const h=d.MAs(13),p=d.MAs(18),y=d.MAs(8);return r.onSignUp(h.value,p.value,y.value)}),d._uU(22,"Sign up"),d.qZA(),d.TgZ(23,"p"),d._uU(24,"Already have an account?"),d.TgZ(25,"a",15),d._uU(26,"Sign in"),d.qZA(),d.qZA(),d.YNc(27,wL,2,0,"div",16),d.YNc(28,CL,2,0,"div",16),d.qZA(),d.qZA(),d.qZA(),d.qZA()}2&t&&(d.xp6(27),d.Q6J("ngIf",r.isFormInvalid),d.xp6(1),d.Q6J("ngIf",r.isCredentialInvalid))},directives:[oy,K0,ef,Gl,zi],styles:[".signup-wrapper[_ngcontent-%COMP%]{width:500px;margin:0 auto}input[_ngcontent-%COMP%]{margin-bottom:2rem}"]}),n})();function So(n){return null!=n&&"false"!=`${n}`}function OR(n,e=0){return function(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function NR(n){return Array.isArray(n)?n:[n]}function si(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Or(n){return n instanceof d.SBq?n.nativeElement:n}var TL=N(1537);const SL=["addListener","removeListener"],AL=["addEventListener","removeEventListener"],xL=["on","off"];function yS(n,e,t,r){if((0,cn.m)(t)&&(r=t,t=void 0),r)return yS(n,e,t).pipe(oo(r));const[o,l]=function(n){return(0,cn.m)(n.addEventListener)&&(0,cn.m)(n.removeEventListener)}(n)?AL.map(h=>p=>n[h](e,p,t)):function(n){return(0,cn.m)(n.addListener)&&(0,cn.m)(n.removeListener)}(n)?SL.map(NO(n,e)):function(n){return(0,cn.m)(n.on)&&(0,cn.m)(n.off)}(n)?xL.map(NO(n,e)):[];if(!o&&(0,TL.z)(n))return(0,Tr.z)(h=>yS(h,e,t))((0,Oa.Xf)(n));if(!o)throw new TypeError("Invalid event target");return new hn.y(h=>{const p=(...y)=>h.next(1<y.length?y:y[0]);return o(p),()=>l(p)})}function NO(n,e){return t=>r=>n[t](e,r)}var FO=N(2869);const g0={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=g0;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);const o=e(l=>{t=void 0,n(l)});return new hi.w0(()=>null==t?void 0:t(o))},requestAnimationFrame(...n){const{delegate:e}=g0;return((null==e?void 0:e.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=g0;return((null==e?void 0:e.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0};var LO=N(8843);const VO=new class extends LO.v{flush(e){this._active=!0,this._scheduled=void 0;const{actions:t}=this;let r,o=-1;e=e||t.shift();const l=t.length;do{if(r=e.execute(e.state,e.delay))break}while(++o<l&&(e=t.shift()));if(this._active=!1,r){for(;++o<l&&(e=t.shift());)e.unsubscribe();throw r}}}(class extends FO.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=g0.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){if(null!=r&&r>0||null==r&&this.delay>0)return super.recycleAsyncId(e,t,r);0===e.actions.length&&(g0.cancelAnimationFrame(t),e._scheduled=void 0)}});let FR,NL=1;const vS={};function BO(n){return n in vS&&(delete vS[n],!0)}const FL={setImmediate(n){const e=NL++;return vS[e]=!0,FR||(FR=Promise.resolve()),FR.then(()=>BO(e)&&n()),e},clearImmediate(n){BO(n)}},{setImmediate:LL,clearImmediate:VL}=FL,bS={setImmediate(...n){const{delegate:e}=bS;return((null==e?void 0:e.setImmediate)||LL)(...n)},clearImmediate(n){const{delegate:e}=bS;return((null==e?void 0:e.clearImmediate)||VL)(n)},delegate:void 0};new class extends LO.v{flush(e){this._active=!0,this._scheduled=void 0;const{actions:t}=this;let r,o=-1;e=e||t.shift();const l=t.length;do{if(r=e.execute(e.state,e.delay))break}while(++o<l&&(e=t.shift()));if(this._active=!1,r){for(;++o<l&&(e=t.shift());)e.unsubscribe();throw r}}}(class extends FO.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=bS.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,r=0){if(null!=r&&r>0||null==r&&this.delay>0)return super.recycleAsyncId(e,t,r);0===e.actions.length&&(bS.clearImmediate(t),e._scheduled=void 0)}});var $L=N(7398);function UO(n=0,e,t=Od.P){let r=-1;return null!=e&&((0,$L.K)(e)?t=e:r=e),new hn.y(o=>{let l=function(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;l<0&&(l=0);let h=0;return t.schedule(function(){o.closed||(o.next(h++),0<=r?this.schedule(void 0,r):o.complete())},l)})}function jO(n,e=Od.P){return function(n){return(0,fr.e)((e,t)=>{let r=!1,o=null,l=null,h=!1;const p=()=>{if(null==l||l.unsubscribe(),l=null,r){r=!1;const C=o;o=null,t.next(C)}h&&t.complete()},y=()=>{l=null,h&&t.complete()};e.subscribe(new kt.Q(t,C=>{r=!0,o=C,l||(0,Oa.Xf)(n()).subscribe(l=new kt.Q(t,p,y))},()=>{h=!0,(!r||!l||l.closed)&&t.complete()}))})}(()=>UO(n,e))}let LR;try{LR="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){LR=!1}let fb,fa=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function(n){return n===mh}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!LR)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.Lbi))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),VR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();const HO=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function $O(){if(fb)return fb;if("object"!=typeof document||!document)return fb=new Set(HO),fb;let n=document.createElement("input");return fb=new Set(HO.filter(e=>(n.setAttribute("type",e),n.type===e))),fb}let m0,Ym,BR;function Km(n){return function(){if(null==m0&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>m0=!0}))}finally{m0=m0||!1}return m0}()?n:!!n.capture}function qL(){if(null==Ym){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Ym=!1,Ym;if("scrollBehavior"in document.documentElement.style)Ym=!0;else{const n=Element.prototype.scrollTo;Ym=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Ym}function UR(n){if(function(){if(null==BR){const n="undefined"!=typeof document?document.head:null;BR=!(!n||!n.createShadowRoot&&!n.attachShadow)}return BR}()){const e=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function jR(){let n="undefined"!=typeof document&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const e=n.shadowRoot.activeElement;if(e===n)break;n=e}return n}function rl(n){return n.composedPath?n.composedPath()[0]:n.target}function HR(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}const ZL=new d.OlP("cdk-dir-doc",{providedIn:"root",factory:function(){return(0,d.f3M)(ne)}});let pb=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new d.vpe,t){const o=t.documentElement?t.documentElement.dir:null,l=(t.body?t.body.dir:null)||o;this.value="ltr"===l||"rtl"===l?l:"ltr"}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ZL,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),_0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})(),zO=(()=>{class n{constructor(t,r,o){this._ngZone=t,this._platform=r,this._scrolled=new gt.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=o}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new hn.y(r=>{this._globalSubscription||this._addGlobalListener();const o=t>0?this._scrolled.pipe(jO(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{o.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):st()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){const o=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe(Kr(l=>!l||o.indexOf(l)>-1))}getAncestorScrollContainers(t){const r=[];return this.scrollContainers.forEach((o,l)=>{this._scrollableContainsElement(l,t)&&r.push(l)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,r){let o=Or(r),l=t.getElementRef().nativeElement;do{if(o==l)return!0}while(o=o.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>yS(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.R0b),d.LFG(fa),d.LFG(ne,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$R=(()=>{class n{constructor(t,r,o){this._platform=t,this._change=new gt.x,this._changeListener=l=>{this._change.next(l)},this._document=o,r.runOutsideAngular(()=>{if(t.isBrowser){const l=this._getWindow();l.addEventListener("resize",this._changeListener),l.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:r,height:o}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+o,right:t.left+r,height:o,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,r=this._getWindow(),o=t.documentElement,l=o.getBoundingClientRect();return{top:-l.top||t.body.scrollTop||r.scrollY||o.scrollTop||0,left:-l.left||t.body.scrollLeft||r.scrollX||o.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(jO(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(fa),d.LFG(d.R0b),d.LFG(ne,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),zR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})(),GO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[_0,VR,zR],_0,zR]}),n})();var oV=N(6921);function oh(n){return(0,fr.e)((e,t)=>{(0,Oa.Xf)(n).subscribe(new kt.Q(t,()=>t.complete(),oV.Z)),!t.closed&&e.subscribe(t)})}let ZO=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const r=function(n){try{return n.frameElement}catch(e){return null}}(function(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(r&&(-1===YO(r)||!this.isVisible(r)))return!1;let o=t.nodeName.toLowerCase(),l=YO(t);return t.hasAttribute("contenteditable")?-1!==l:!("iframe"===o||"object"===o||this._platform.WEBKIT&&this._platform.IOS&&!function(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===o?!!t.hasAttribute("controls")&&-1!==l:"video"===o?-1!==l&&(null!==l||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,r){return function(n){return!function(n){return function(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function(n){return function(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||KO(n))}(t)&&!this.isDisabled(t)&&((null==r?void 0:r.ignoreVisibility)||this.isVisible(t))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(fa))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function KO(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function YO(n){if(!KO(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class vV{constructor(e,t,r,o,l=!1){this._element=e,this._checker=t,this._ngZone=r,this._document=o,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,l||this.attachAnchors()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){let t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);for(let r=0;r<t.length;r++)t[r].hasAttribute(`cdk-focus-${e}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${e}', use 'cdkFocusRegion${e}' instead. The deprecated attribute will be removed in 8.0.0.`,t[r]):t[r].hasAttribute(`cdk-focus-region-${e}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${e}', use 'cdkFocusRegion${e}' instead. The deprecated attribute will be removed in 8.0.0.`,t[r]);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(t.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",t),!this._checker.isFocusable(t)){const r=this._getFirstTabbableElement(t);return null==r||r.focus(e),!!r}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let r=0;r<t.length;r++){const o=t[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[r]):null;if(o)return o}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let r=t.length-1;r>=0;r--){const o=t[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[r]):null;if(o)return o}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe((0,fi.q)(1)).subscribe(e)}}let bV=(()=>{class n{constructor(t,r,o){this._checker=t,this._ngZone=r,this._document=o}create(t,r=!1){return new vV(t,this._checker,this._ngZone,this._document,r)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ZO),d.LFG(d.R0b),d.LFG(ne))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function GR(n){return 0===n.offsetX&&0===n.offsetY}function qR(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const EV=new d.OlP("cdk-input-modality-detector-options"),wV={ignoreKeys:[18,17,224,91,16]},gb=Km({passive:!0,capture:!0});let CV=(()=>{class n{constructor(t,r,o,l){this._platform=t,this._mostRecentTarget=null,this._modality=new hr(null),this._lastTouchMs=0,this._onKeydown=h=>{var p,y;(null==(y=null==(p=this._options)?void 0:p.ignoreKeys)?void 0:y.some(C=>C===h.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=rl(h))},this._onMousedown=h=>{Date.now()-this._lastTouchMs<650||(this._modality.next(GR(h)?"keyboard":"mouse"),this._mostRecentTarget=rl(h))},this._onTouchstart=h=>{qR(h)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=rl(h))},this._options=Ke(Ke({},wV),l),this.modalityDetected=this._modality.pipe(Kr((e,t)=>1<=t)),this.modalityChanged=this.modalityDetected.pipe(OE()),t.isBrowser&&r.runOutsideAngular(()=>{o.addEventListener("keydown",this._onKeydown,gb),o.addEventListener("mousedown",this._onMousedown,gb),o.addEventListener("touchstart",this._onTouchstart,gb)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,gb),document.removeEventListener("mousedown",this._onMousedown,gb),document.removeEventListener("touchstart",this._onTouchstart,gb))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(fa),d.LFG(d.R0b),d.LFG(ne),d.LFG(EV,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const IV=new d.OlP("cdk-focus-monitor-default-options"),wS=Km({passive:!0,capture:!0});let XO=(()=>{class n{constructor(t,r,o,l,h){this._ngZone=t,this._platform=r,this._inputModalityDetector=o,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new gt.x,this._rootNodeFocusAndBlurListener=p=>{const y=rl(p),C="focus"===p.type?this._onFocus:this._onBlur;for(let T=y;T;T=T.parentElement)C.call(this,p,T)},this._document=l,this._detectionMode=(null==h?void 0:h.detectionMode)||0}monitor(t,r=!1){const o=Or(t);if(!this._platform.isBrowser||1!==o.nodeType)return st(null);const l=UR(o)||this._getDocument(),h=this._elementInfo.get(o);if(h)return r&&(h.checkChildren=!0),h.subject;const p={checkChildren:r,subject:new gt.x,rootNode:l};return this._elementInfo.set(o,p),this._registerGlobalListeners(p),p.subject}stopMonitoring(t){const r=Or(t),o=this._elementInfo.get(r);o&&(o.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(o))}focusVia(t,r,o){const l=Or(t);l===this._getDocument().activeElement?this._getClosestElementsInfo(l).forEach(([p,y])=>this._originChanged(p,r,y)):(this._setOrigin(r),"function"==typeof l.focus&&l.focus(o))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!(null==t?void 0:t.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(t,r){t.classList.toggle("cdk-focused",!!r),t.classList.toggle("cdk-touch-focused","touch"===r),t.classList.toggle("cdk-keyboard-focused","keyboard"===r),t.classList.toggle("cdk-mouse-focused","mouse"===r),t.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,r){const o=this._elementInfo.get(r),l=rl(t);!o||!o.checkChildren&&r!==l||this._originChanged(r,this._getFocusOrigin(l),o)}_onBlur(t,r){const o=this._elementInfo.get(r);!o||o.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(o.subject,null))}_emitOrigin(t,r){this._ngZone.run(()=>t.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const r=t.rootNode,o=this._rootNodeFocusListenerCount.get(r)||0;o||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,wS),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,wS)}),this._rootNodeFocusListenerCount.set(r,o+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(oh(this._stopInputModalityDetector)).subscribe(l=>{this._setOrigin(l,!0)}))}_removeGlobalListeners(t){const r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const o=this._rootNodeFocusListenerCount.get(r);o>1?this._rootNodeFocusListenerCount.set(r,o-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,wS),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,wS),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,o){this._setClasses(t,r),this._emitOrigin(o.subject,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){const r=[];return this._elementInfo.forEach((o,l)=>{(l===t||o.checkChildren&&l.contains(t))&&r.push([l,o])}),r}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.R0b),d.LFG(fa),d.LFG(CV),d.LFG(ne,8),d.LFG(IV,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const JO="cdk-high-contrast-black-on-white",eN="cdk-high-contrast-white-on-black",WR="cdk-high-contrast-active";let TV=(()=>{class n{constructor(t,r){this._platform=t,this._document=r}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,o=r&&r.getComputedStyle?r.getComputedStyle(t):null,l=(o&&o.backgroundColor||"").replace(/ /g,"");switch(t.remove(),l){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(WR),t.remove(JO),t.remove(eN),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?(t.add(WR),t.add(JO)):2===r&&(t.add(WR),t.add(eN))}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(fa),d.LFG(ne))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ZR(n,e,t){for(let r in e)if(e.hasOwnProperty(r)){const o=e[r];o?n.setProperty(r,o,(null==t?void 0:t.has(r))?"important":""):n.removeProperty(r)}return n}function mb(n,e){const t=e?"":"none";ZR(n.style,{"touch-action":e?"":"none","-webkit-user-drag":e?"":"none","-webkit-tap-highlight-color":e?"":"transparent","user-select":t,"-ms-user-select":t,"-webkit-user-select":t,"-moz-user-select":t})}function tN(n,e,t){ZR(n.style,{position:e?"":"fixed",top:e?"":"0",opacity:e?"":"0",left:e?"":"-999em"},t)}function CS(n,e){return e&&"none"!=e?n+" "+e:n}function nN(n){const e=n.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(n)*e}function KR(n,e){return n.getPropertyValue(e).split(",").map(r=>r.trim())}function YR(n){const e=n.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height,x:e.x,y:e.y}}function QR(n,e,t){const{top:r,bottom:o,left:l,right:h}=n;return t>=r&&t<=o&&e>=l&&e<=h}function y0(n,e,t){n.top+=e,n.bottom=n.top+n.height,n.left+=t,n.right=n.left+n.width}function rN(n,e,t,r){const{top:o,right:l,bottom:h,left:p,width:y,height:C}=n,T=y*e,R=C*e;return r>o-R&&r<h+R&&t>p-T&&t<l+T}class iN{constructor(e,t){this._document=e,this._viewportRuler=t,this.positions=new Map}clear(){this.positions.clear()}cache(e){this.clear(),this.positions.set(this._document,{scrollPosition:this._viewportRuler.getViewportScrollPosition()}),e.forEach(t=>{this.positions.set(t,{scrollPosition:{top:t.scrollTop,left:t.scrollLeft},clientRect:YR(t)})})}handleScroll(e){const t=rl(e),r=this.positions.get(t);if(!r)return null;const o=r.scrollPosition;let l,h;if(t===this._document){const C=this._viewportRuler.getViewportScrollPosition();l=C.top,h=C.left}else l=t.scrollTop,h=t.scrollLeft;const p=o.top-l,y=o.left-h;return this.positions.forEach((C,T)=>{C.clientRect&&t!==T&&t.contains(T)&&y0(C.clientRect,p,y)}),o.top=l,o.left=h,{top:p,left:y}}}function sN(n){const e=n.cloneNode(!0),t=e.querySelectorAll("[id]"),r=n.nodeName.toLowerCase();e.removeAttribute("id");for(let o=0;o<t.length;o++)t[o].removeAttribute("id");return"canvas"===r?lN(n,e):("input"===r||"select"===r||"textarea"===r)&&aN(n,e),oN("canvas",n,e,lN),oN("input, textarea, select",n,e,aN),e}function oN(n,e,t,r){const o=e.querySelectorAll(n);if(o.length){const l=t.querySelectorAll(n);for(let h=0;h<o.length;h++)r(o[h],l[h])}}let xV=0;function aN(n,e){"file"!==e.type&&(e.value=n.value),"radio"===e.type&&e.name&&(e.name=`mat-clone-${e.name}-${xV++}`)}function lN(n,e){const t=e.getContext("2d");if(t)try{t.drawImage(n,0,0)}catch(r){}}const cN=Km({passive:!0}),uN=Km({passive:!1}),XR=new Set(["position"]);class RV{constructor(e,t,r,o,l,h){this._config=t,this._document=r,this._ngZone=o,this._viewportRuler=l,this._dragDropRegistry=h,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new gt.x,this._pointerMoveSubscription=hi.w0.EMPTY,this._pointerUpSubscription=hi.w0.EMPTY,this._scrollSubscription=hi.w0.EMPTY,this._resizeSubscription=hi.w0.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new gt.x,this.started=new gt.x,this.released=new gt.x,this.ended=new gt.x,this.entered=new gt.x,this.exited=new gt.x,this.dropped=new gt.x,this.moved=this._moveEvents,this._pointerDown=p=>{if(this.beforeStarted.next(),this._handles.length){const y=this._handles.find(C=>{const T=rl(p);return!!T&&(T===C||C.contains(T))});y&&!this._disabledHandles.has(y)&&!this.disabled&&this._initializeDragSequence(y,p)}else this.disabled||this._initializeDragSequence(this._rootElement,p)},this._pointerMove=p=>{const y=this._getPointerPositionOnPage(p);if(!this._hasStartedDragging){if(Math.abs(y.x-this._pickupPositionOnPage.x)+Math.abs(y.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const U=Date.now()>=this._dragStartTime+this._getDragStartDelay(p),Q=this._dropContainer;if(!U)return void this._endDragSequence(p);(!Q||!Q.isDragging()&&!Q.isReceiving())&&(p.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(p)))}return}this._boundaryElement&&(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=(this._preview||this._rootElement).getBoundingClientRect()),p.preventDefault();const C=this._getConstrainedPointerPosition(y);if(this._hasMoved=!0,this._lastKnownPointerPosition=y,this._updatePointerDirectionDelta(C),this._dropContainer)this._updateActiveDropContainer(C,y);else{const T=this._activeTransform;T.x=C.x-this._pickupPositionOnPage.x+this._passiveTransform.x,T.y=C.y-this._pickupPositionOnPage.y+this._passiveTransform.y,this._applyRootElementTransform(T.x,T.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:C,event:p,distance:this._getDragDistance(C),delta:this._pointerDirectionDelta})})},this._pointerUp=p=>{this._endDragSequence(p)},this.withRootElement(e).withParent(t.parentDragRef||null),this._parentPositions=new iN(r,l),h.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(e){const t=So(e);t!==this._disabled&&(this._disabled=t,this._toggleNativeDragInteractions(),this._handles.forEach(r=>mb(r,t)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(e){this._handles=e.map(r=>Or(r)),this._handles.forEach(r=>mb(r,this.disabled)),this._toggleNativeDragInteractions();const t=new Set;return this._disabledHandles.forEach(r=>{this._handles.indexOf(r)>-1&&t.add(r)}),this._disabledHandles=t,this}withPreviewTemplate(e){return this._previewTemplate=e,this}withPlaceholderTemplate(e){return this._placeholderTemplate=e,this}withRootElement(e){const t=Or(e);return t!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{t.addEventListener("mousedown",this._pointerDown,uN),t.addEventListener("touchstart",this._pointerDown,cN)}),this._initialTransform=void 0,this._rootElement=t),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(e){return this._boundaryElement=e?Or(e):null,this._resizeSubscription.unsubscribe(),e&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(e){return this._parentDragRef=e,this}dispose(){var e,t;this._removeRootElementListeners(this._rootElement),this.isDragging()&&(null==(e=this._rootElement)||e.remove()),null==(t=this._anchor)||t.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(e){!this._disabledHandles.has(e)&&this._handles.indexOf(e)>-1&&(this._disabledHandles.add(e),mb(e,!0))}enableHandle(e){this._disabledHandles.has(e)&&(this._disabledHandles.delete(e),mb(e,this.disabled))}withDirection(e){return this._direction=e,this}_withDropContainer(e){this._dropContainer=e}getFreeDragPosition(){const e=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:e.x,y:e.y}}setFreeDragPosition(e){return this._activeTransform={x:0,y:0},this._passiveTransform.x=e.x,this._passiveTransform.y=e.y,this._dropContainer||this._applyRootElementTransform(e.x,e.y),this}withPreviewContainer(e){return this._previewContainer=e,this}_sortFromLastPointerPosition(){const e=this._lastKnownPointerPosition;e&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(e),e)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){var e,t;null==(e=this._preview)||e.remove(),null==(t=this._previewRef)||t.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){var e,t;null==(e=this._placeholder)||e.remove(),null==(t=this._placeholderRef)||t.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(e){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(e),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const t=this._getPointerPositionOnPage(e);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(t),dropPoint:t})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(e){v0(e)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const t=this._dropContainer;if(t){const r=this._rootElement,o=r.parentNode,l=this._placeholder=this._createPlaceholderElement(),h=this._anchor=this._anchor||this._document.createComment(""),p=this._getShadowRoot();o.insertBefore(h,r),this._initialTransform=r.style.transform||"",this._preview=this._createPreviewElement(),tN(r,!1,XR),this._document.body.appendChild(o.replaceChild(l,r)),this._getPreviewInsertionPoint(o,p).appendChild(this._preview),this.started.next({source:this}),t.start(),this._initialContainer=t,this._initialIndex=t.getItemIndex(this)}else this.started.next({source:this}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(t?t.getScrollableParents():[])}_initializeDragSequence(e,t){this._parentDragRef&&t.stopPropagation();const r=this.isDragging(),o=v0(t),l=!o&&0!==t.button,h=this._rootElement,p=rl(t),y=!o&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),C=o?qR(t):GR(t);if(p&&p.draggable&&"mousedown"===t.type&&t.preventDefault(),r||l||y||C)return;if(this._handles.length){const V=h.style;this._rootElementTapHighlight=V.webkitTapHighlightColor||"",V.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(V=>this._updateOnScroll(V)),this._boundaryElement&&(this._boundaryRect=YR(this._boundaryElement));const T=this._previewTemplate;this._pickupPositionInElement=T&&T.template&&!T.matchSize?{x:0,y:0}:this._getPointerPositionInElement(e,t);const R=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(t);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:R.x,y:R.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,t)}_cleanupDragArtifacts(e){tN(this._rootElement,!0,XR),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const t=this._dropContainer,r=t.getItemIndex(this),o=this._getPointerPositionOnPage(e),l=this._getDragDistance(o),h=t._isOverContainer(o.x,o.y);this.ended.next({source:this,distance:l,dropPoint:o}),this.dropped.next({item:this,currentIndex:r,previousIndex:this._initialIndex,container:t,previousContainer:this._initialContainer,isPointerOverContainer:h,distance:l,dropPoint:o}),t.drop(this,r,this._initialIndex,this._initialContainer,h,l,o),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:e,y:t},{x:r,y:o}){let l=this._initialContainer._getSiblingContainerFromPosition(this,e,t);!l&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(e,t)&&(l=this._initialContainer),l&&l!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=l,this._dropContainer.enter(this,e,t,l===this._initialContainer&&l.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:l,currentIndex:l.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(r,o),this._dropContainer._sortItem(this,e,t,this._pointerDirectionDelta),this._applyPreviewTransform(e-this._pickupPositionInElement.x,t-this._pickupPositionInElement.y))}_createPreviewElement(){const e=this._previewTemplate,t=this.previewClass,r=e?e.template:null;let o;if(r&&e){const l=e.matchSize?this._rootElement.getBoundingClientRect():null,h=e.viewContainer.createEmbeddedView(r,e.context);h.detectChanges(),o=hN(h,this._document),this._previewRef=h,e.matchSize?fN(o,l):o.style.transform=DS(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{const l=this._rootElement;o=sN(l),fN(o,l.getBoundingClientRect()),this._initialTransform&&(o.style.transform=this._initialTransform)}return ZR(o.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},XR),mb(o,!1),o.classList.add("cdk-drag-preview"),o.setAttribute("dir",this._direction),t&&(Array.isArray(t)?t.forEach(l=>o.classList.add(l)):o.classList.add(t)),o}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const e=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(e.left,e.top);const t=function(n){const e=getComputedStyle(n),t=KR(e,"transition-property"),r=t.find(p=>"transform"===p||"all"===p);if(!r)return 0;const o=t.indexOf(r),l=KR(e,"transition-duration"),h=KR(e,"transition-delay");return nN(l[o])+nN(h[o])}(this._preview);return 0===t?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(r=>{const o=h=>{var p;(!h||rl(h)===this._preview&&"transform"===h.propertyName)&&(null==(p=this._preview)||p.removeEventListener("transitionend",o),r(),clearTimeout(l))},l=setTimeout(o,1.5*t);this._preview.addEventListener("transitionend",o)}))}_createPlaceholderElement(){const e=this._placeholderTemplate,t=e?e.template:null;let r;return t?(this._placeholderRef=e.viewContainer.createEmbeddedView(t,e.context),this._placeholderRef.detectChanges(),r=hN(this._placeholderRef,this._document)):r=sN(this._rootElement),r.classList.add("cdk-drag-placeholder"),r}_getPointerPositionInElement(e,t){const r=this._rootElement.getBoundingClientRect(),o=e===this._rootElement?null:e,l=o?o.getBoundingClientRect():r,h=v0(t)?t.targetTouches[0]:t,p=this._getViewportScrollPosition();return{x:l.left-r.left+(h.pageX-l.left-p.left),y:l.top-r.top+(h.pageY-l.top-p.top)}}_getPointerPositionOnPage(e){const t=this._getViewportScrollPosition(),r=v0(e)?e.touches[0]||e.changedTouches[0]||{pageX:0,pageY:0}:e,o=r.pageX-t.left,l=r.pageY-t.top;if(this._ownerSVGElement){const h=this._ownerSVGElement.getScreenCTM();if(h){const p=this._ownerSVGElement.createSVGPoint();return p.x=o,p.y=l,p.matrixTransform(h.inverse())}}return{x:o,y:l}}_getConstrainedPointerPosition(e){const t=this._dropContainer?this._dropContainer.lockAxis:null;let{x:r,y:o}=this.constrainPosition?this.constrainPosition(e,this):e;if("x"===this.lockAxis||"x"===t?o=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===t)&&(r=this._pickupPositionOnPage.x),this._boundaryRect){const{x:l,y:h}=this._pickupPositionInElement,p=this._boundaryRect,y=this._previewRect,C=p.top+h,T=p.bottom-(y.height-h);r=dN(r,p.left+l,p.right-(y.width-l)),o=dN(o,C,T)}return{x:r,y:o}}_updatePointerDirectionDelta(e){const{x:t,y:r}=e,o=this._pointerDirectionDelta,l=this._pointerPositionAtLastDirectionChange,h=Math.abs(t-l.x),p=Math.abs(r-l.y);return h>this._config.pointerDirectionChangeThreshold&&(o.x=t>l.x?1:-1,l.x=t),p>this._config.pointerDirectionChangeThreshold&&(o.y=r>l.y?1:-1,l.y=r),o}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const e=this._handles.length>0||!this.isDragging();e!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=e,mb(this._rootElement,e))}_removeRootElementListeners(e){e.removeEventListener("mousedown",this._pointerDown,uN),e.removeEventListener("touchstart",this._pointerDown,cN)}_applyRootElementTransform(e,t){const r=DS(e,t),o=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=o.transform&&"none"!=o.transform?o.transform:""),o.transform=CS(r,this._initialTransform)}_applyPreviewTransform(e,t){var l;const r=(null==(l=this._previewTemplate)?void 0:l.template)?void 0:this._initialTransform,o=DS(e,t);this._preview.style.transform=CS(o,r)}_getDragDistance(e){const t=this._pickupPositionOnPage;return t?{x:e.x-t.x,y:e.y-t.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:e,y:t}=this._passiveTransform;if(0===e&&0===t||this.isDragging()||!this._boundaryElement)return;const r=this._boundaryElement.getBoundingClientRect(),o=this._rootElement.getBoundingClientRect();if(0===r.width&&0===r.height||0===o.width&&0===o.height)return;const l=r.left-o.left,h=o.right-r.right,p=r.top-o.top,y=o.bottom-r.bottom;r.width>o.width?(l>0&&(e+=l),h>0&&(e-=h)):e=0,r.height>o.height?(p>0&&(t+=p),y>0&&(t-=y)):t=0,(e!==this._passiveTransform.x||t!==this._passiveTransform.y)&&this.setFreeDragPosition({y:t,x:e})}_getDragStartDelay(e){const t=this.dragStartDelay;return"number"==typeof t?t:v0(e)?t.touch:t?t.mouse:0}_updateOnScroll(e){const t=this._parentPositions.handleScroll(e);if(t){const r=rl(e);this._boundaryRect&&r!==this._boundaryElement&&r.contains(this._boundaryElement)&&y0(this._boundaryRect,t.top,t.left),this._pickupPositionOnPage.x+=t.left,this._pickupPositionOnPage.y+=t.top,this._dropContainer||(this._activeTransform.x-=t.left,this._activeTransform.y-=t.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){const e=this._parentPositions.positions.get(this._document);return e?e.scrollPosition:this._viewportRuler.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=UR(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(e,t){const r=this._previewContainer||"global";if("parent"===r)return e;if("global"===r){const o=this._document;return t||o.fullscreenElement||o.webkitFullscreenElement||o.mozFullScreenElement||o.msFullscreenElement||o.body}return Or(r)}}function DS(n,e){return`translate3d(${Math.round(n)}px, ${Math.round(e)}px, 0)`}function dN(n,e,t){return Math.max(e,Math.min(t,n))}function v0(n){return"t"===n.type[0]}function hN(n,e){const t=n.rootNodes;if(1===t.length&&t[0].nodeType===e.ELEMENT_NODE)return t[0];const r=e.createElement("div");return t.forEach(o=>r.appendChild(o)),r}function fN(n,e){n.style.width=`${e.width}px`,n.style.height=`${e.height}px`,n.style.transform=DS(e.left,e.top)}function pN(n,e,t){const r=b0(e,n.length-1),o=b0(t,n.length-1);if(r===o)return;const l=n[r],h=o<r?-1:1;for(let p=r;p!==o;p+=h)n[p]=n[p+h];n[o]=l}function b0(n,e){return Math.max(0,Math.min(e,n))}class kV{constructor(e,t,r,o,l){this._dragDropRegistry=t,this._ngZone=o,this._viewportRuler=l,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new gt.x,this.entered=new gt.x,this.exited=new gt.x,this.dropped=new gt.x,this.sorted=new gt.x,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0,overlaps:!1},this._draggables=[],this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=hi.w0.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new gt.x,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function(n=0,e=Od.z){return n<0&&(n=0),UO(n,n,e)}(0,VO).pipe(oh(this._stopScrollTimers)).subscribe(()=>{const h=this._scrollNode,p=this.autoScrollStep;1===this._verticalScrollDirection?h.scrollBy(0,-p):2===this._verticalScrollDirection&&h.scrollBy(0,p),1===this._horizontalScrollDirection?h.scrollBy(-p,0):2===this._horizontalScrollDirection&&h.scrollBy(p,0)})},this.element=Or(e),this._document=r,this.withScrollableParents([this.element]),t.registerDropContainer(this),this._parentPositions=new iN(r,l)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(e,t,r,o){let l;this._draggingStarted(),null==o?(l=this.sortingDisabled?this._draggables.indexOf(e):-1,-1===l&&(l=this._getItemIndexFromPointerPosition(e,t,r))):l=o;const h=this._activeDraggables,p=h.indexOf(e),y=e.getPlaceholderElement();let C=h[l];if(C===e&&(C=h[l+1]),p>-1&&h.splice(p,1),C&&!this._dragDropRegistry.isDragging(C)){const T=C.getRootElement();T.parentElement.insertBefore(y,T),h.splice(l,0,e)}else if(this._shouldEnterAsFirstChild(t,r)){const T=h[0].getRootElement();T.parentNode.insertBefore(y,T),h.unshift(e)}else Or(this.element).appendChild(y),h.push(e);y.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:e,container:this,currentIndex:this.getItemIndex(e)})}exit(e){this._reset(),this.exited.next({item:e,container:this})}drop(e,t,r,o,l,h,p){this._reset(),this.dropped.next({item:e,currentIndex:t,previousIndex:r,container:this,previousContainer:o,isPointerOverContainer:l,distance:h,dropPoint:p})}withItems(e){const t=this._draggables;return this._draggables=e,e.forEach(r=>r._withDropContainer(this)),this.isDragging()&&(t.filter(o=>o.isDragging()).every(o=>-1===e.indexOf(o))?this._reset():this._cacheItems()),this}withDirection(e){return this._direction=e,this}connectedTo(e){return this._siblings=e.slice(),this}withOrientation(e){return this._orientation=e,this}withScrollableParents(e){const t=Or(this.element);return this._scrollableElements=-1===e.indexOf(t)?[t,...e]:e.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(e){return this._isDragging?("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(r=>r.drag===e):this._draggables.indexOf(e)}isReceiving(){return this._activeSiblings.size>0}_sortItem(e,t,r,o){if(this.sortingDisabled||!this._clientRect||!rN(this._clientRect,.05,t,r))return;const l=this._itemPositions,h=this._getItemIndexFromPointerPosition(e,t,r,o);if(-1===h&&l.length>0)return;const p="horizontal"===this._orientation,y=l.findIndex(De=>De.drag===e),C=l[h],R=C.clientRect,V=y>h?1:-1,U=this._getItemOffsetPx(l[y].clientRect,R,V),Q=this._getSiblingOffsetPx(y,l,V),fe=l.slice();pN(l,y,h),this.sorted.next({previousIndex:y,currentIndex:h,container:this,item:e}),l.forEach((De,lt)=>{if(fe[lt]===De)return;const Et=De.drag===e,Lt=Et?U:Q,ht=Et?e.getPlaceholderElement():De.drag.getRootElement();De.offset+=Lt,p?(ht.style.transform=CS(`translate3d(${Math.round(De.offset)}px, 0, 0)`,De.initialTransform),y0(De.clientRect,0,Lt)):(ht.style.transform=CS(`translate3d(0, ${Math.round(De.offset)}px, 0)`,De.initialTransform),y0(De.clientRect,Lt,0))}),this._previousSwap.overlaps=QR(R,t,r),this._previousSwap.drag=C.drag,this._previousSwap.delta=p?o.x:o.y}_startScrollingIfNecessary(e,t){if(this.autoScrollDisabled)return;let r,o=0,l=0;if(this._parentPositions.positions.forEach((h,p)=>{p===this._document||!h.clientRect||r||rN(h.clientRect,.05,e,t)&&([o,l]=function(n,e,t,r){const o=_N(e,r),l=yN(e,t);let h=0,p=0;if(o){const y=n.scrollTop;1===o?y>0&&(h=1):n.scrollHeight-y>n.clientHeight&&(h=2)}if(l){const y=n.scrollLeft;1===l?y>0&&(p=1):n.scrollWidth-y>n.clientWidth&&(p=2)}return[h,p]}(p,h.clientRect,e,t),(o||l)&&(r=p))}),!o&&!l){const{width:h,height:p}=this._viewportRuler.getViewportSize(),y={width:h,height:p,top:0,right:h,bottom:p,left:0};o=_N(y,t),l=yN(y,e),r=window}r&&(o!==this._verticalScrollDirection||l!==this._horizontalScrollDirection||r!==this._scrollNode)&&(this._verticalScrollDirection=o,this._horizontalScrollDirection=l,this._scrollNode=r,(o||l)&&r?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const e=Or(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=e.msScrollSnapType||e.scrollSnapType||"",e.scrollSnapType=e.msScrollSnapType="none",this._cacheItems(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const e=Or(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(e).clientRect}_cacheItemPositions(){const e="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(t=>{const r=t.getVisibleElement();return{drag:t,offset:0,initialTransform:r.style.transform||"",clientRect:YR(r)}}).sort((t,r)=>e?t.clientRect.left-r.clientRect.left:t.clientRect.top-r.clientRect.top)}_reset(){this._isDragging=!1;const e=Or(this.element).style;e.scrollSnapType=e.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach(t=>{var o;const r=t.getRootElement();if(r){const l=null==(o=this._itemPositions.find(h=>h.drag===t))?void 0:o.initialTransform;r.style.transform=l||""}}),this._siblings.forEach(t=>t._stopReceiving(this)),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_getSiblingOffsetPx(e,t,r){const o="horizontal"===this._orientation,l=t[e].clientRect,h=t[e+-1*r];let p=l[o?"width":"height"]*r;if(h){const y=o?"left":"top",C=o?"right":"bottom";-1===r?p-=h.clientRect[y]-l[C]:p+=l[y]-h.clientRect[C]}return p}_getItemOffsetPx(e,t,r){const o="horizontal"===this._orientation;let l=o?t.left-e.left:t.top-e.top;return-1===r&&(l+=o?t.width-e.width:t.height-e.height),l}_shouldEnterAsFirstChild(e,t){if(!this._activeDraggables.length)return!1;const r=this._itemPositions,o="horizontal"===this._orientation;if(r[0].drag!==this._activeDraggables[0]){const h=r[r.length-1].clientRect;return o?e>=h.right:t>=h.bottom}{const h=r[0].clientRect;return o?e<=h.left:t<=h.top}}_getItemIndexFromPointerPosition(e,t,r,o){const l="horizontal"===this._orientation,h=this._itemPositions.findIndex(({drag:p,clientRect:y})=>{if(p===e)return!1;if(o){const C=l?o.x:o.y;if(p===this._previousSwap.drag&&this._previousSwap.overlaps&&C===this._previousSwap.delta)return!1}return l?t>=Math.floor(y.left)&&t<Math.floor(y.right):r>=Math.floor(y.top)&&r<Math.floor(y.bottom)});return-1!==h&&this.sortPredicate(h,e,this)?h:-1}_cacheItems(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}_isOverContainer(e,t){return null!=this._clientRect&&QR(this._clientRect,e,t)}_getSiblingContainerFromPosition(e,t,r){return this._siblings.find(o=>o._canReceive(e,t,r))}_canReceive(e,t,r){if(!this._clientRect||!QR(this._clientRect,t,r)||!this.enterPredicate(e,this))return!1;const o=this._getShadowRoot().elementFromPoint(t,r);if(!o)return!1;const l=Or(this.element);return o===l||l.contains(o)}_startReceiving(e,t){const r=this._activeSiblings;!r.has(e)&&t.every(o=>this.enterPredicate(o,this)||this._draggables.indexOf(o)>-1)&&(r.add(e),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(e){this._activeSiblings.delete(e),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(e=>{if(this.isDragging()){const t=this._parentPositions.handleScroll(e);t&&(this._itemPositions.forEach(({clientRect:r})=>{y0(r,t.top,t.left)}),this._itemPositions.forEach(({drag:r})=>{this._dragDropRegistry.isDragging(r)&&r._sortFromLastPointerPosition()}))}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const e=UR(Or(this.element));this._cachedShadowRoot=e||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const e=this._activeDraggables.filter(t=>t.isDragging());this._siblings.forEach(t=>t._startReceiving(this,e))}}function _N(n,e){const{top:t,bottom:r,height:o}=n,l=.05*o;return e>=t-l&&e<=t+l?1:e>=r-l&&e<=r+l?2:0}function yN(n,e){const{left:t,right:r,width:o}=n,l=.05*o;return e>=t-l&&e<=t+l?1:e>=r-l&&e<=r+l?2:0}const IS=Km({passive:!1,capture:!0});let NV=(()=>{class n{constructor(t,r){this._ngZone=t,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=o=>o.isDragging(),this.pointerMove=new gt.x,this.pointerUp=new gt.x,this.scroll=new gt.x,this._preventDefaultWhileDragging=o=>{this._activeDragInstances.length>0&&o.preventDefault()},this._persistentTouchmoveListener=o=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&o.preventDefault(),this.pointerMove.next(o))},this._document=r}registerDropContainer(t){this._dropInstances.has(t)||this._dropInstances.add(t)}registerDragItem(t){this._dragInstances.add(t),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,IS)})}removeDropContainer(t){this._dropInstances.delete(t)}removeDragItem(t){this._dragInstances.delete(t),this.stopDragging(t),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,IS)}startDragging(t,r){if(!(this._activeDragInstances.indexOf(t)>-1)&&(this._activeDragInstances.push(t),1===this._activeDragInstances.length)){const o=r.type.startsWith("touch");this._globalListeners.set(o?"touchend":"mouseup",{handler:l=>this.pointerUp.next(l),options:!0}).set("scroll",{handler:l=>this.scroll.next(l),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:IS}),o||this._globalListeners.set("mousemove",{handler:l=>this.pointerMove.next(l),options:IS}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((l,h)=>{this._document.addEventListener(h,l.handler,l.options)})})}}stopDragging(t){const r=this._activeDragInstances.indexOf(t);r>-1&&(this._activeDragInstances.splice(r,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(t){return this._activeDragInstances.indexOf(t)>-1}scrolled(t){const r=[this.scroll];return t&&t!==this._document&&r.push(new hn.y(o=>this._ngZone.runOutsideAngular(()=>{const h=p=>{this._activeDragInstances.length&&o.next(p)};return t.addEventListener("scroll",h,!0),()=>{t.removeEventListener("scroll",h,!0)}}))),(0,_g.T)(...r)}ngOnDestroy(){this._dragInstances.forEach(t=>this.removeDragItem(t)),this._dropInstances.forEach(t=>this.removeDropContainer(t)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((t,r)=>{this._document.removeEventListener(r,t.handler,t.options)}),this._globalListeners.clear()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.R0b),d.LFG(ne))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const FV={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let JR=(()=>{class n{constructor(t,r,o,l){this._document=t,this._ngZone=r,this._viewportRuler=o,this._dragDropRegistry=l}createDrag(t,r=FV){return new RV(t,r,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(t){return new kV(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ne),d.LFG(d.R0b),d.LFG($R),d.LFG(NV))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const vN=new d.OlP("CDK_DRAG_PARENT"),eP=new d.OlP("CdkDropListGroup");let LV=(()=>{class n{constructor(){this._items=new Set,this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=So(t)}ngOnDestroy(){this._items.clear()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["","cdkDropListGroup",""]],inputs:{disabled:["cdkDropListGroupDisabled","disabled"]},exportAs:["cdkDropListGroup"],features:[d._Bn([{provide:eP,useExisting:n}])]}),n})();const bN=new d.OlP("CDK_DRAG_CONFIG");let VV=0;const EN=new d.OlP("CdkDropList");let BV=(()=>{class n{constructor(t,r,o,l,h,p,y){this.element=t,this._changeDetectorRef=o,this._scrollDispatcher=l,this._dir=h,this._group=p,this._destroyed=new gt.x,this.connectedTo=[],this.id="cdk-drop-list-"+VV++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new d.vpe,this.entered=new d.vpe,this.exited=new d.vpe,this.sorted=new d.vpe,this._unsortedItems=new Set,this._dropListRef=r.createDropList(t),this._dropListRef.data=this,y&&this._assignDefaults(y),this._dropListRef.enterPredicate=(C,T)=>this.enterPredicate(C.data,T.data),this._dropListRef.sortPredicate=(C,T,R)=>this.sortPredicate(C,T.data,R.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),n._dropLists.push(this),p&&p._items.add(this)}get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(t){this._dropListRef.disabled=this._disabled=So(t)}addItem(t){this._unsortedItems.add(t),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(t){this._unsortedItems.delete(t),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((t,r)=>t._dragRef.getVisibleElement().compareDocumentPosition(r._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const t=n._dropLists.indexOf(this);t>-1&&n._dropLists.splice(t,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(t){this._dir&&this._dir.change.pipe(Ri(this._dir.value),oh(this._destroyed)).subscribe(r=>t.withDirection(r)),t.beforeStarted.subscribe(()=>{const r=NR(this.connectedTo).map(o=>"string"==typeof o?n._dropLists.find(h=>h.id===o):o);if(this._group&&this._group._items.forEach(o=>{-1===r.indexOf(o)&&r.push(o)}),!this._scrollableParentsResolved){const o=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(l=>l.getElementRef().nativeElement);this._dropListRef.withScrollableParents(o),this._scrollableParentsResolved=!0}t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.sortingDisabled=So(this.sortingDisabled),t.autoScrollDisabled=So(this.autoScrollDisabled),t.autoScrollStep=OR(this.autoScrollStep,2),t.connectedTo(r.filter(o=>o&&o!==this).map(o=>o._dropListRef)).withOrientation(this.orientation)})}_handleEvents(t){t.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(r=>{this.entered.emit({container:this,item:r.item.data,currentIndex:r.currentIndex})}),t.exited.subscribe(r=>{this.exited.emit({container:this,item:r.item.data}),this._changeDetectorRef.markForCheck()}),t.sorted.subscribe(r=>{this.sorted.emit({previousIndex:r.previousIndex,currentIndex:r.currentIndex,container:this,item:r.item.data})}),t.dropped.subscribe(r=>{this.dropped.emit({previousIndex:r.previousIndex,currentIndex:r.currentIndex,previousContainer:r.previousContainer.data,container:r.container.data,item:r.item.data,isPointerOverContainer:r.isPointerOverContainer,distance:r.distance,dropPoint:r.dropPoint}),this._changeDetectorRef.markForCheck()})}_assignDefaults(t){const{lockAxis:r,draggingDisabled:o,sortingDisabled:l,listAutoScrollDisabled:h,listOrientation:p}=t;this.disabled=null!=o&&o,this.sortingDisabled=null!=l&&l,this.autoScrollDisabled=null!=h&&h,this.orientation=p||"vertical",r&&(this.lockAxis=r)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(t=>t._dragRef))}}return n._dropLists=[],n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(JR),d.Y36(d.sBO),d.Y36(zO),d.Y36(pb,8),d.Y36(eP,12),d.Y36(bN,8))},n.\u0275dir=d.lG2({type:n,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(t,r){2&t&&(d.uIk("id",r.id),d.ekj("cdk-drop-list-disabled",r.disabled)("cdk-drop-list-dragging",r._dropListRef.isDragging())("cdk-drop-list-receiving",r._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],data:["cdkDropListData","data"],orientation:["cdkDropListOrientation","orientation"],id:"id",lockAxis:["cdkDropListLockAxis","lockAxis"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],sortPredicate:["cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],autoScrollStep:["cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[d._Bn([{provide:eP,useValue:void 0},{provide:EN,useExisting:n}])]}),n})();const wN=new d.OlP("CdkDragHandle"),UV=new d.OlP("CdkDragPlaceholder"),jV=new d.OlP("CdkDragPreview");let $V=(()=>{class n{constructor(t,r,o,l,h,p,y,C,T,R,V){this.element=t,this.dropContainer=r,this._ngZone=l,this._viewContainerRef=h,this._dir=y,this._changeDetectorRef=T,this._selfHandle=R,this._parentDrag=V,this._destroyed=new gt.x,this.started=new d.vpe,this.released=new d.vpe,this.ended=new d.vpe,this.entered=new d.vpe,this.exited=new d.vpe,this.dropped=new d.vpe,this.moved=new hn.y(U=>{const Q=this._dragRef.moved.pipe((0,Je.U)(fe=>({source:this,pointerPosition:fe.pointerPosition,event:fe.event,delta:fe.delta,distance:fe.distance}))).subscribe(U);return()=>{Q.unsubscribe()}}),this._dragRef=C.createDrag(t,{dragStartThreshold:p&&null!=p.dragStartThreshold?p.dragStartThreshold:5,pointerDirectionChangeThreshold:p&&null!=p.pointerDirectionChangeThreshold?p.pointerDirectionChangeThreshold:5,zIndex:null==p?void 0:p.zIndex}),this._dragRef.data=this,n._dragInstances.push(this),p&&this._assignDefaults(p),r&&(this._dragRef._withDropContainer(r._dropListRef),r.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(t){this._disabled=So(t),this._dragRef.disabled=this._disabled}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,fi.q)(1),oh(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(t){const r=t.rootElementSelector,o=t.freeDragPosition;r&&!r.firstChange&&this._updateRootElement(),o&&!o.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const t=n._dragInstances.indexOf(this);t>-1&&n._dragInstances.splice(t,1),this._ngZone.runOutsideAngular(()=>{this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_updateRootElement(){var o;const t=this.element.nativeElement;let r=t;this.rootElementSelector&&(r=void 0!==t.closest?t.closest(this.rootElementSelector):null==(o=t.parentElement)?void 0:o.closest(this.rootElementSelector)),this._dragRef.withRootElement(r||t)}_getBoundaryElement(){const t=this.boundaryElement;return t?"string"==typeof t?this.element.nativeElement.closest(t):Or(t):null}_syncInputs(t){t.beforeStarted.subscribe(()=>{if(!t.isDragging()){const r=this._dir,o=this.dragStartDelay,l=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,h=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.dragStartDelay="object"==typeof o&&o?o:OR(o),t.constrainPosition=this.constrainPosition,t.previewClass=this.previewClass,t.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(l).withPreviewTemplate(h).withPreviewContainer(this.previewContainer||"global"),r&&t.withDirection(r.value)}}),t.beforeStarted.pipe((0,fi.q)(1)).subscribe(()=>{var o;if(this._parentDrag)return void t.withParent(this._parentDrag._dragRef);let r=this.element.nativeElement.parentElement;for(;r;){if(r.classList.contains("cdk-drag")){t.withParent((null==(o=n._dragInstances.find(l=>l.element.nativeElement===r))?void 0:o._dragRef)||null);break}r=r.parentElement}})}_handleEvents(t){t.started.subscribe(()=>{this.started.emit({source:this}),this._changeDetectorRef.markForCheck()}),t.released.subscribe(()=>{this.released.emit({source:this})}),t.ended.subscribe(r=>{this.ended.emit({source:this,distance:r.distance,dropPoint:r.dropPoint}),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(r=>{this.entered.emit({container:r.container.data,item:this,currentIndex:r.currentIndex})}),t.exited.subscribe(r=>{this.exited.emit({container:r.container.data,item:this})}),t.dropped.subscribe(r=>{this.dropped.emit({previousIndex:r.previousIndex,currentIndex:r.currentIndex,previousContainer:r.previousContainer.data,container:r.container.data,isPointerOverContainer:r.isPointerOverContainer,item:this,distance:r.distance,dropPoint:r.dropPoint})})}_assignDefaults(t){const{lockAxis:r,dragStartDelay:o,constrainPosition:l,previewClass:h,boundaryElement:p,draggingDisabled:y,rootElementSelector:C,previewContainer:T}=t;this.disabled=null!=y&&y,this.dragStartDelay=o||0,r&&(this.lockAxis=r),l&&(this.constrainPosition=l),h&&(this.previewClass=h),p&&(this.boundaryElement=p),C&&(this.rootElementSelector=C),T&&(this.previewContainer=T)}_setupHandlesListener(){this._handles.changes.pipe(Ri(this._handles),(0,fn.b)(t=>{const r=t.filter(o=>o._parentDrag===this).map(o=>o.element);this._selfHandle&&this.rootElementSelector&&r.push(this.element),this._dragRef.withHandles(r)}),Zr(t=>(0,_g.T)(...t.map(r=>r._stateChanges.pipe(Ri(r))))),oh(this._destroyed)).subscribe(t=>{const r=this._dragRef,o=t.element.nativeElement;t.disabled?r.disableHandle(o):r.enableHandle(o)})}}return n._dragInstances=[],n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(EN,12),d.Y36(ne),d.Y36(d.R0b),d.Y36(d.s_b),d.Y36(bN,8),d.Y36(pb,8),d.Y36(JR),d.Y36(d.sBO),d.Y36(wN,10),d.Y36(vN,12))},n.\u0275dir=d.lG2({type:n,selectors:[["","cdkDrag",""]],contentQueries:function(t,r,o){if(1&t&&(d.Suo(o,jV,5),d.Suo(o,UV,5),d.Suo(o,wN,5)),2&t){let l;d.iGM(l=d.CRH())&&(r._previewTemplate=l.first),d.iGM(l=d.CRH())&&(r._placeholderTemplate=l.first),d.iGM(l=d.CRH())&&(r._handles=l)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(t,r){2&t&&d.ekj("cdk-drag-disabled",r.disabled)("cdk-drag-dragging",r._dragRef.isDragging())},inputs:{data:["cdkDragData","data"],lockAxis:["cdkDragLockAxis","lockAxis"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],boundaryElement:["cdkDragBoundary","boundaryElement"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"],disabled:["cdkDragDisabled","disabled"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],previewContainer:["cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[d._Bn([{provide:vN,useExisting:n}]),d.TTD]}),n})(),tP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[JR],imports:[zR]}),n})(),TS=(()=>{class n{constructor(t,r){this.firebaseService=t,this.firebaseFirestore=r,this.initBoard=[],this.board=this.initBoard,this.board$=new hr(this.initBoard)}ngOnInit(){}generateInitBoard(t){this.initBoard=t,this.board=this.initBoard,this.board$=new hr(this.initBoard),console.log("generate init board works")}getBoard$(){return this.board$.asObservable()}deleteCard(t,r){this.board=this.board.map(o=>(console.log("columnId",r,"column.id",o.id),o.id===r&&(o.list=o.list.filter(l=>l.id!==t)),o)),this.board$.next([...this.board])}deleteColumn(t){this.board=this.board.filter(r=>r.id!==t),this.board$.next([...this.board])}addCard(t,r,o){const l={id:Date.now(),text:t,like:[],comments:[]};this.board=this.board.map(h=>(h.id===r&&(h.list=[l,...h.list]),h)),this.firebaseService.addCardToColumnFirestore(o,t,r,l.id),this.board$.next([...this.board])}addColumn(t){const r=Date.now();this.firebaseService.addColumnToFirestore(t,r),this.board=[...this.board,{id:r,title:t,color:"#009886",list:[]}],this.board$.next([...this.board])}changeLike(t,r,o,l){this.board=this.board.map(h=>{if(h.id===r){const p=h.list.map(y=>(y.id===t&&(o?y.like.length++:y.like.length>0&&y.like.length--),y));return h.list=p,h}return h}),this.board$.next([...this.board])}addComment(t,r,o){const l=Date.now();this.board=this.board.map(h=>{if(h.id===t){const p=h.list.map(y=>(y.id===r&&(y.comments=[{id:l,text:o},...y.comments]),y));h.list=p}return h}),this.firebaseService.addCommentToFirestore(t,r,o,l),this.board$.next([...this.board])}deleteComment(t,r,o){this.board=this.board.map(l=>{if(l.id===t){const h=l.list.map(p=>(p.id===r&&(p.comments=p.comments.filter(y=>y.id!==o)),p));l.list=h}return l}),this.board$.next([...this.board])}changeColumnColor(t,r){this.board=this.board.map(o=>(o.id===r&&(o.color=t),o)),this.board$.next([...this.board])}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(hb),d.LFG(_S))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class nP{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class rP extends nP{constructor(e,t,r,o){super(),this.component=e,this.viewContainerRef=t,this.injector=r,this.componentFactoryResolver=o}}class CN extends nP{constructor(e,t,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class zV extends nP{constructor(e){super(),this.element=e instanceof d.SBq?e.nativeElement:e}}class iP{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof rP?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof CN?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof zV?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class GV extends iP{constructor(e,t,r,o,l){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=r,this._defaultInjector=o,this.attachDomPortal=h=>{const p=h.element,y=this._document.createComment("dom-portal");p.parentNode.insertBefore(y,p),this.outletElement.appendChild(p),this._attachedPortal=h,super.setDisposeFn(()=>{y.parentNode&&y.parentNode.replaceChild(p,y)})},this._document=l}attachComponentPortal(e){const r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let o;return e.viewContainerRef?(o=e.viewContainerRef.createComponent(r,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>o.destroy())):(o=r.create(e.injector||this._defaultInjector),this._appRef.attachView(o.hostView),this.setDisposeFn(()=>{this._appRef.detachView(o.hostView),o.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(o)),this._attachedPortal=e,o}attachTemplatePortal(e){let t=e.viewContainerRef,r=t.createEmbeddedView(e.templateRef,e.context);return r.rootNodes.forEach(o=>this.outletElement.appendChild(o)),r.detectChanges(),this.setDisposeFn(()=>{let o=t.indexOf(r);-1!==o&&t.remove(o)}),this._attachedPortal=e,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let DN=(()=>{class n extends iP{constructor(t,r,o){super(),this._componentFactoryResolver=t,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new d.vpe,this.attachDomPortal=l=>{const h=l.element,p=this._document.createComment("dom-portal");l.setAttachedHost(this),h.parentNode.insertBefore(p,h),this._getRootNode().appendChild(h),this._attachedPortal=l,super.setDisposeFn(()=>{p.parentNode&&p.parentNode.replaceChild(h,p)})},this._document=o}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const r=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,l=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),h=r.createComponent(l,r.length,t.injector||r.injector);return r!==this._viewContainerRef&&this._getRootNode().appendChild(h.hostView.rootNodes[0]),super.setDisposeFn(()=>h.destroy()),this._attachedPortal=t,this._attachedRef=h,this.attached.emit(h),h}attachTemplatePortal(t){t.setAttachedHost(this);const r=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d._Vd),d.Y36(d.s_b),d.Y36(ne))},n.\u0275dir=d.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[d.qOj]}),n})(),sP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();const IN=qL();class qV{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=si(-this._previousScrollPosition.left),e.style.top=si(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,r=e.style,o=this._document.body.style,l=r.scrollBehavior||"",h=o.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),IN&&(r.scrollBehavior=o.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),IN&&(r.scrollBehavior=l,o.scrollBehavior=h)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,r=this._viewportRuler.getViewportSize();return t.scrollHeight>r.height||t.scrollWidth>r.width}}class WV{constructor(e,t,r,o){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=r,this._config=o,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class TN{enable(){}disable(){}attach(){}}function oP(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function SN(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class ZV{constructor(e,t,r,o){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=r,this._config=o,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:o}=this._viewportRuler.getViewportSize();oP(t,[{width:r,height:o,bottom:o,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let KV=(()=>{class n{constructor(t,r,o,l){this._scrollDispatcher=t,this._viewportRuler=r,this._ngZone=o,this.noop=()=>new TN,this.close=h=>new WV(this._scrollDispatcher,this._ngZone,this._viewportRuler,h),this.block=()=>new qV(this._viewportRuler,this._document),this.reposition=h=>new ZV(this._scrollDispatcher,this._viewportRuler,this._ngZone,h),this._document=l}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(zO),d.LFG($R),d.LFG(d.R0b),d.LFG(ne))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class AN{constructor(e){if(this.scrollStrategy=new TN,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const r of t)void 0!==e[r]&&(this[r]=e[r])}}}class YV{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let xN=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const r=this._attachedOverlays.indexOf(t);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ne))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),QV=(()=>{class n extends xN{constructor(t){super(t),this._keydownListener=r=>{const o=this._attachedOverlays;for(let l=o.length-1;l>-1;l--)if(o[l]._keydownEvents.observers.length>0){o[l]._keydownEvents.next(r);break}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ne))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),XV=(()=>{class n extends xN{constructor(t,r){super(t),this._platform=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=rl(o)},this._clickListener=o=>{const l=rl(o),h="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:l;this._pointerDownEventTarget=null;const p=this._attachedOverlays.slice();for(let y=p.length-1;y>-1;y--){const C=p[y];if(!(C._outsidePointerEvents.observers.length<1)&&C.hasAttached()){if(C.overlayElement.contains(l)||C.overlayElement.contains(h))break;C._outsidePointerEvents.next(o)}}}}add(t){if(super.add(t),!this._isAttached){const r=this._document.body;r.addEventListener("pointerdown",this._pointerDownListener,!0),r.addEventListener("click",this._clickListener,!0),r.addEventListener("auxclick",this._clickListener,!0),r.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ne),d.LFG(fa))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),aP=(()=>{class n{constructor(t,r){this._platform=r,this._document=t}ngOnDestroy(){var t;null==(t=this._containerElement)||t.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||HR()){const o=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let l=0;l<o.length;l++)o[l].remove()}const r=this._document.createElement("div");r.classList.add(t),HR()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ne),d.LFG(fa))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class JV{constructor(e,t,r,o,l,h,p,y,C){this._portalOutlet=e,this._host=t,this._pane=r,this._config=o,this._ngZone=l,this._keyboardDispatcher=h,this._document=p,this._location=y,this._outsideClickDispatcher=C,this._backdropElement=null,this._backdropClick=new gt.x,this._attachments=new gt.x,this._detachments=new gt.x,this._locationChanges=hi.w0.EMPTY,this._backdropClickHandler=T=>this._backdropClick.next(T),this._keydownEvents=new gt.x,this._outsidePointerEvents=new gt.x,o.scrollStrategy&&(this._scrollStrategy=o.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=o.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){let t=this._portalOutlet.attach(e);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,fi.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){var t;const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null==(t=this._host)||t.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=Ke(Ke({},this._config),e),this._updateElementSize()}setDirection(e){this._config=Ii(Ke({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=si(this._config.width),e.height=si(this._config.height),e.minWidth=si(this._config.minWidth),e.minHeight=si(this._config.minHeight),e.maxWidth=si(this._config.maxWidth),e.maxHeight=si(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(!e)return;let t;const r=()=>{e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",r),this._disposeBackdrop(e)),this._config.backdropClass&&this._toggleClasses(e,this._config.backdropClass,!1),clearTimeout(t)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",r)}),e.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(()=>setTimeout(r,500))}_toggleClasses(e,t,r){const o=NR(t||[]).filter(l=>!!l);o.length&&(r?e.classList.add(...o):e.classList.remove(...o))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(oh((0,_g.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.remove(),this._backdropElement===e&&(this._backdropElement=null))}}const MN="cdk-overlay-connected-position-bounding-box",eB=/([A-Za-z%]+)$/;class tB{constructor(e,t,r,o,l){this._viewportRuler=t,this._document=r,this._platform=o,this._overlayContainer=l,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new gt.x,this._resizeSubscription=hi.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(MN),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const e=this._originRect,t=this._overlayRect,r=this._viewportRect,o=[];let l;for(let h of this._preferredPositions){let p=this._getOriginPoint(e,h),y=this._getOverlayPoint(p,t,h),C=this._getOverlayFit(y,t,r,h);if(C.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(h,p);this._canFitWithFlexibleDimensions(C,y,r)?o.push({position:h,origin:p,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(p,h)}):(!l||l.overlayFit.visibleArea<C.visibleArea)&&(l={overlayFit:C,overlayPoint:y,originPoint:p,position:h,overlayRect:t})}if(o.length){let h=null,p=-1;for(const y of o){const C=y.boundingBoxRect.width*y.boundingBoxRect.height*(y.position.weight||1);C>p&&(p=C,h=y)}return this._isPushed=!1,void this._applyPosition(h.position,h.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(l.position,l.originPoint);this._applyPosition(l.position,l.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Qm(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(MN),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const e=this._lastPosition||this._preferredPositions[0],t=this._getOriginPoint(this._originRect,e);this._applyPosition(e,t)}}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t){let r,o;if("center"==t.originX)r=e.left+e.width/2;else{const l=this._isRtl()?e.right:e.left,h=this._isRtl()?e.left:e.right;r="start"==t.originX?l:h}return o="center"==t.originY?e.top+e.height/2:"top"==t.originY?e.top:e.bottom,{x:r,y:o}}_getOverlayPoint(e,t,r){let o,l;return o="center"==r.overlayX?-t.width/2:"start"===r.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,l="center"==r.overlayY?-t.height/2:"top"==r.overlayY?0:-t.height,{x:e.x+o,y:e.y+l}}_getOverlayFit(e,t,r,o){const l=PN(t);let{x:h,y:p}=e,y=this._getOffset(o,"x"),C=this._getOffset(o,"y");y&&(h+=y),C&&(p+=C);let V=0-p,U=p+l.height-r.height,Q=this._subtractOverflows(l.width,0-h,h+l.width-r.width),fe=this._subtractOverflows(l.height,V,U),De=Q*fe;return{visibleArea:De,isCompletelyWithinViewport:l.width*l.height===De,fitsInViewportVertically:fe===l.height,fitsInViewportHorizontally:Q==l.width}}_canFitWithFlexibleDimensions(e,t,r){if(this._hasFlexibleDimensions){const o=r.bottom-t.y,l=r.right-t.x,h=RN(this._overlayRef.getConfig().minHeight),p=RN(this._overlayRef.getConfig().minWidth),C=e.fitsInViewportHorizontally||null!=p&&p<=l;return(e.fitsInViewportVertically||null!=h&&h<=o)&&C}return!1}_pushOverlayOnScreen(e,t,r){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const o=PN(t),l=this._viewportRect,h=Math.max(e.x+o.width-l.width,0),p=Math.max(e.y+o.height-l.height,0),y=Math.max(l.top-r.top-e.y,0),C=Math.max(l.left-r.left-e.x,0);let T=0,R=0;return T=o.width<=l.width?C||-h:e.x<this._viewportMargin?l.left-r.left-e.x:0,R=o.height<=l.height?y||-p:e.y<this._viewportMargin?l.top-r.top-e.y:0,this._previousPushAmount={x:T,y:R},{x:e.x+T,y:e.y+R}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const r=this._getScrollVisibility(),o=new YV(e,r);this._positionChanges.next(o)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,o=e.overlayY;r="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let l=0;l<t.length;l++)t[l].style.transformOrigin=`${r} ${o}`}_calculateBoundingBoxRect(e,t){const r=this._viewportRect,o=this._isRtl();let l,h,p,T,R,V;if("top"===t.overlayY)h=e.y,l=r.height-h+this._viewportMargin;else if("bottom"===t.overlayY)p=r.height-e.y+2*this._viewportMargin,l=r.height-p+this._viewportMargin;else{const U=Math.min(r.bottom-e.y+r.top,e.y),Q=this._lastBoundingBoxSize.height;l=2*U,h=e.y-U,l>Q&&!this._isInitialRender&&!this._growAfterOpen&&(h=e.y-Q/2)}if("end"===t.overlayX&&!o||"start"===t.overlayX&&o)V=r.width-e.x+this._viewportMargin,T=e.x-this._viewportMargin;else if("start"===t.overlayX&&!o||"end"===t.overlayX&&o)R=e.x,T=r.right-e.x;else{const U=Math.min(r.right-e.x+r.left,e.x),Q=this._lastBoundingBoxSize.width;T=2*U,R=e.x-U,T>Q&&!this._isInitialRender&&!this._growAfterOpen&&(R=e.x-Q/2)}return{top:h,left:R,bottom:p,right:V,width:T,height:l}}_setBoundingBoxStyles(e,t){const r=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const o={};if(this._hasExactPosition())o.top=o.left="0",o.bottom=o.right=o.maxHeight=o.maxWidth="",o.width=o.height="100%";else{const l=this._overlayRef.getConfig().maxHeight,h=this._overlayRef.getConfig().maxWidth;o.height=si(r.height),o.top=si(r.top),o.bottom=si(r.bottom),o.width=si(r.width),o.left=si(r.left),o.right=si(r.right),o.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",o.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",l&&(o.maxHeight=si(l)),h&&(o.maxWidth=si(h))}this._lastBoundingBoxSize=r,Qm(this._boundingBox.style,o)}_resetBoundingBoxStyles(){Qm(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Qm(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const r={},o=this._hasExactPosition(),l=this._hasFlexibleDimensions,h=this._overlayRef.getConfig();if(o){const T=this._viewportRuler.getViewportScrollPosition();Qm(r,this._getExactOverlayY(t,e,T)),Qm(r,this._getExactOverlayX(t,e,T))}else r.position="static";let p="",y=this._getOffset(t,"x"),C=this._getOffset(t,"y");y&&(p+=`translateX(${y}px) `),C&&(p+=`translateY(${C}px)`),r.transform=p.trim(),h.maxHeight&&(o?r.maxHeight=si(h.maxHeight):l&&(r.maxHeight="")),h.maxWidth&&(o?r.maxWidth=si(h.maxWidth):l&&(r.maxWidth="")),Qm(this._pane.style,r)}_getExactOverlayY(e,t,r){let o={top:"",bottom:""},l=this._getOverlayPoint(t,this._overlayRect,e);this._isPushed&&(l=this._pushOverlayOnScreen(l,this._overlayRect,r));let h=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return l.y-=h,"bottom"===e.overlayY?o.bottom=this._document.documentElement.clientHeight-(l.y+this._overlayRect.height)+"px":o.top=si(l.y),o}_getExactOverlayX(e,t,r){let h,o={left:"",right:""},l=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(l=this._pushOverlayOnScreen(l,this._overlayRect,r)),h=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===h?o.right=this._document.documentElement.clientWidth-(l.x+this._overlayRect.width)+"px":o.left=si(l.x),o}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),r=this._scrollables.map(o=>o.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:SN(e,r),isOriginOutsideView:oP(e,r),isOverlayClipped:SN(t,r),isOverlayOutsideView:oP(t,r)}}_subtractOverflows(e,...t){return t.reduce((r,o)=>r-Math.max(o,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+e-this._viewportMargin,bottom:r.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&NR(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof d.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,r=e.height||0;return{top:e.y,bottom:e.y+r,left:e.x,right:e.x+t,height:r,width:t}}}function Qm(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function RN(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(eB);return t&&"px"!==t?null:parseFloat(e)}return n||null}function PN(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const kN="cdk-global-overlay-wrapper";class nB{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(kN),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._rightOffset="",this._leftOffset=e,this._justifyContent="flex-start",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._leftOffset="",this._rightOffset=e,this._justifyContent="flex-end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._justifyContent="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:o,height:l,maxWidth:h,maxHeight:p}=r,y=!("100%"!==o&&"100vw"!==o||h&&"100%"!==h&&"100vw"!==h),C=!("100%"!==l&&"100vh"!==l||p&&"100%"!==p&&"100vh"!==p);e.position=this._cssPosition,e.marginLeft=y?"0":this._leftOffset,e.marginTop=C?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=this._rightOffset,y?t.justifyContent="flex-start":"center"===this._justifyContent?t.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?t.justifyContent="flex-end":"flex-end"===this._justifyContent&&(t.justifyContent="flex-start"):t.justifyContent=this._justifyContent,t.alignItems=C?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,r=t.style;t.classList.remove(kN),r.justifyContent=r.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let rB=(()=>{class n{constructor(t,r,o,l){this._viewportRuler=t,this._document=r,this._platform=o,this._overlayContainer=l}global(){return new nB}flexibleConnectedTo(t){return new tB(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG($R),d.LFG(ne),d.LFG(fa),d.LFG(aP))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),iB=0,SS=(()=>{class n{constructor(t,r,o,l,h,p,y,C,T,R,V){this.scrollStrategies=t,this._overlayContainer=r,this._componentFactoryResolver=o,this._positionBuilder=l,this._keyboardDispatcher=h,this._injector=p,this._ngZone=y,this._document=C,this._directionality=T,this._location=R,this._outsideClickDispatcher=V}create(t){const r=this._createHostElement(),o=this._createPaneElement(r),l=this._createPortalOutlet(o),h=new AN(t);return h.direction=h.direction||this._directionality.value,new JV(l,r,o,h,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const r=this._document.createElement("div");return r.id="cdk-overlay-"+iB++,r.classList.add("cdk-overlay-pane"),t.appendChild(r),r}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(d.z2F)),new GV(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(KV),d.LFG(aP),d.LFG(d._Vd),d.LFG(rB),d.LFG(QV),d.LFG(d.zs3),d.LFG(d.R0b),d.LFG(ne),d.LFG(pb),d.LFG(qe),d.LFG(XV))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const aB={provide:new d.OlP("cdk-connected-overlay-scroll-strategy"),deps:[SS],useFactory:function(n){return()=>n.scrollStrategies.reposition()}};let lB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[SS,aB],imports:[[_0,sP,GO],GO]}),n})();const ON=new d.GfV("13.0.1");class NN{}const ah="*";function AS(n,e){return{type:7,name:n,definitions:e,options:{}}}function E0(n,e=null){return{type:4,styles:e,timings:n}}function FN(n,e=null){return{type:2,steps:n,options:e}}function il(n){return{type:6,styles:n,offset:null}}function Xm(n,e,t){return{type:0,name:n,styles:e,options:t}}function w0(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function LN(n){Promise.resolve(null).then(n)}class _b{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){LN(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class VN{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,o=0;const l=this.players.length;0==l?LN(()=>this._onFinish()):this.players.forEach(h=>{h.onDone(()=>{++t==l&&this._onFinish()}),h.onDestroy(()=>{++r==l&&this._onDestroy()}),h.onStart(()=>{++o==l&&this._onStart()})}),this.totalTime=this.players.reduce((h,p)=>Math.max(h,p.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const o=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(o)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}function BN(){return"undefined"!=typeof window&&void 0!==window.document}function cP(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function up(n){switch(n.length){case 0:return new _b;case 1:return n[0];default:return new VN(n)}}function UN(n,e,t,r,o={},l={}){const h=[],p=[];let y=-1,C=null;if(r.forEach(T=>{const R=T.offset,V=R==y,U=V&&C||{};Object.keys(T).forEach(Q=>{let fe=Q,De=T[Q];if("offset"!==Q)switch(fe=e.normalizePropertyName(fe,h),De){case"!":De=o[Q];break;case ah:De=l[Q];break;default:De=e.normalizeStyleValue(Q,fe,De,h)}U[fe]=De}),V||p.push(U),C=U,y=R}),h.length){const T="\n - ";throw new Error(`Unable to animate due to the following errors:${T}${h.join(T)}`)}return p}function uP(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&dP(t,"start",n)));break;case"done":n.onDone(()=>r(t&&dP(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&dP(t,"destroy",n)))}}function dP(n,e,t){const r=t.totalTime,l=hP(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==r?n.totalTime:r,!!t.disabled),h=n._data;return null!=h&&(l._data=h),l}function hP(n,e,t,r,o="",l=0,h){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:o,totalTime:l,disabled:!!h}}function pa(n,e,t){let r;return n instanceof Map?(r=n.get(e),r||n.set(e,r=t)):(r=n[e],r||(r=n[e]=t)),r}function jN(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let fP=(n,e)=>!1,pP=(n,e)=>!1,HN=(n,e,t)=>[];const $N=cP();($N||"undefined"!=typeof Element)&&(fP=BN()?(n,e)=>{for(;e&&e!==document.documentElement;){if(e===n)return!0;e=e.parentNode||e.host}return!1}:(n,e)=>n.contains(e),pP=(()=>{if($N||Element.prototype.matches)return(n,e)=>n.matches(e);{const n=Element.prototype,e=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector;return e?(t,r)=>e.apply(t,[r]):pP}})(),HN=(n,e,t)=>{let r=[];if(t){const o=n.querySelectorAll(e);for(let l=0;l<o.length;l++)r.push(o[l])}else{const o=n.querySelector(e);o&&r.push(o)}return r});let Jm=null,zN=!1;function gP(n){Jm||(Jm=("undefined"!=typeof document?document.body:null)||{},zN=!!Jm.style&&"WebkitAppearance"in Jm.style);let e=!0;return Jm.style&&!function(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Jm.style,!e&&zN&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in Jm.style)),e}const mP=pP,_P=fP,yP=HN;function GN(n){const e={};return Object.keys(n).forEach(t=>{const r=t.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=n[t]}),e}let qN=(()=>{class n{validateStyleProperty(t){return gP(t)}matchesElement(t,r){return mP(t,r)}containsElement(t,r){return _P(t,r)}query(t,r,o){return yP(t,r,o)}computeStyle(t,r,o){return o||""}animate(t,r,o,l,h,p=[],y){return new _b(o,l)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),vP=(()=>{class n{}return n.NOOP=new qN,n})();const bP="ng-enter",xS="ng-leave",MS="ng-trigger",RS=".ng-trigger",ZN="ng-animating",EP=".ng-animating";function e_(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:wP(parseFloat(e[1]),e[2])}function wP(n,e){return"s"===e?1e3*n:n}function PS(n,e,t){return n.hasOwnProperty("duration")?n:function(n,e,t){let o,l=0,h="";if("string"==typeof n){const p=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===p)return e.push(`The provided timing value "${n}" is invalid.`),{duration:0,delay:0,easing:""};o=wP(parseFloat(p[1]),p[2]);const y=p[3];null!=y&&(l=wP(parseFloat(y),p[4]));const C=p[5];C&&(h=C)}else o=n;if(!t){let p=!1,y=e.length;o<0&&(e.push("Duration values below 0 are not allowed for this animation step."),p=!0),l<0&&(e.push("Delay values below 0 are not allowed for this animation step."),p=!0),p&&e.splice(y,0,`The provided timing value "${n}" is invalid.`)}return{duration:o,delay:l,easing:h}}(n,e,t)}function yb(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function dp(n,e,t={}){if(e)for(let r in n)t[r]=n[r];else yb(n,t);return t}function YN(n,e,t){return t?e+":"+t+";":""}function QN(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=YN(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=YN(0,_B(t),n.style[t]));n.setAttribute("style",e)}function Au(n,e,t){n.style&&(Object.keys(e).forEach(r=>{const o=DP(r);t&&!t.hasOwnProperty(r)&&(t[r]=n.style[o]),n.style[o]=e[r]}),cP()&&QN(n))}function t_(n,e){n.style&&(Object.keys(e).forEach(t=>{const r=DP(t);n.style[r]=""}),cP()&&QN(n))}function C0(n){return Array.isArray(n)?1==n.length?n[0]:FN(n):n}const CP=new RegExp("{{\\s*(.+?)\\s*}}","g");function XN(n){let e=[];if("string"==typeof n){let t;for(;t=CP.exec(n);)e.push(t[1]);CP.lastIndex=0}return e}function kS(n,e,t){const r=n.toString(),o=r.replace(CP,(l,h)=>{let p=e[h];return e.hasOwnProperty(h)||(t.push(`Please provide a value for the animation param ${h}`),p=""),p.toString()});return o==r?n:o}function OS(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const mB=/-+([a-z0-9])/g;function DP(n){return n.replace(mB,(...e)=>e[1].toUpperCase())}function _B(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function JN(n,e){return 0===n||0===e}function e1(n,e,t){const r=Object.keys(t);if(r.length&&e.length){let l=e[0],h=[];if(r.forEach(p=>{l.hasOwnProperty(p)||h.push(p),l[p]=t[p]}),h.length)for(var o=1;o<e.length;o++){let p=e[o];h.forEach(function(y){p[y]=IP(n,y)})}}return e}function ga(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function IP(n,e){return window.getComputedStyle(n)[e]}function yB(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function(n,e,t){if(":"==n[0]){const y=function(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(`The transition alias value "${n}" is not supported`),"* => *"}}(n,t);if("function"==typeof y)return void e.push(y);n=y}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(`The provided transition expression "${n}" is not supported`),e;const o=r[1],l=r[2],h=r[3];e.push(t1(o,h));"<"==l[0]&&!("*"==o&&"*"==h)&&e.push(t1(h,o))}(r,t,e)):t.push(n),t}const FS=new Set(["true","1"]),LS=new Set(["false","0"]);function t1(n,e){const t=FS.has(n)||LS.has(n),r=FS.has(e)||LS.has(e);return(o,l)=>{let h="*"==n||n==o,p="*"==e||e==l;return!h&&t&&"boolean"==typeof o&&(h=o?FS.has(n):LS.has(n)),!p&&r&&"boolean"==typeof l&&(p=l?FS.has(e):LS.has(e)),h&&p}}const EB=new RegExp("s*:selfs*,?","g");function TP(n,e,t){return new wB(n).build(e,t)}class wB{constructor(e){this._driver=e}build(e,t){const r=new IB(t);return this._resetContextStyleTimingState(r),ga(this,C0(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,o=t.depCount=0;const l=[],h=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(p=>{if(this._resetContextStyleTimingState(t),0==p.type){const y=p,C=y.name;C.toString().split(/\s*,\s*/).forEach(T=>{y.name=T,l.push(this.visitState(y,t))}),y.name=C}else if(1==p.type){const y=this.visitTransition(p,t);r+=y.queryCount,o+=y.depCount,h.push(y)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:l,transitions:h,queryCount:r,depCount:o,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),o=e.options&&e.options.params||null;if(r.containsDynamicStyles){const l=new Set,h=o||{};if(r.styles.forEach(p=>{if(VS(p)){const y=p;Object.keys(y).forEach(C=>{XN(y[C]).forEach(T=>{h.hasOwnProperty(T)||l.add(T)})})}}),l.size){const p=OS(l.values());t.errors.push(`state("${e.name}", ...) must define default values for all the following style substitutions: ${p.join(", ")}`)}}return{type:0,name:e.name,style:r,options:o?{params:o}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=ga(this,C0(e.animation),t);return{type:1,matchers:yB(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:n_(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>ga(this,r,t)),options:n_(e.options)}}visitGroup(e,t){const r=t.currentTime;let o=0;const l=e.steps.map(h=>{t.currentTime=r;const p=ga(this,h,t);return o=Math.max(o,t.currentTime),p});return t.currentTime=o,{type:3,steps:l,options:n_(e.options)}}visitAnimate(e,t){const r=function(n,e){let t=null;if(n.hasOwnProperty("duration"))t=n;else if("number"==typeof n)return SP(PS(n,e).duration,0,"");const r=n;if(r.split(/\s+/).some(l=>"{"==l.charAt(0)&&"{"==l.charAt(1))){const l=SP(0,0,"");return l.dynamic=!0,l.strValue=r,l}return t=t||PS(r,e),SP(t.duration,t.delay,t.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let o,l=e.styles?e.styles:il({});if(5==l.type)o=this.visitKeyframes(l,t);else{let h=e.styles,p=!1;if(!h){p=!0;const C={};r.easing&&(C.easing=r.easing),h=il(C)}t.currentTime+=r.duration+r.delay;const y=this.visitStyle(h,t);y.isEmptyStep=p,o=y}return t.currentAnimateTimings=null,{type:4,timings:r,style:o,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[];Array.isArray(e.styles)?e.styles.forEach(h=>{"string"==typeof h?h==ah?r.push(h):t.errors.push(`The provided style string value ${h} is not allowed.`):r.push(h)}):r.push(e.styles);let o=!1,l=null;return r.forEach(h=>{if(VS(h)){const p=h,y=p.easing;if(y&&(l=y,delete p.easing),!o)for(let C in p)if(p[C].toString().indexOf("{{")>=0){o=!0;break}}}),{type:6,styles:r,easing:l,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let o=t.currentTime,l=t.currentTime;r&&l>0&&(l-=r.duration+r.delay),e.styles.forEach(h=>{"string"!=typeof h&&Object.keys(h).forEach(p=>{if(!this._driver.validateStyleProperty(p))return void t.errors.push(`The provided animation property "${p}" is not a supported CSS property for animations`);const y=t.collectedStyles[t.currentQuerySelector],C=y[p];let T=!0;C&&(l!=o&&l>=C.startTime&&o<=C.endTime&&(t.errors.push(`The CSS property "${p}" that exists between the times of "${C.startTime}ms" and "${C.endTime}ms" is also being animated in a parallel animation between the times of "${l}ms" and "${o}ms"`),T=!1),l=C.startTime),T&&(y[p]={startTime:l,endTime:o}),t.options&&function(n,e,t){const r=e.params||{},o=XN(n);o.length&&o.forEach(l=>{r.hasOwnProperty(l)||t.push(`Unable to resolve the local animation param ${l} in the given list of values`)})}(h[p],t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),r;let l=0;const h=[];let p=!1,y=!1,C=0;const T=e.steps.map(lt=>{const Et=this._makeStyleAst(lt,t);let Lt=null!=Et.offset?Et.offset:function(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(VS(t)&&t.hasOwnProperty("offset")){const r=t;e=parseFloat(r.offset),delete r.offset}});else if(VS(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(Et.styles),ht=0;return null!=Lt&&(l++,ht=Et.offset=Lt),y=y||ht<0||ht>1,p=p||ht<C,C=ht,h.push(ht),Et});y&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),p&&t.errors.push("Please ensure that all keyframe offsets are in order");const R=e.steps.length;let V=0;l>0&&l<R?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==l&&(V=1/(R-1));const U=R-1,Q=t.currentTime,fe=t.currentAnimateTimings,De=fe.duration;return T.forEach((lt,Et)=>{const Lt=V>0?Et==U?1:V*Et:h[Et],ht=Lt*De;t.currentTime=Q+fe.delay+ht,fe.duration=ht,this._validateStyleAst(lt,t),lt.offset=Lt,r.styles.push(lt)}),r}visitReference(e,t){return{type:8,animation:ga(this,C0(e.animation),t),options:n_(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:n_(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:n_(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,o=e.options||{};t.queryCount++,t.currentQuery=e;const[l,h]=function(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(EB,"")),n=n.replace(/@\*/g,RS).replace(/@\w+/g,t=>RS+"-"+t.substr(1)).replace(/:animating/g,EP),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+l:l,pa(t.collectedStyles,t.currentQuerySelector,{});const p=ga(this,C0(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:l,limit:o.limit||0,optional:!!o.optional,includeSelf:h,animation:p,originalSelector:e.selector,options:n_(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:PS(e.timings,t.errors,!0);return{type:12,animation:ga(this,C0(e.animation),t),timings:r,options:null}}}class IB{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function VS(n){return!Array.isArray(n)&&"object"==typeof n}function n_(n){return n?(n=yb(n)).params&&(n.params=function(n){return n?yb(n):null}(n.params)):n={},n}function SP(n,e,t){return{duration:n,delay:e,easing:t}}function AP(n,e,t,r,o,l,h=null,p=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:o,delay:l,totalTime:o+l,easing:h,subTimeline:p}}class BS{constructor(){this._map=new Map}consume(e){let t=this._map.get(e);return t?this._map.delete(e):t=[],t}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const MB=new RegExp(":enter","g"),PB=new RegExp(":leave","g");function xP(n,e,t,r,o,l={},h={},p,y,C=[]){return(new kB).buildKeyframes(n,e,t,r,o,l,h,p,y,C)}class kB{buildKeyframes(e,t,r,o,l,h,p,y,C,T=[]){C=C||new BS;const R=new MP(e,t,C,o,l,T,[]);R.options=y,R.currentTimeline.setStyles([h],null,R.errors,y),ga(this,r,R);const V=R.timelines.filter(U=>U.containsAnimation());if(V.length&&Object.keys(p).length){const U=V[V.length-1];U.allowOnlyTimelineStyles()||U.setStyles([p],null,R.errors,y)}return V.length?V.map(U=>U.buildKeyframes()):[AP(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.consume(t.element);if(r){const o=t.createSubContext(e.options),l=t.currentTimeline.currentTime,h=this._visitSubInstructions(r,o,o.options);l!=h&&t.transformIntoNewTimeline(h)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,r){let l=t.currentTimeline.currentTime;const h=null!=r.duration?e_(r.duration):null,p=null!=r.delay?e_(r.delay):null;return 0!==h&&e.forEach(y=>{const C=t.appendInstructionToTimeline(y,h,p);l=Math.max(l,C.duration+C.delay)}),l}visitReference(e,t){t.updateOptions(e.options,!0),ga(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let o=t;const l=e.options;if(l&&(l.params||l.delay)&&(o=t.createSubContext(l),o.transformIntoNewTimeline(),null!=l.delay)){6==o.previousNode.type&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=US);const h=e_(l.delay);o.delayNextStep(h)}e.steps.length&&(e.steps.forEach(h=>ga(this,h,o)),o.currentTimeline.applyStylesToKeyframe(),o.subContextCount>r&&o.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let o=t.currentTimeline.currentTime;const l=e.options&&e.options.delay?e_(e.options.delay):0;e.steps.forEach(h=>{const p=t.createSubContext(e.options);l&&p.delayNextStep(l),ga(this,h,p),o=Math.max(o,p.currentTimeline.currentTime),r.push(p.currentTimeline)}),r.forEach(h=>t.currentTimeline.mergeTimelineCollectedStyles(h)),t.transformIntoNewTimeline(o),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return PS(t.params?kS(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),o=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),o.snapshotCurrentStyles());const l=e.style;5==l.type?this.visitKeyframes(l,t):(t.incrementTime(r.duration),this.visitStyle(l,t),o.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,o=t.currentAnimateTimings;!o&&r.getCurrentStyleProperties().length&&r.forwardFrame();const l=o&&o.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(l):r.setStyles(e.styles,l,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,o=t.currentTimeline.duration,l=r.duration,p=t.createSubContext().currentTimeline;p.easing=r.easing,e.styles.forEach(y=>{p.forwardTime((y.offset||0)*l),p.setStyles(y.styles,y.easing,t.errors,t.options),p.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(p),t.transformIntoNewTimeline(o+l),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,o=e.options||{},l=o.delay?e_(o.delay):0;l&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=US);let h=r;const p=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!o.optional,t.errors);t.currentQueryTotal=p.length;let y=null;p.forEach((C,T)=>{t.currentQueryIndex=T;const R=t.createSubContext(e.options,C);l&&R.delayNextStep(l),C===t.element&&(y=R.currentTimeline),ga(this,e.animation,R),R.currentTimeline.applyStylesToKeyframe(),h=Math.max(h,R.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(h),y&&(t.currentTimeline.mergeTimelineCollectedStyles(y),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,o=t.currentTimeline,l=e.timings,h=Math.abs(l.duration),p=h*(t.currentQueryTotal-1);let y=h*t.currentQueryIndex;switch(l.duration<0?"reverse":l.easing){case"reverse":y=p-y;break;case"full":y=r.currentStaggerTime}const T=t.currentTimeline;y&&T.delayNextStep(y);const R=T.currentTime;ga(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=o.currentTime-R+(o.startTime-r.currentTimeline.startTime)}}const US={};class MP{constructor(e,t,r,o,l,h,p,y){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=o,this._leaveClassName=l,this.errors=h,this.timelines=p,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=US,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=y||new jS(this._driver,t,0),p.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let o=this.options;null!=r.duration&&(o.duration=e_(r.duration)),null!=r.delay&&(o.delay=e_(r.delay));const l=r.params;if(l){let h=o.params;h||(h=this.options.params={}),Object.keys(l).forEach(p=>{(!t||!h.hasOwnProperty(p))&&(h[p]=kS(l[p],h,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(o=>{r[o]=t[o]})}}return e}createSubContext(e=null,t,r){const o=t||this.element,l=new MP(this._driver,o,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(o,r||0));return l.previousNode=this.previousNode,l.currentAnimateTimings=this.currentAnimateTimings,l.options=this._copyOptions(),l.updateOptions(e),l.currentQueryIndex=this.currentQueryIndex,l.currentQueryTotal=this.currentQueryTotal,l.parentContext=this,this.subContextCount++,l}transformIntoNewTimeline(e){return this.previousNode=US,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const o={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+e.delay,easing:""},l=new OB(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,o,e.stretchStartingKeyframe);return this.timelines.push(l),o}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,o,l,h){let p=[];if(o&&p.push(this.element),e.length>0){e=(e=e.replace(MB,"."+this._enterClassName)).replace(PB,"."+this._leaveClassName);let C=this._driver.query(this.element,e,1!=r);0!==r&&(C=r<0?C.slice(C.length+r,C.length):C.slice(0,r)),p.push(...C)}return!l&&0==p.length&&h.push(`\`query("${t}")\` returned zero elements. (Use \`query("${t}", { optional: true })\` if you wish to allow this.)`),p}}class jS{constructor(e,t,r,o){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=o,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new jS(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||ah,this._currentKeyframe[t]=ah}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,o){t&&(this._previousKeyframe.easing=t);const l=o&&o.params||{},h=function(n,e){const t={};let r;return n.forEach(o=>{"*"===o?(r=r||Object.keys(e),r.forEach(l=>{t[l]=ah})):dp(o,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(h).forEach(p=>{const y=kS(h[p],l,r);this._pendingStyles[p]=y,this._localTimelineStyles.hasOwnProperty(p)||(this._backFill[p]=this._globalTimelineStyles.hasOwnProperty(p)?this._globalTimelineStyles[p]:ah),this._updateStyle(p,y)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(r=>{this._currentKeyframe[r]=e[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const r=this._styleSummary[t],o=e._styleSummary[t];(!r||o.time>r.time)&&this._updateStyle(t,o.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let o=[];this._keyframes.forEach((p,y)=>{const C=dp(p,!0);Object.keys(C).forEach(T=>{const R=C[T];"!"==R?e.add(T):R==ah&&t.add(T)}),r||(C.offset=y/this.duration),o.push(C)});const l=e.size?OS(e.values()):[],h=t.size?OS(t.values()):[];if(r){const p=o[0],y=yb(p);p.offset=0,y.offset=1,o=[p,y]}return AP(this.element,o,l,h,this.duration,this.startTime,this.easing,!1)}}class OB extends jS{constructor(e,t,r,o,l,h,p=!1){super(e,t,h.delay),this.keyframes=r,this.preStyleProps=o,this.postStyleProps=l,this._stretchStartingKeyframe=p,this.timings={duration:h.duration,delay:h.delay,easing:h.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:o}=this.timings;if(this._stretchStartingKeyframe&&t){const l=[],h=r+t,p=t/h,y=dp(e[0],!1);y.offset=0,l.push(y);const C=dp(e[0],!1);C.offset=s1(p),l.push(C);const T=e.length-1;for(let R=1;R<=T;R++){let V=dp(e[R],!1);V.offset=s1((t+V.offset*r)/h),l.push(V)}r=h,t=0,o="",e=l}return AP(this.element,e,this.preStyleProps,this.postStyleProps,r,t,o,!0)}}function s1(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class RP{}class FB extends RP{normalizePropertyName(e,t){return DP(e)}normalizeStyleValue(e,t,r,o){let l="";const h=r.toString().trim();if(LB[t]&&0!==r&&"0"!==r)if("number"==typeof r)l="px";else{const p=r.match(/^[+-]?[\d\.]+([a-z]*)$/);p&&0==p[1].length&&o.push(`Please provide a CSS unit value for ${e}:${r}`)}return h+l}}const LB=(()=>function(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function o1(n,e,t,r,o,l,h,p,y,C,T,R,V){return{type:0,element:n,triggerName:e,isRemovalTransition:o,fromState:t,fromStyles:l,toState:r,toStyles:h,timelines:p,queriedElements:y,preStyleProps:C,postStyleProps:T,totalTime:R,errors:V}}const PP={};class a1{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,o){return function(n,e,t,r,o){return n.some(l=>l(e,t,r,o))}(this.ast.matchers,e,t,r,o)}buildStyles(e,t,r){const o=this._stateStyles["*"],l=this._stateStyles[e],h=o?o.buildStyles(t,r):{};return l?l.buildStyles(t,r):h}build(e,t,r,o,l,h,p,y,C,T){const R=[],V=this.ast.options&&this.ast.options.params||PP,Q=this.buildStyles(r,p&&p.params||PP,R),fe=y&&y.params||PP,De=this.buildStyles(o,fe,R),lt=new Set,Et=new Map,Lt=new Map,ht="void"===o,Cn={params:Ke(Ke({},V),fe)},Er=T?[]:xP(e,t,this.ast.animation,l,h,Q,De,Cn,C,R);let ls=0;if(Er.forEach(ch=>{ls=Math.max(ch.duration+ch.delay,ls)}),R.length)return o1(t,this._triggerName,r,o,ht,Q,De,[],[],Et,Lt,ls,R);Er.forEach(ch=>{const uh=ch.element,yF=pa(Et,uh,{});ch.preStyleProps.forEach(i_=>yF[i_]=!0);const A0=pa(Lt,uh,{});ch.postStyleProps.forEach(i_=>A0[i_]=!0),uh!==t&&lt.add(uh)});const lh=OS(lt.values());return o1(t,this._triggerName,r,o,ht,Q,De,Er,lh,Et,Lt,ls)}}class UB{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r={},o=yb(this.defaultParams);return Object.keys(e).forEach(l=>{const h=e[l];null!=h&&(o[l]=h)}),this.styles.styles.forEach(l=>{if("string"!=typeof l){const h=l;Object.keys(h).forEach(p=>{let y=h[p];y.length>1&&(y=kS(y,o,t));const C=this.normalizer.normalizePropertyName(p,t);y=this.normalizer.normalizeStyleValue(p,C,y,t),r[C]=y})}}),r}}class HB{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states={},t.states.forEach(o=>{this.states[o.name]=new UB(o.style,o.options&&o.options.params||{},r)}),l1(this.states,"true","1"),l1(this.states,"false","0"),t.transitions.forEach(o=>{this.transitionFactories.push(new a1(e,o,this.states))}),this.fallbackTransition=function(n,e,t){return new a1(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(h,p)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,o){return this.transitionFactories.find(h=>h.match(e,t,r,o))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function l1(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const zB=new BS;class GB{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(e,t){const r=[],o=TP(this._driver,t,r);if(r.length)throw new Error(`Unable to build the animation due to the following errors: ${r.join("\n")}`);this._animations[e]=o}_buildPlayer(e,t,r){const o=e.element,l=UN(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(o,l,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const o=[],l=this._animations[e];let h;const p=new Map;if(l?(h=xP(this._driver,t,l,bP,xS,{},{},r,zB,o),h.forEach(T=>{const R=pa(p,T.element,{});T.postStyleProps.forEach(V=>R[V]=null)})):(o.push("The requested animation doesn't exist or has already been destroyed"),h=[]),o.length)throw new Error(`Unable to create the animation due to the following errors: ${o.join("\n")}`);p.forEach((T,R)=>{Object.keys(T).forEach(V=>{T[V]=this._driver.computeStyle(R,V,ah)})});const C=up(h.map(T=>{const R=p.get(T.element);return this._buildPlayer(T,{},R)}));return this._playersById[e]=C,C.onDestroy(()=>this.destroy(e)),this.players.push(C),C}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw new Error(`Unable to find the timeline player referenced by ${e}`);return t}listen(e,t,r,o){const l=hP(t,"","","");return uP(this._getPlayer(e),r,l,o),()=>{}}command(e,t,r,o){if("register"==r)return void this.register(e,o[0]);if("create"==r)return void this.create(e,t,o[0]||{});const l=this._getPlayer(e);switch(r){case"play":l.play();break;case"pause":l.pause();break;case"reset":l.reset();break;case"restart":l.restart();break;case"finish":l.finish();break;case"init":l.init();break;case"setPosition":l.setPosition(parseFloat(o[0]));break;case"destroy":this.destroy(e)}}}const c1="ng-animate-queued",u1="ng-animate-disabled",d1=".ng-animate-disabled",KB=[],h1={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},YB={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},sl="__ng_removed";class kP{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function(n){return null!=n?n:null}(r?e.value:e),r){const l=yb(e);delete l.value,this.options=l}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(o=>{null==r[o]&&(r[o]=t[o])})}}}const D0="void",OP=new kP(D0);class QB{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,ol(t,this._hostClassName)}listen(e,t,r,o){if(!this._triggers.hasOwnProperty(t))throw new Error(`Unable to listen on the animation trigger event "${r}" because the animation trigger "${t}" doesn't exist!`);if(null==r||0==r.length)throw new Error(`Unable to listen on the animation trigger "${t}" because the provided event is undefined!`);if(!function(n){return"start"==n||"done"==n}(r))throw new Error(`The provided animation trigger event "${r}" for the animation trigger "${t}" is not supported!`);const l=pa(this._elementListeners,e,[]),h={name:t,phase:r,callback:o};l.push(h);const p=pa(this._engine.statesByElement,e,{});return p.hasOwnProperty(t)||(ol(e,MS),ol(e,MS+"-"+t),p[t]=OP),()=>{this._engine.afterFlush(()=>{const y=l.indexOf(h);y>=0&&l.splice(y,1),this._triggers[t]||delete p[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw new Error(`The provided animation trigger "${e}" has not been registered!`);return t}trigger(e,t,r,o=!0){const l=this._getTrigger(t),h=new NP(this.id,t,e);let p=this._engine.statesByElement.get(e);p||(ol(e,MS),ol(e,MS+"-"+t),this._engine.statesByElement.set(e,p={}));let y=p[t];const C=new kP(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&y&&C.absorbOptions(y.options),p[t]=C,y||(y=OP),C.value!==D0&&y.value===C.value){if(!function(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let o=0;o<t.length;o++){const l=t[o];if(!e.hasOwnProperty(l)||n[l]!==e[l])return!1}return!0}(y.params,C.params)){const fe=[],De=l.matchStyles(y.value,y.params,fe),lt=l.matchStyles(C.value,C.params,fe);fe.length?this._engine.reportError(fe):this._engine.afterFlush(()=>{t_(e,De),Au(e,lt)})}return}const V=pa(this._engine.playersByElement,e,[]);V.forEach(fe=>{fe.namespaceId==this.id&&fe.triggerName==t&&fe.queued&&fe.destroy()});let U=l.matchTransition(y.value,C.value,e,C.params),Q=!1;if(!U){if(!o)return;U=l.fallbackTransition,Q=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:U,fromState:y,toState:C,player:h,isFallbackTransition:Q}),Q||(ol(e,c1),h.onStart(()=>{vb(e,c1)})),h.onDone(()=>{let fe=this.players.indexOf(h);fe>=0&&this.players.splice(fe,1);const De=this._engine.playersByElement.get(e);if(De){let lt=De.indexOf(h);lt>=0&&De.splice(lt,1)}}),this.players.push(h),V.push(h),h}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,r)=>{delete t[e]}),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(o=>o.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,RS,!0);r.forEach(o=>{if(o[sl])return;const l=this._engine.fetchNamespacesByElement(o);l.size?l.forEach(h=>h.triggerLeaveAnimation(o,t,!1,!0)):this.clearElementCache(o)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(o=>this.clearElementCache(o)))}triggerLeaveAnimation(e,t,r,o){const l=this._engine.statesByElement.get(e);if(l){const h=[];if(Object.keys(l).forEach(p=>{if(this._triggers[p]){const y=this.trigger(e,p,D0,o);y&&h.push(y)}}),h.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),r&&up(h).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const o=new Set;t.forEach(l=>{const h=l.name;if(o.has(h))return;o.add(h);const y=this._triggers[h].fallbackTransition,C=r[h]||OP,T=new kP(D0),R=new NP(this.id,h,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:h,transition:y,fromState:C,toState:T,player:R,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let o=!1;if(r.totalAnimations){const l=r.players.length?r.playersByQueriedElement.get(e):[];if(l&&l.length)o=!0;else{let h=e;for(;h=h.parentNode;)if(r.statesByElement.get(h)){o=!0;break}}}if(this.prepareLeaveAnimationListeners(e),o)r.markElementAsRemoved(this.id,e,!1,t);else{const l=e[sl];(!l||l===h1)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){ol(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const o=r.player;if(o.destroyed)return;const l=r.element,h=this._elementListeners.get(l);h&&h.forEach(p=>{if(p.name==r.triggerName){const y=hP(l,r.triggerName,r.fromState.value,r.toState.value);y._data=e,uP(r.player,p.phase,y,p.callback)}}),o.markedForDestroy?this._engine.afterFlush(()=>{o.destroy()}):t.push(r)}),this._queue=[],t.sort((r,o)=>{const l=r.transition.ast.depCount,h=o.transition.ast.depCount;return 0==l||0==h?l-h:this._engine.driver.containsElement(r.element,o.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class XB{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(o,l)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new QB(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList.length-1;if(r>=0){let o=!1;for(let l=r;l>=0;l--)if(this.driver.containsElement(this._namespaceList[l].hostElement,t)){this._namespaceList.splice(l+1,0,e),o=!0;break}o||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let o=this._namespaceLookup[e];o&&o.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const o=this._namespaceList.indexOf(r);o>=0&&this._namespaceList.splice(o,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r){const o=Object.keys(r);for(let l=0;l<o.length;l++){const h=r[o[l]].namespaceId;if(h){const p=this._fetchNamespace(h);p&&t.add(p)}}}return t}trigger(e,t,r,o){if(HS(t)){const l=this._fetchNamespace(e);if(l)return l.trigger(t,r,o),!0}return!1}insertNode(e,t,r,o){if(!HS(t))return;const l=t[sl];if(l&&l.setForRemoval){l.setForRemoval=!1,l.setForMove=!0;const h=this.collectedLeaveElements.indexOf(t);h>=0&&this.collectedLeaveElements.splice(h,1)}if(e){const h=this._fetchNamespace(e);h&&h.insertNode(t,r)}o&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),ol(e,u1)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),vb(e,u1))}removeNode(e,t,r,o){if(HS(t)){const l=e?this._fetchNamespace(e):null;if(l?l.removeNode(t,o):this.markElementAsRemoved(e,t,!1,o),r){const h=this.namespacesByHostElement.get(t);h&&h.id!==e&&h.removeNode(t,o)}}else this._onRemovalComplete(t,o)}markElementAsRemoved(e,t,r,o){this.collectedLeaveElements.push(t),t[sl]={namespaceId:e,setForRemoval:o,hasAnimation:r,removedBeforeQueried:!1}}listen(e,t,r,o,l){return HS(t)?this._fetchNamespace(e).listen(t,r,o,l):()=>{}}_buildInstruction(e,t,r,o,l){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,o,e.fromState.options,e.toState.options,t,l)}destroyInnerAnimations(e){let t=this.driver.query(e,RS,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,EP,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return up(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[sl];if(t&&t.setForRemoval){if(e[sl]=h1,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}this.driver.matchesElement(e,d1)&&this.markElementAsDisabled(e,!1),this.driver.query(e,d1,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,o)=>this._balanceNamespaceList(r,o)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)ol(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let o=0;o<r.length;o++)r[o]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?up(t).onDone(()=>{r.forEach(o=>o())}):r.forEach(o=>o())}}reportError(e){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${e.join("\n")}`)}_flushAnimations(e,t){const r=new BS,o=[],l=new Map,h=[],p=new Map,y=new Map,C=new Map,T=new Set;this.disabledNodes.forEach(ct=>{T.add(ct);const wt=this.driver.query(ct,".ng-animate-queued",!0);for(let Vt=0;Vt<wt.length;Vt++)T.add(wt[Vt])});const R=this.bodyNode,V=Array.from(this.statesByElement.keys()),U=g1(V,this.collectedEnterElements),Q=new Map;let fe=0;U.forEach((ct,wt)=>{const Vt=bP+fe++;Q.set(wt,Vt),ct.forEach(gn=>ol(gn,Vt))});const De=[],lt=new Set,Et=new Set;for(let ct=0;ct<this.collectedLeaveElements.length;ct++){const wt=this.collectedLeaveElements[ct],Vt=wt[sl];Vt&&Vt.setForRemoval&&(De.push(wt),lt.add(wt),Vt.hasAnimation?this.driver.query(wt,".ng-star-inserted",!0).forEach(gn=>lt.add(gn)):Et.add(wt))}const Lt=new Map,ht=g1(V,Array.from(lt));ht.forEach((ct,wt)=>{const Vt=xS+fe++;Lt.set(wt,Vt),ct.forEach(gn=>ol(gn,Vt))}),e.push(()=>{U.forEach((ct,wt)=>{const Vt=Q.get(wt);ct.forEach(gn=>vb(gn,Vt))}),ht.forEach((ct,wt)=>{const Vt=Lt.get(wt);ct.forEach(gn=>vb(gn,Vt))}),De.forEach(ct=>{this.processLeaveNode(ct)})});const Cn=[],Er=[];for(let ct=this._namespaceList.length-1;ct>=0;ct--)this._namespaceList[ct].drainQueuedTransitions(t).forEach(Vt=>{const gn=Vt.player,Vi=Vt.element;if(Cn.push(gn),this.collectedEnterElements.length){const Mu=Vi[sl];if(Mu&&Mu.setForMove)return void gn.destroy()}const xu=!R||!this.driver.containsElement(R,Vi),ma=Lt.get(Vi),pp=Q.get(Vi),Nr=this._buildInstruction(Vt,r,pp,ma,xu);if(Nr.errors&&Nr.errors.length)Er.push(Nr);else{if(xu)return gn.onStart(()=>t_(Vi,Nr.fromStyles)),gn.onDestroy(()=>Au(Vi,Nr.toStyles)),void o.push(gn);if(Vt.isFallbackTransition)return gn.onStart(()=>t_(Vi,Nr.fromStyles)),gn.onDestroy(()=>Au(Vi,Nr.toStyles)),void o.push(gn);Nr.timelines.forEach(Mu=>Mu.stretchStartingKeyframe=!0),r.append(Vi,Nr.timelines),h.push({instruction:Nr,player:gn,element:Vi}),Nr.queriedElements.forEach(Mu=>pa(p,Mu,[]).push(gn)),Nr.preStyleProps.forEach((Mu,x0)=>{const JS=Object.keys(Mu);if(JS.length){let s_=y.get(x0);s_||y.set(x0,s_=new Set),JS.forEach(YP=>s_.add(YP))}}),Nr.postStyleProps.forEach((Mu,x0)=>{const JS=Object.keys(Mu);let s_=C.get(x0);s_||C.set(x0,s_=new Set),JS.forEach(YP=>s_.add(YP))})}});if(Er.length){const ct=[];Er.forEach(wt=>{ct.push(`@${wt.triggerName} has failed due to:\n`),wt.errors.forEach(Vt=>ct.push(`- ${Vt}\n`))}),Cn.forEach(wt=>wt.destroy()),this.reportError(ct)}const ls=new Map,lh=new Map;h.forEach(ct=>{const wt=ct.element;r.has(wt)&&(lh.set(wt,wt),this._beforeAnimationBuild(ct.player.namespaceId,ct.instruction,ls))}),o.forEach(ct=>{const wt=ct.element;this._getPreviousPlayers(wt,!1,ct.namespaceId,ct.triggerName,null).forEach(gn=>{pa(ls,wt,[]).push(gn),gn.destroy()})});const ch=De.filter(ct=>_1(ct,y,C)),uh=new Map;p1(uh,this.driver,Et,C,ah).forEach(ct=>{_1(ct,y,C)&&ch.push(ct)});const A0=new Map;U.forEach((ct,wt)=>{p1(A0,this.driver,new Set(ct),y,"!")}),ch.forEach(ct=>{const wt=uh.get(ct),Vt=A0.get(ct);uh.set(ct,Ke(Ke({},wt),Vt))});const i_=[],vF=[],bF={};h.forEach(ct=>{const{element:wt,player:Vt,instruction:gn}=ct;if(r.has(wt)){if(T.has(wt))return Vt.onDestroy(()=>Au(wt,gn.toStyles)),Vt.disabled=!0,Vt.overrideTotalTime(gn.totalTime),void o.push(Vt);let Vi=bF;if(lh.size>1){let ma=wt;const pp=[];for(;ma=ma.parentNode;){const Nr=lh.get(ma);if(Nr){Vi=Nr;break}pp.push(ma)}pp.forEach(Nr=>lh.set(Nr,Vi))}const xu=this._buildAnimation(Vt.namespaceId,gn,ls,l,A0,uh);if(Vt.setRealPlayer(xu),Vi===bF)i_.push(Vt);else{const ma=this.playersByElement.get(Vi);ma&&ma.length&&(Vt.parentPlayer=up(ma)),o.push(Vt)}}else t_(wt,gn.fromStyles),Vt.onDestroy(()=>Au(wt,gn.toStyles)),vF.push(Vt),T.has(wt)&&o.push(Vt)}),vF.forEach(ct=>{const wt=l.get(ct.element);if(wt&&wt.length){const Vt=up(wt);ct.setRealPlayer(Vt)}}),o.forEach(ct=>{ct.parentPlayer?ct.syncPlayerEvents(ct.parentPlayer):ct.destroy()});for(let ct=0;ct<De.length;ct++){const wt=De[ct],Vt=wt[sl];if(vb(wt,xS),Vt&&Vt.hasAnimation)continue;let gn=[];if(p.size){let xu=p.get(wt);xu&&xu.length&&gn.push(...xu);let ma=this.driver.query(wt,EP,!0);for(let pp=0;pp<ma.length;pp++){let Nr=p.get(ma[pp]);Nr&&Nr.length&&gn.push(...Nr)}}const Vi=gn.filter(xu=>!xu.destroyed);Vi.length?n2(this,wt,Vi):this.processLeaveNode(wt)}return De.length=0,i_.forEach(ct=>{this.players.push(ct),ct.onDone(()=>{ct.destroy();const wt=this.players.indexOf(ct);this.players.splice(wt,1)}),ct.play()}),i_}elementContainsData(e,t){let r=!1;const o=t[sl];return o&&o.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,o,l){let h=[];if(t){const p=this.playersByQueriedElement.get(e);p&&(h=p)}else{const p=this.playersByElement.get(e);if(p){const y=!l||l==D0;p.forEach(C=>{C.queued||!y&&C.triggerName!=o||h.push(C)})}}return(r||o)&&(h=h.filter(p=>!(r&&r!=p.namespaceId||o&&o!=p.triggerName))),h}_beforeAnimationBuild(e,t,r){const l=t.element,h=t.isRemovalTransition?void 0:e,p=t.isRemovalTransition?void 0:t.triggerName;for(const y of t.timelines){const C=y.element,T=C!==l,R=pa(r,C,[]);this._getPreviousPlayers(C,T,h,p,t.toState).forEach(U=>{const Q=U.getRealPlayer();Q.beforeDestroy&&Q.beforeDestroy(),U.destroy(),R.push(U)})}t_(l,t.fromStyles)}_buildAnimation(e,t,r,o,l,h){const p=t.triggerName,y=t.element,C=[],T=new Set,R=new Set,V=t.timelines.map(Q=>{const fe=Q.element;T.add(fe);const De=fe[sl];if(De&&De.removedBeforeQueried)return new _b(Q.duration,Q.delay);const lt=fe!==y,Et=function(n){const e=[];return m1(n,e),e}((r.get(fe)||KB).map(ls=>ls.getRealPlayer())).filter(ls=>!!ls.element&&ls.element===fe),Lt=l.get(fe),ht=h.get(fe),Cn=UN(0,this._normalizer,0,Q.keyframes,Lt,ht),Er=this._buildPlayer(Q,Cn,Et);if(Q.subTimeline&&o&&R.add(fe),lt){const ls=new NP(e,p,fe);ls.setRealPlayer(Er),C.push(ls)}return Er});C.forEach(Q=>{pa(this.playersByQueriedElement,Q.element,[]).push(Q),Q.onDone(()=>function(n,e,t){let r;if(n instanceof Map){if(r=n.get(e),r){if(r.length){const o=r.indexOf(t);r.splice(o,1)}0==r.length&&n.delete(e)}}else if(r=n[e],r){if(r.length){const o=r.indexOf(t);r.splice(o,1)}0==r.length&&delete n[e]}return r}(this.playersByQueriedElement,Q.element,Q))}),T.forEach(Q=>ol(Q,ZN));const U=up(V);return U.onDestroy(()=>{T.forEach(Q=>vb(Q,ZN)),Au(y,t.toStyles)}),R.forEach(Q=>{pa(o,Q,[]).push(U)}),U}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new _b(e.duration,e.delay)}}class NP{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new _b,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(r=>uP(e,t,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){pa(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function HS(n){return n&&1===n.nodeType}function f1(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function p1(n,e,t,r,o){const l=[];t.forEach(y=>l.push(f1(y)));const h=[];r.forEach((y,C)=>{const T={};y.forEach(R=>{const V=T[R]=e.computeStyle(C,R,o);(!V||0==V.length)&&(C[sl]=YB,h.push(C))}),n.set(C,T)});let p=0;return t.forEach(y=>f1(y,l[p++])),h}function g1(n,e){const t=new Map;if(n.forEach(p=>t.set(p,[])),0==e.length)return t;const o=new Set(e),l=new Map;function h(p){if(!p)return 1;let y=l.get(p);if(y)return y;const C=p.parentNode;return y=t.has(C)?C:o.has(C)?1:h(C),l.set(p,y),y}return e.forEach(p=>{const y=h(p);1!==y&&t.get(y).push(p)}),t}const $S="$$classes";function ol(n,e){if(n.classList)n.classList.add(e);else{let t=n[$S];t||(t=n[$S]={}),t[e]=!0}}function vb(n,e){if(n.classList)n.classList.remove(e);else{let t=n[$S];t&&delete t[e]}}function n2(n,e,t){up(t).onDone(()=>n.processLeaveNode(e))}function m1(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof VN?m1(r.players,e):e.push(r)}}function _1(n,e,t){const r=t.get(n);if(!r)return!1;let o=e.get(n);return o?r.forEach(l=>o.add(l)):e.set(n,r),t.delete(n),!0}class zS{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(o,l)=>{},this._transitionEngine=new XB(e,t,r),this._timelineEngine=new GB(e,t,r),this._transitionEngine.onRemovalComplete=(o,l)=>this.onRemovalComplete(o,l)}registerTrigger(e,t,r,o,l){const h=e+"-"+o;let p=this._triggerCache[h];if(!p){const y=[],C=TP(this._driver,l,y);if(y.length)throw new Error(`The animation trigger "${o}" has failed to build due to the following errors:\n - ${y.join("\n - ")}`);p=function(n,e,t){return new HB(n,e,t)}(o,C,this._normalizer),this._triggerCache[h]=p}this._transitionEngine.registerTrigger(t,o,p)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,o){this._transitionEngine.insertNode(e,t,r,o)}onRemove(e,t,r,o){this._transitionEngine.removeNode(e,t,o||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,o){if("@"==r.charAt(0)){const[l,h]=jN(r);this._timelineEngine.command(l,t,h,o)}else this._transitionEngine.trigger(e,t,r,o)}listen(e,t,r,o,l){if("@"==r.charAt(0)){const[h,p]=jN(r);return this._timelineEngine.listen(h,t,p,l)}return this._transitionEngine.listen(e,t,r,o,l)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function y1(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=FP(e[0]),e.length>1&&(r=FP(e[e.length-1]))):e&&(t=FP(e)),t||r?new o2(n,t,r):null}let o2=(()=>{class n{constructor(t,r,o){this._element=t,this._startStyles=r,this._endStyles=o,this._state=0;let l=n.initialStylesByElement.get(t);l||n.initialStylesByElement.set(t,l={}),this._initialStyles=l}start(){this._state<1&&(this._startStyles&&Au(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Au(this._element,this._initialStyles),this._endStyles&&(Au(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(t_(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(t_(this._element,this._endStyles),this._endStyles=null),Au(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function FP(n){let e=null;const t=Object.keys(n);for(let r=0;r<t.length;r++){const o=t[r];a2(o)&&(e=e||{},e[o]=n[o])}return e}function a2(n){return"display"===n||"position"===n}const v1="animation",b1="animationend";class u2{constructor(e,t,r,o,l,h,p){this._element=e,this._name=t,this._duration=r,this._delay=o,this._easing=l,this._fillMode=h,this._onDoneFn=p,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=y=>this._handleCallback(y)}apply(){(function(n,e){const t=VP(n,"").trim();let r=0;t.length&&(function(n,e){let t=0;for(let r=0;r<n.length;r++)","===n.charAt(r)&&t++;return t}(t)+1,e=`${t}, ${e}`),GS(n,"",e)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),C1(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){E1(this._element,this._name,"paused")}resume(){E1(this._element,this._name,"running")}setPosition(e){const t=w1(this._element,this._name);this._position=e*this._duration,GS(this._element,"Delay",`-${this._position}ms`,t)}getPosition(){return this._position}_handleCallback(e){const t=e._ngTestManualTimestamp||Date.now(),r=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&r>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),C1(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(n,e){const r=VP(n,"").split(","),o=LP(r,e);o>=0&&(r.splice(o,1),GS(n,"",r.join(",")))}(this._element,this._name))}}function E1(n,e,t){GS(n,"PlayState",t,w1(n,e))}function w1(n,e){const t=VP(n,"");return t.indexOf(",")>0?LP(t.split(","),e):LP([t],e)}function LP(n,e){for(let t=0;t<n.length;t++)if(n[t].indexOf(e)>=0)return t;return-1}function C1(n,e,t){t?n.removeEventListener(b1,e):n.addEventListener(b1,e)}function GS(n,e,t,r){const o=v1+e;if(null!=r){const l=n.style[o];if(l.length){const h=l.split(",");h[r]=t,t=h.join(",")}}n.style[o]=t}function VP(n,e){return n.style[v1+e]||""}class D1{constructor(e,t,r,o,l,h,p,y){this.element=e,this.keyframes=t,this.animationName=r,this._duration=o,this._delay=l,this._finalStyles=p,this._specialStyles=y,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=h||"linear",this.totalTime=o+l,this._buildStyler()}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(e=>e()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(e){this._styler.setPosition(e)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new u2(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}beforeDestroy(){this.init();const e={};if(this.hasStarted()){const t=this._state>=3;Object.keys(this._finalStyles).forEach(r=>{"offset"!=r&&(e[r]=t?this._finalStyles[r]:IP(this.element,r))})}this.currentSnapshot=e}}class m2 extends _b{constructor(e,t){super(),this.element=e,this._startingStyles={},this.__initialized=!1,this._styles=GN(t)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(e=>{this._startingStyles[e]=this.element.style[e]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(e=>this.element.style.setProperty(e,this._styles[e])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(e=>{const t=this._startingStyles[e];t?this.element.style.setProperty(e,t):this.element.style.removeProperty(e)}),this._startingStyles=null,super.destroy())}}class T1{constructor(){this._count=0}validateStyleProperty(e){return gP(e)}matchesElement(e,t){return mP(e,t)}containsElement(e,t){return _P(e,t)}query(e,t,r){return yP(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}buildKeyframeElement(e,t,r){r=r.map(p=>GN(p));let o=`@keyframes ${t} {\n`,l="";r.forEach(p=>{l=" ";const y=parseFloat(p.offset);o+=`${l}${100*y}% {\n`,l+=" ",Object.keys(p).forEach(C=>{const T=p[C];switch(C){case"offset":return;case"easing":return void(T&&(o+=`${l}animation-timing-function: ${T};\n`));default:return void(o+=`${l}${C}: ${T};\n`)}}),o+=`${l}}\n`}),o+="}\n";const h=document.createElement("style");return h.textContent=o,h}animate(e,t,r,o,l,h=[],p){const y=h.filter(De=>De instanceof D1),C={};JN(r,o)&&y.forEach(De=>{let lt=De.currentSnapshot;Object.keys(lt).forEach(Et=>C[Et]=lt[Et])});const T=function(n){let e={};return n&&(Array.isArray(n)?n:[n]).forEach(r=>{Object.keys(r).forEach(o=>{"offset"==o||"easing"==o||(e[o]=r[o])})}),e}(t=e1(e,t,C));if(0==r)return new m2(e,T);const R="gen_css_kf_"+this._count++,V=this.buildKeyframeElement(e,R,t);(function(n){var t;const e=null==(t=n.getRootNode)?void 0:t.call(n);return"undefined"!=typeof ShadowRoot&&e instanceof ShadowRoot?e:document.head})(e).appendChild(V);const Q=y1(e,t),fe=new D1(e,t,R,r,o,l,T,Q);return fe.onDestroy(()=>function(n){n.parentNode.removeChild(n)}(V)),fe}}class A1{constructor(e,t,r,o){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=o,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,r){return e.animate(t,r)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(t=>{"offset"!=t&&(e[t]=this._finished?this._finalKeyframe[t]:IP(this.element,t))}),this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class E2{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(x1().toString()),this._cssKeyframesDriver=new T1}validateStyleProperty(e){return gP(e)}matchesElement(e,t){return mP(e,t)}containsElement(e,t){return _P(e,t)}query(e,t,r){return yP(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}overrideWebAnimationsSupport(e){this._isNativeImpl=e}animate(e,t,r,o,l,h=[],p){if(!p&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,r,o,l,h);const T={duration:r,delay:o,fill:0==o?"both":"forwards"};l&&(T.easing=l);const R={},V=h.filter(Q=>Q instanceof A1);JN(r,o)&&V.forEach(Q=>{let fe=Q.currentSnapshot;Object.keys(fe).forEach(De=>R[De]=fe[De])});const U=y1(e,t=e1(e,t=t.map(Q=>dp(Q,!1)),R));return new A1(e,t,T,U)}}function x1(){return BN()&&Element.prototype.animate||{}}let C2=(()=>{class n extends NN{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:d.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const o=Array.isArray(t)?FN(t):t;return M1(this._renderer,null,r,"register",[o]),new D2(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.FYo),d.LFG(ne))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class D2 extends class{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new I2(this._id,e,t||{},this._renderer)}}class I2{constructor(e,t,r,o){this.id=e,this.element=t,this._renderer=o,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return M1(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!=(t=null==(e=this._renderer.engine.players[+this.id])?void 0:e.getPosition())?t:0}}function M1(n,e,t,r,o){return n.setProperty(e,`@@${t}:${r}`,o)}const R1="@.disabled";let T2=(()=>{class n{constructor(t,r,o){this.delegate=t,this.engine=r,this._zone=o,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(l,h)=>{const p=null==h?void 0:h.parentNode(l);p&&h.removeChild(p,l)}}createRenderer(t,r){const l=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let T=this._rendererCache.get(l);return T||(T=new P1("",l,this.engine),this._rendererCache.set(l,T)),T}const h=r.id,p=r.id+"-"+this._currentId;this._currentId++,this.engine.register(p,t);const y=T=>{Array.isArray(T)?T.forEach(y):this.engine.registerTrigger(h,p,t,T.name,T)};return r.data.animation.forEach(y),new S2(this,p,l,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,o){t>=0&&t<this._microtaskId?this._zone.run(()=>r(o)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(l=>{const[h,p]=l;h(p)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,o]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.FYo),d.LFG(zS),d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class P1{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?o=>t.destroyNode(o):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,o=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,o)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,o){this.delegate.setAttribute(e,t,r,o)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,o){this.delegate.setStyle(e,t,r,o)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==R1?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class S2 extends P1{constructor(e,t,r,o){super(t,r,o),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==R1?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.substr(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const o=function(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let l=t.substr(1),h="";return"@"!=l.charAt(0)&&([l,h]=function(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(l)),this.engine.listen(this.namespaceId,o,l,h,p=>{this.factory.scheduleListenerCallback(p._data||-1,r,p)})}return this.delegate.listen(e,t,r)}}let M2=(()=>{class n extends zS{constructor(t,r,o){super(t.body,r,o)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ne),d.LFG(vP),d.LFG(RP))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const bb=new d.OlP("AnimationModuleType"),k1=[{provide:NN,useClass:C2},{provide:RP,useFactory:function(){return new FB}},{provide:zS,useClass:M2},{provide:d.FYo,useFactory:function(n,e,t){return new T2(n,e,t)},deps:[io,zS,d.R0b]}],O1=[{provide:vP,useFactory:function(){return"function"==typeof x1()?new E2:new T1}},{provide:bb,useValue:"BrowserAnimations"},...k1],O2=[{provide:vP,useClass:qN},{provide:bb,useValue:"NoopAnimations"},...k1];let N2=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?O2:O1}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:O1,imports:[Xu]}),n})();const N1=new d.GfV("13.0.1"),L2=new d.OlP("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let al=(()=>{class n{constructor(t,r,o){this._hasDoneGlobalChecks=!1,this._document=o,t._applyBodyHighContrastModeCssClasses(),this._sanityChecks=r,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!(!(0,d.X6Q)()||HR())&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}_checkDoctypeIsDefined(){this._checkIsEnabled("doctype")&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checkIsEnabled("theme")||!this._document.body||"function"!=typeof getComputedStyle)return;const t=this._document.createElement("div");t.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(t);const r=getComputedStyle(t);r&&"none"!==r.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),t.remove()}_checkCdkVersionMatch(){this._checkIsEnabled("version")&&N1.full!==ON.full&&console.warn("The Angular Material version ("+N1.full+") does not match the Angular CDK version ("+ON.full+").\nPlease ensure the versions of these two packages exactly match.")}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(TV),d.LFG(L2,8),d.LFG(ne))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[_0],_0]}),n})();function V2(n){return class extends n{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=So(e)}}}function BP(n,e){return class extends n{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const r=t||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}}}function B2(n){return class extends n{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=So(e)}}}function U2(n){return class extends n{constructor(...e){super(...e),this.stateChanges=new gt.x,this.errorState=!1}updateErrorState(){const e=this.errorState,l=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);l!==e&&(this.errorState=l,this.stateChanges.next())}}}let F1=(()=>{class n{isErrorState(t,r){return!!(t&&t.invalid&&(t.touched||r&&r.submitted))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class H2{constructor(e,t,r){this._renderer=e,this.element=t,this.config=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const L1={enterDuration:225,exitDuration:150},UP=Km({passive:!0}),V1=["mousedown","touchstart"],B1=["mouseup","mouseleave","touchend","touchcancel"];class z2{constructor(e,t,r,o){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,o.isBrowser&&(this._containerElement=Or(r))}fadeInRipple(e,t,r={}){const o=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),l=Ke(Ke({},L1),r.animation);r.centered&&(e=o.left+o.width/2,t=o.top+o.height/2);const h=r.radius||function(n,e,t){const r=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),o=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(r*r+o*o)}(e,t,o),p=e-o.left,y=t-o.top,C=l.enterDuration,T=document.createElement("div");T.classList.add("mat-ripple-element"),T.style.left=p-h+"px",T.style.top=y-h+"px",T.style.height=2*h+"px",T.style.width=2*h+"px",null!=r.color&&(T.style.backgroundColor=r.color),T.style.transitionDuration=`${C}ms`,this._containerElement.appendChild(T),function(n){window.getComputedStyle(n).getPropertyValue("opacity")}(T),T.style.transform="scale(1)";const R=new H2(this,T,r);return R.state=0,this._activeRipples.add(R),r.persistent||(this._mostRecentTransientRipple=R),this._runTimeoutOutsideZone(()=>{const V=R===this._mostRecentTransientRipple;R.state=1,!r.persistent&&(!V||!this._isPointerDown)&&R.fadeOut()},C),R}fadeOutRipple(e){const t=this._activeRipples.delete(e);if(e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!t)return;const r=e.element,o=Ke(Ke({},L1),e.config.animation);r.style.transitionDuration=`${o.exitDuration}ms`,r.style.opacity="0",e.state=2,this._runTimeoutOutsideZone(()=>{e.state=3,r.remove()},o.exitDuration)}fadeOutAll(){this._activeRipples.forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=Or(e);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(V1))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(B1),this._pointerUpEventsRegistered=!0)}_onMousedown(e){const t=GR(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!qR(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let r=0;r<t.length;r++)this.fadeInRipple(t[r].clientX,t[r].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_runTimeoutOutsideZone(e,t=0){this._ngZone.runOutsideAngular(()=>setTimeout(e,t))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(t=>{this._triggerElement.addEventListener(t,this,UP)})})}_removeTriggerEvents(){this._triggerElement&&(V1.forEach(e=>{this._triggerElement.removeEventListener(e,this,UP)}),this._pointerUpEventsRegistered&&B1.forEach(e=>{this._triggerElement.removeEventListener(e,this,UP)}))}}const W2=new d.OlP("mat-ripple-global-options");let U1=(()=>{class n{constructor(t,r,o,l,h){this._elementRef=t,this._animationMode=h,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=l||{},this._rippleRenderer=new z2(this,r,t,o)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Ke(Ke(Ke({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,r=0,o){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,r,Ke(Ke({},this.rippleConfig),o)):this._rippleRenderer.fadeInRipple(0,0,Ke(Ke({},this.rippleConfig),t))}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(d.R0b),d.Y36(fa),d.Y36(W2,8),d.Y36(bb,8))},n.\u0275dir=d.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,r){2&t&&d.ekj("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),Z2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[al,VR],al]}),n})();function K2(n,e){}class jP{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0}}const Y2={dialogContainer:AS("dialogContainer",[Xm("void, exit",il({opacity:0,transform:"scale(0.7)"})),Xm("enter",il({transform:"none"})),w0("* => enter",E0("150ms cubic-bezier(0, 0, 0.2, 1)",il({transform:"none",opacity:1}))),w0("* => void, * => exit",E0("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",il({opacity:0})))])};let Q2=(()=>{class n extends iP{constructor(t,r,o,l,h,p,y,C){super(),this._elementRef=t,this._focusTrapFactory=r,this._changeDetectorRef=o,this._config=h,this._interactivityChecker=p,this._ngZone=y,this._focusMonitor=C,this._animationStateChanged=new d.vpe,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=T=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(T)),this._ariaLabelledBy=h.ariaLabelledBy||null,this._document=l}_initializeWithAttachedContent(){this._setupFocusTrap(),this._capturePreviouslyFocusedElement()}attachComponentPortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(t)}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,r){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{t.addEventListener("blur",()=>t.removeAttribute("tabindex")),t.addEventListener("mousedown",()=>t.removeAttribute("tabindex"))})),t.focus(r)}_focusByCssSelector(t,r){let o=this._elementRef.nativeElement.querySelector(t);o&&this._forceFocus(o,r)}_trapFocus(){const t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(r=>{r||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const t=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&t&&"function"==typeof t.focus){const r=jR(),o=this._elementRef.nativeElement;(!r||r===this._document.body||r===o||o.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(t,this._closeInteractionType),this._closeInteractionType=null):t.focus())}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)}_capturePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=jR())}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,r=jR();return t===r||t.contains(r)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(bV),d.Y36(d.sBO),d.Y36(ne,8),d.Y36(jP),d.Y36(ZO),d.Y36(d.R0b),d.Y36(XO))},n.\u0275dir=d.lG2({type:n,viewQuery:function(t,r){if(1&t&&d.Gf(DN,7),2&t){let o;d.iGM(o=d.CRH())&&(r._portalOutlet=o.first)}},features:[d.qOj]}),n})(),X2=(()=>{class n extends Q2{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:t,totalTime:r}){"enter"===t?(this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:r})):"exit"===t&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:r}))}_onAnimationStart({toState:t,totalTime:r}){"enter"===t?this._animationStateChanged.next({state:"opening",totalTime:r}):("exit"===t||"void"===t)&&this._animationStateChanged.next({state:"closing",totalTime:r})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=d.n5z(n)))(r||n)}}(),n.\u0275cmp=d.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(t,r){1&t&&d.WFA("@dialogContainer.start",function(l){return r._onAnimationStart(l)})("@dialogContainer.done",function(l){return r._onAnimationDone(l)}),2&t&&(d.Ikx("id",r._id),d.uIk("role",r._config.role)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledBy)("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null),d.d8E("@dialogContainer",r._state))},features:[d.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,r){1&t&&d.YNc(0,K2,0,0,"ng-template",0)},directives:[DN],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[Y2.dialogContainer]}}),n})(),J2=0;class HP{constructor(e,t,r="mat-dialog-"+J2++){this._overlayRef=e,this._containerInstance=t,this.id=r,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new gt.x,this._afterClosed=new gt.x,this._beforeClosed=new gt.x,this._state=0,t._id=r,t._animationStateChanged.pipe(Kr(o=>"opened"===o.state),(0,fi.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),t._animationStateChanged.pipe(Kr(o=>"closed"===o.state),(0,fi.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),e.keydownEvents().pipe(Kr(o=>27===o.keyCode&&!this.disableClose&&!function(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}(o))).subscribe(o=>{o.preventDefault(),$P(this,"keyboard")}),e.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():$P(this,"mouse")})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(Kr(t=>"closing"===t.state),(0,fi.q)(1)).subscribe(t=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(e){let t=this._getPositionStrategy();return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(e="",t=""){return this._overlayRef.updateSize({width:e,height:t}),this._overlayRef.updatePosition(),this}addPanelClass(e){return this._overlayRef.addPanelClass(e),this}removePanelClass(e){return this._overlayRef.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function $P(n,e,t){return void 0!==n._containerInstance&&(n._containerInstance._closeInteractionType=e),n.close(t)}const j1=new d.OlP("MatDialogData"),eU=new d.OlP("mat-dialog-default-options"),H1=new d.OlP("mat-dialog-scroll-strategy"),nU={provide:H1,deps:[SS],useFactory:function(n){return()=>n.scrollStrategies.block()}};let rU=(()=>{class n{constructor(t,r,o,l,h,p,y,C,T,R){this._overlay=t,this._injector=r,this._defaultOptions=o,this._parentDialog=l,this._overlayContainer=h,this._dialogRefConstructor=y,this._dialogContainerType=C,this._dialogDataToken=T,this._animationMode=R,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new gt.x,this._afterOpenedAtThisLevel=new gt.x,this._ariaHiddenElements=new Map,this._dialogAnimatingOpen=!1,this.afterAllClosed=Na(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Ri(void 0))),this._scrollStrategy=p}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(t,r){if(r=function(n,e){return Ke(Ke({},e),n)}(r,this._defaultOptions||new jP),r.id&&this.getDialogById(r.id),this._dialogAnimatingOpen)return this._lastDialogRef;const o=this._createOverlay(r),l=this._attachDialogContainer(o,r);if("NoopAnimations"!==this._animationMode){const p=l._animationStateChanged.subscribe(y=>{"opening"===y.state&&(this._dialogAnimatingOpen=!0),"opened"===y.state&&(this._dialogAnimatingOpen=!1,p.unsubscribe())});this._animationStateSubscriptions||(this._animationStateSubscriptions=new hi.w0),this._animationStateSubscriptions.add(p)}const h=this._attachDialogContent(t,l,o,r);return this._lastDialogRef=h,this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(h),h.afterClosed().subscribe(()=>this._removeOpenDialog(h)),this.afterOpened.next(h),l._initializeWithAttachedContent(),h}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(r=>r.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._animationStateSubscriptions&&this._animationStateSubscriptions.unsubscribe()}_createOverlay(t){const r=this._getOverlayConfig(t);return this._overlay.create(r)}_getOverlayConfig(t){const r=new AN({positionStrategy:this._overlay.position().global(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(r.backdropClass=t.backdropClass),r}_attachDialogContainer(t,r){const l=d.zs3.create({parent:r&&r.viewContainerRef&&r.viewContainerRef.injector||this._injector,providers:[{provide:jP,useValue:r}]}),h=new rP(this._dialogContainerType,r.viewContainerRef,l,r.componentFactoryResolver);return t.attach(h).instance}_attachDialogContent(t,r,o,l){const h=new this._dialogRefConstructor(o,r,l.id);if(t instanceof d.Rgc)r.attachTemplatePortal(new CN(t,null,{$implicit:l.data,dialogRef:h}));else{const p=this._createInjector(l,h,r),y=r.attachComponentPortal(new rP(t,l.viewContainerRef,p));h.componentInstance=y.instance}return h.updateSize(l.width,l.height).updatePosition(l.position),h}_createInjector(t,r,o){const l=t&&t.viewContainerRef&&t.viewContainerRef.injector,h=[{provide:this._dialogContainerType,useValue:o},{provide:this._dialogDataToken,useValue:t.data},{provide:this._dialogRefConstructor,useValue:r}];return t.direction&&(!l||!l.get(pb,null,d.XFs.Optional))&&h.push({provide:pb,useValue:{value:t.direction,change:st()}}),d.zs3.create({parent:l||this._injector,providers:h})}_removeOpenDialog(t){const r=this.openDialogs.indexOf(t);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,l)=>{o?l.setAttribute("aria-hidden",o):l.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const r=t.parentElement.children;for(let o=r.length-1;o>-1;o--){let l=r[o];l!==t&&"SCRIPT"!==l.nodeName&&"STYLE"!==l.nodeName&&!l.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(l,l.getAttribute("aria-hidden")),l.setAttribute("aria-hidden","true"))}}}_closeDialogs(t){let r=t.length;for(;r--;)t[r].close()}}return n.\u0275fac=function(t){d.$Z()},n.\u0275dir=d.lG2({type:n}),n})(),zP=(()=>{class n extends rU{constructor(t,r,o,l,h,p,y,C){super(t,r,l,p,y,h,HP,X2,j1,C)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(SS),d.LFG(d.zs3),d.LFG(qe,8),d.LFG(eU,8),d.LFG(H1),d.LFG(n,12),d.LFG(aP),d.LFG(bb,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),sU=(()=>{class n{constructor(t,r,o){this.dialogRef=t,this._elementRef=r,this._dialog=o,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=function(n,e){let t=n.nativeElement.parentElement;for(;t&&!t.classList.contains("mat-dialog-container");)t=t.parentElement;return t?e.find(r=>r.id===t.id):null}(this._elementRef,this._dialog.openDialogs))}ngOnChanges(t){const r=t._matDialogClose||t._matDialogCloseResult;r&&(this.dialogResult=r.currentValue)}_onButtonClick(t){$P(this.dialogRef,0===t.screenX&&0===t.screenY?"keyboard":"mouse",this.dialogResult)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(HP,8),d.Y36(d.SBq),d.Y36(zP))},n.\u0275dir=d.lG2({type:n,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(t,r){1&t&&d.NdJ("click",function(l){return r._onButtonClick(l)}),2&t&&d.uIk("aria-label",r.ariaLabel||null)("type",r.type)},inputs:{ariaLabel:["aria-label","ariaLabel"],type:"type",dialogResult:["mat-dialog-close","dialogResult"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[d.TTD]}),n})(),oU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]}),n})(),aU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"]}),n})(),$1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[zP,nU],imports:[[lB,sP,al],al]}),n})(),z1=(()=>{class n{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),uU=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,r)=>this._cleanupObserver(r))}observe(t){const r=Or(t);return new hn.y(o=>{const h=this._observeElement(r).subscribe(o);return()=>{h.unsubscribe(),this._unobserveElement(r)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const r=new gt.x,o=this._mutationObserverFactory.create(l=>r.next(l));o&&o.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:o,stream:r,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:r,stream:o}=this._observedElements.get(t);r&&r.disconnect(),o.complete(),this._observedElements.delete(t)}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(z1))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),dU=(()=>{class n{constructor(t,r,o){this._contentObserver=t,this._elementRef=r,this._ngZone=o,this.event=new d.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=So(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=OR(t),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(function(n,e=Od.z){return(0,fr.e)((t,r)=>{let o=null,l=null,h=null;const p=()=>{if(o){o.unsubscribe(),o=null;const C=l;l=null,r.next(C)}};function y(){const C=h+n,T=e.now();if(T<C)return o=this.schedule(void 0,C-T),void r.add(o);p()}t.subscribe(new kt.Q(r,C=>{l=C,h=e.now(),o||(o=e.schedule(y,n),r.add(o))},()=>{p(),r.complete()},void 0,()=>{l=o=null}))})}(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){var t;null==(t=this._currentSubscription)||t.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(uU),d.Y36(d.SBq),d.Y36(d.R0b))},n.\u0275dir=d.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),hU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[z1]}),n})();const fU=["connectionContainer"],pU=["inputContainer"],gU=["label"];function mU(n,e){1&n&&(d.ynx(0),d.TgZ(1,"div",14),d._UZ(2,"div",15),d._UZ(3,"div",16),d._UZ(4,"div",17),d.qZA(),d.TgZ(5,"div",18),d._UZ(6,"div",15),d._UZ(7,"div",16),d._UZ(8,"div",17),d.qZA(),d.BQk())}function _U(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"div",19),d.NdJ("cdkObserveContent",function(){return d.CHM(t),d.oxw().updateOutlineGap()}),d.Hsn(1,1),d.qZA()}if(2&n){const t=d.oxw();d.Q6J("cdkObserveContentDisabled","outline"!=t.appearance)}}function yU(n,e){if(1&n&&(d.ynx(0),d.Hsn(1,2),d.TgZ(2,"span"),d._uU(3),d.qZA(),d.BQk()),2&n){const t=d.oxw(2);d.xp6(3),d.Oqu(t._control.placeholder)}}function vU(n,e){1&n&&d.Hsn(0,3,["*ngSwitchCase","true"])}function bU(n,e){1&n&&(d.TgZ(0,"span",23),d._uU(1," *"),d.qZA())}function EU(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"label",20,21),d.NdJ("cdkObserveContent",function(){return d.CHM(t),d.oxw().updateOutlineGap()}),d.YNc(2,yU,4,1,"ng-container",12),d.YNc(3,vU,1,0,"ng-content",12),d.YNc(4,bU,2,0,"span",22),d.qZA()}if(2&n){const t=d.oxw();d.ekj("mat-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),d.Q6J("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),d.uIk("for",t._control.id)("aria-owns",t._control.id),d.xp6(2),d.Q6J("ngSwitchCase",!1),d.xp6(1),d.Q6J("ngSwitchCase",!0),d.xp6(1),d.Q6J("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function wU(n,e){1&n&&(d.TgZ(0,"div",24),d.Hsn(1,4),d.qZA())}function CU(n,e){if(1&n&&(d.TgZ(0,"div",25),d._UZ(1,"span",26),d.qZA()),2&n){const t=d.oxw();d.xp6(1),d.ekj("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function DU(n,e){if(1&n&&(d.TgZ(0,"div"),d.Hsn(1,5),d.qZA()),2&n){const t=d.oxw();d.Q6J("@transitionMessages",t._subscriptAnimationState)}}function IU(n,e){if(1&n&&(d.TgZ(0,"div",30),d._uU(1),d.qZA()),2&n){const t=d.oxw(2);d.Q6J("id",t._hintLabelId),d.xp6(1),d.Oqu(t.hintLabel)}}function TU(n,e){if(1&n&&(d.TgZ(0,"div",27),d.YNc(1,IU,2,2,"div",28),d.Hsn(2,6),d._UZ(3,"div",29),d.Hsn(4,7),d.qZA()),2&n){const t=d.oxw();d.Q6J("@transitionMessages",t._subscriptAnimationState),d.xp6(1),d.Q6J("ngIf",t.hintLabel)}}const SU=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],AU=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],xU=new d.OlP("MatError"),MU={transitionMessages:AS("transitionMessages",[Xm("enter",il({opacity:1,transform:"translateY(0%)"})),w0("void => enter",[il({opacity:0,transform:"translateY(-5px)"}),E0("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let GP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n}),n})();const RU=new d.OlP("MatHint");let WS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["mat-label"]]}),n})(),PU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const kU=new d.OlP("MatPrefix"),G1=new d.OlP("MatSuffix");let OU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["","matSuffix",""]],features:[d._Bn([{provide:G1,useExisting:n}])]}),n})(),q1=0;const FU=BP(class{constructor(n){this._elementRef=n}},"primary"),LU=new d.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),Z1=new d.OlP("MatFormField");let K1=(()=>{class n extends FU{constructor(t,r,o,l,h,p,y){super(t),this._changeDetectorRef=r,this._dir=o,this._defaults=l,this._platform=h,this._ngZone=p,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new gt.x,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+q1++,this._labelId="mat-form-field-label-"+q1++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==y,this.appearance=l&&l.appearance?l.appearance:"legacy",this._hideRequiredMarker=!(!l||null==l.hideRequiredMarker)&&l.hideRequiredMarker}get appearance(){return this._appearance}set appearance(t){const r=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&r!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=So(t)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe(Ri(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(oh(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(oh(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,_g.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(Ri(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(Ri(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(oh(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const r=this._control?this._control.ngControl:null;return r&&r[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,yS(this._label.nativeElement,"transitionend").pipe((0,fi.q)(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const r=this._hintChildren?this._hintChildren.find(l=>"start"===l.align):null,o=this._hintChildren?this._hintChildren.find(l=>"end"===l.align):null;r?t.push(r.id):this._hintLabel&&t.push(this._hintLabelId),o&&t.push(o.id)}else this._errorChildren&&t.push(...this._errorChildren.map(r=>r.id));this._control.setDescribedByIds(t)}}_validateControlChild(){}updateOutlineGap(){const t=this._label?this._label.nativeElement:null;if(!("outline"===this.appearance&&t&&t.children.length&&t.textContent.trim()&&this._platform.isBrowser))return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let r=0,o=0;const l=this._connectionContainerRef.nativeElement,h=l.querySelectorAll(".mat-form-field-outline-start"),p=l.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const y=l.getBoundingClientRect();if(0===y.width&&0===y.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const C=this._getStartEnd(y),T=t.children,R=this._getStartEnd(T[0].getBoundingClientRect());let V=0;for(let U=0;U<T.length;U++)V+=T[U].offsetWidth;r=Math.abs(R-C)-5,o=V>0?.75*V+10:0}for(let y=0;y<h.length;y++)h[y].style.width=`${r}px`;for(let y=0;y<p.length;y++)p[y].style.width=`${o}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const r=t.getRootNode();return r&&r!==t}return document.documentElement.contains(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(d.sBO),d.Y36(pb,8),d.Y36(LU,8),d.Y36(fa),d.Y36(d.R0b),d.Y36(bb,8))},n.\u0275cmp=d.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(t,r,o){if(1&t&&(d.Suo(o,GP,5),d.Suo(o,GP,7),d.Suo(o,WS,5),d.Suo(o,WS,7),d.Suo(o,PU,5),d.Suo(o,xU,5),d.Suo(o,RU,5),d.Suo(o,kU,5),d.Suo(o,G1,5)),2&t){let l;d.iGM(l=d.CRH())&&(r._controlNonStatic=l.first),d.iGM(l=d.CRH())&&(r._controlStatic=l.first),d.iGM(l=d.CRH())&&(r._labelChildNonStatic=l.first),d.iGM(l=d.CRH())&&(r._labelChildStatic=l.first),d.iGM(l=d.CRH())&&(r._placeholderChild=l.first),d.iGM(l=d.CRH())&&(r._errorChildren=l),d.iGM(l=d.CRH())&&(r._hintChildren=l),d.iGM(l=d.CRH())&&(r._prefixChildren=l),d.iGM(l=d.CRH())&&(r._suffixChildren=l)}},viewQuery:function(t,r){if(1&t&&(d.Gf(fU,7),d.Gf(pU,5),d.Gf(gU,5)),2&t){let o;d.iGM(o=d.CRH())&&(r._connectionContainerRef=o.first),d.iGM(o=d.CRH())&&(r._inputContainerRef=o.first),d.iGM(o=d.CRH())&&(r._label=o.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(t,r){2&t&&d.ekj("mat-form-field-appearance-standard","standard"==r.appearance)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-appearance-legacy","legacy"==r.appearance)("mat-form-field-invalid",r._control.errorState)("mat-form-field-can-float",r._canLabelFloat())("mat-form-field-should-float",r._shouldLabelFloat())("mat-form-field-has-label",r._hasFloatingLabel())("mat-form-field-hide-placeholder",r._hideControlPlaceholder())("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-focused",r._control.focused)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))("_mat-animation-noopable",!r._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[d._Bn([{provide:Z1,useExisting:n}]),d.qOj],ngContentSelectors:AU,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,r){1&t&&(d.F$t(SU),d.TgZ(0,"div",0),d.TgZ(1,"div",1,2),d.NdJ("click",function(l){return r._control.onContainerClick&&r._control.onContainerClick(l)}),d.YNc(3,mU,9,0,"ng-container",3),d.YNc(4,_U,2,1,"div",4),d.TgZ(5,"div",5,6),d.Hsn(7),d.TgZ(8,"span",7),d.YNc(9,EU,5,16,"label",8),d.qZA(),d.qZA(),d.YNc(10,wU,2,0,"div",9),d.qZA(),d.YNc(11,CU,2,4,"div",10),d.TgZ(12,"div",11),d.YNc(13,DU,2,1,"div",12),d.YNc(14,TU,5,2,"div",13),d.qZA(),d.qZA()),2&t&&(d.xp6(3),d.Q6J("ngIf","outline"==r.appearance),d.xp6(1),d.Q6J("ngIf",r._prefixChildren.length),d.xp6(5),d.Q6J("ngIf",r._hasFloatingLabel()),d.xp6(1),d.Q6J("ngIf",r._suffixChildren.length),d.xp6(1),d.Q6J("ngIf","outline"!=r.appearance),d.xp6(1),d.Q6J("ngSwitch",r._getDisplayedMessages()),d.xp6(1),d.Q6J("ngSwitchCase","error"),d.xp6(1),d.Q6J("ngSwitchCase","hint"))},directives:[zi,Ou,Gi,dU],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[MU.transitionMessages]},changeDetection:0}),n})(),Y1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[to,al,hU],al]}),n})();const Q1=Km({passive:!0});let VU=(()=>{class n{constructor(t,r){this._platform=t,this._ngZone=r,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return gs.E;const r=Or(t),o=this._monitoredElements.get(r);if(o)return o.subject;const l=new gt.x,h="cdk-text-field-autofilled",p=y=>{"cdk-text-field-autofill-start"!==y.animationName||r.classList.contains(h)?"cdk-text-field-autofill-end"===y.animationName&&r.classList.contains(h)&&(r.classList.remove(h),this._ngZone.run(()=>l.next({target:y.target,isAutofilled:!1}))):(r.classList.add(h),this._ngZone.run(()=>l.next({target:y.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{r.addEventListener("animationstart",p,Q1),r.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(r,{subject:l,unlisten:()=>{r.removeEventListener("animationstart",p,Q1)}}),l}stopMonitoring(t){const r=Or(t),o=this._monitoredElements.get(r);o&&(o.unlisten(),o.subject.complete(),r.classList.remove("cdk-text-field-autofill-monitored"),r.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(r))}ngOnDestroy(){this._monitoredElements.forEach((t,r)=>this.stopMonitoring(r))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(fa),d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),X1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[VR]]}),n})();const BU=new d.OlP("MAT_INPUT_VALUE_ACCESSOR"),UU=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let jU=0;const HU=U2(class{constructor(n,e,t,r){this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=t,this.ngControl=r}});let J1=(()=>{class n extends HU{constructor(t,r,o,l,h,p,y,C,T,R){super(p,l,h,o),this._elementRef=t,this._platform=r,this._autofillMonitor=C,this._formField=R,this._uid="mat-input-"+jU++,this.focused=!1,this.stateChanges=new gt.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(Q=>$O().has(Q));const V=this._elementRef.nativeElement,U=V.nodeName.toLowerCase();this._inputValueAccessor=y||V,this._previousNativeValue=this.value,this.id=this.id,r.IOS&&T.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",Q=>{const fe=Q.target;!fe.value&&0===fe.selectionStart&&0===fe.selectionEnd&&(fe.setSelectionRange(1,1),fe.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===U,this._isTextarea="textarea"===U,this._isInFormField=!!R,this._isNativeSelect&&(this.controlType=V.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=So(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){var t,r,o,l;return null!=(l=null!=(o=this._required)?o:null==(r=null==(t=this.ngControl)?void 0:t.control)?void 0:r.hasValidator(Ot.required))&&l}set required(t){this._required=So(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&$O().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=So(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var r,o;const t=(null==(o=null==(r=this._formField)?void 0:r._hideControlPlaceholder)?void 0:o.call(r))?null:this.placeholder;if(t!==this._previousPlaceholder){const l=this._elementRef.nativeElement;this._previousPlaceholder=t,t?l.setAttribute("placeholder",t):l.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){UU.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,r=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&r&&r.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(fa),d.Y36(qc,10),d.Y36(ef,8),d.Y36(ly,8),d.Y36(F1),d.Y36(BU,10),d.Y36(VU),d.Y36(d.R0b),d.Y36(Z1,8))},n.\u0275dir=d.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:11,hostBindings:function(t,r){1&t&&d.NdJ("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&t&&(d.Ikx("disabled",r.disabled)("required",r.required),d.uIk("id",r.id)("data-placeholder",r.placeholder)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required),d.ekj("mat-input-server",r._isServer)("mat-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[d._Bn([{provide:GP,useExisting:n}]),d.qOj,d.TTD]}),n})(),eF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[F1],imports:[[X1,Y1,al],X1,Y1]}),n})();const $U=["mat-button",""],zU=["*"],qU=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],WU=BP(V2(B2(class{constructor(n){this._elementRef=n}})));let ZS=(()=>{class n extends WU{constructor(t,r,o){super(t),this._focusMonitor=r,this._animationMode=o,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const l of qU)this._hasHostAttributes(l)&&this._getHostElement().classList.add(l);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,r){t?this._focusMonitor.focusVia(this._getHostElement(),t,r):this._getHostElement().focus(r)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(r=>this._getHostElement().hasAttribute(r))}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(XO),d.Y36(bb,8))},n.\u0275cmp=d.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,r){if(1&t&&d.Gf(U1,5),2&t){let o;d.iGM(o=d.CRH())&&(r.ripple=o.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,r){2&t&&(d.uIk("disabled",r.disabled||null),d.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-button-disabled",r.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[d.qOj],attrs:$U,ngContentSelectors:zU,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,r){1&t&&(d.F$t(),d.TgZ(0,"span",0),d.Hsn(1),d.qZA(),d._UZ(2,"span",1),d._UZ(3,"span",2)),2&t&&(d.xp6(2),d.ekj("mat-button-ripple-round",r.isRoundButton||r.isIconButton),d.Q6J("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",r.isIconButton)("matRippleTrigger",r._getHostElement()))},directives:[U1],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),tF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[Z2,al],al]}),n})(),ZU=(()=>{class n{constructor(t,r,o){this.dialogRef=t,this.data=r,this.boardService=o}ngOnInit(){}onNoClick(){this.dialogRef.close()}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(HP),d.Y36(j1),d.Y36(TS))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-dialog-body"]],decls:12,vars:3,consts:[["mat-dialog-content",""],[1,"w-100"],["matInput","",3,"ngModel","ngModelChange"],["mat-dialog-actions",""],["mat-raised-button","","cdkFocusInitial","","color","primary",3,"mat-dialog-close"],["mat-button","",3,"click"]],template:function(t,r){1&t&&(d.TgZ(0,"div",0),d.TgZ(1,"h3"),d._uU(2),d.qZA(),d.TgZ(3,"mat-form-field",1),d.TgZ(4,"mat-label"),d._uU(5,"Add title"),d.qZA(),d.TgZ(6,"input",2),d.NdJ("ngModelChange",function(l){return r.data.text=l}),d.qZA(),d.qZA(),d.qZA(),d.TgZ(7,"div",3),d.TgZ(8,"button",4),d._uU(9,"Confirm"),d.qZA(),d.TgZ(10,"button",5),d.NdJ("click",function(){return r.onNoClick()}),d._uU(11,"Cancel"),d.qZA(),d.qZA()),2&t&&(d.xp6(2),d.Oqu(r.data.question),d.xp6(4),d.Q6J("ngModel",r.data.text),d.xp6(2),d.Q6J("mat-dialog-close",r.data.text))},directives:[oU,K1,WS,J1,tg,sg,sy,aU,ZS,sU],styles:[""]}),n})();const KU=["*"];let YU=(()=>{class n{constructor(t,r){this.dialog=t,this.boardService=r,this.emitText=new d.vpe}ngOnInit(){}openDialog(){this.dialog.open(ZU,{width:"400px",data:{question:this.question}}).afterClosed().subscribe(r=>{this.emitText.emit(r)})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(zP),d.Y36(TS))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-dialog"]],inputs:{question:"question"},outputs:{emitText:"emitText"},ngContentSelectors:KU,decls:2,vars:0,consts:[[3,"click"]],template:function(t,r){1&t&&(d.F$t(),d.TgZ(0,"div",0),d.NdJ("click",function(){return r.openDialog()}),d.Hsn(1),d.qZA())},styles:[""]}),n})(),QU=(()=>{class n{constructor(t,r){this.firebaseService=t,this.router=r}ngOnInit(){}onLogout(){var t=this;return(0,de.Z)(function*(){yield t.firebaseService.logout(),yield t.router.navigate(["sign-in"])})()}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(hb),d.Y36(An))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-logout"]],decls:2,vars:0,consts:[[1,"btn-primary","btn-logout",3,"click"]],template:function(t,r){1&t&&(d.TgZ(0,"button",0),d.NdJ("click",function(){return r.onLogout()}),d._uU(1,"logout"),d.qZA())},styles:[".btn-logout[_ngcontent-%COMP%]{width:110px;height:36px;font-weight:bold}"]}),n})();class JU{}class hp{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const o=t.slice(0,r),l=o.toLowerCase(),h=t.slice(r+1).trim();this.maybeSetNormalizedName(o,l),this.headers.has(l)?this.headers.get(l).push(h):this.headers.set(l,[h])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const o=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(o,r),this.maybeSetNormalizedName(t,o))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof hp?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new hp;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof hp?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const o=("a"===e.op?this.headers.get(t):void 0)||[];o.push(...r),this.headers.set(t,o);break;case"d":const l=e.value;if(l){let h=this.headers.get(t);if(!h)return;h=h.filter(p=>-1===l.indexOf(p)),0===h.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,h)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class ej{encodeKey(e){return nF(e)}encodeValue(e){return nF(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const nj=/%(\d[a-f0-9])/gi,rj={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function nF(n){return encodeURIComponent(n).replace(nj,(e,t)=>{var r;return null!=(r=rj[t])?r:e})}function rF(n){return`${n}`}class fp{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new ej,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(o=>{const l=o.indexOf("="),[h,p]=-1==l?[e.decodeKey(o),""]:[e.decodeKey(o.slice(0,l)),e.decodeValue(o.slice(l+1))],y=t.get(h)||[];y.push(p),t.set(h,y)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t];this.map.set(t,Array.isArray(r)?r:[r])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const o=e[r];Array.isArray(o)?o.forEach(l=>{t.push({param:r,value:l,op:"a"})}):t.push({param:r,value:o,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new fp({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(rF(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const o=r.indexOf(rF(e.value));-1!==o&&r.splice(o,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class ij{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}keys(){return this.map.keys()}}function iF(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function sF(n){return"undefined"!=typeof Blob&&n instanceof Blob}function oF(n){return"undefined"!=typeof FormData&&n instanceof FormData}class T0{constructor(e,t,r,o){let l;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==r?r:null,l=o):l=r,l&&(this.reportProgress=!!l.reportProgress,this.withCredentials=!!l.withCredentials,l.responseType&&(this.responseType=l.responseType),l.headers&&(this.headers=l.headers),l.context&&(this.context=l.context),l.params&&(this.params=l.params)),this.headers||(this.headers=new hp),this.context||(this.context=new ij),this.params){const h=this.params.toString();if(0===h.length)this.urlWithParams=t;else{const p=t.indexOf("?");this.urlWithParams=t+(-1===p?"?":p<t.length-1?"&":"")+h}}else this.params=new fp,this.urlWithParams=t}serializeBody(){return null===this.body?null:iF(this.body)||sF(this.body)||oF(this.body)||function(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof fp?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||oF(this.body)?null:sF(this.body)?this.body.type||null:iF(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof fp?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var R;const t=e.method||this.method,r=e.url||this.url,o=e.responseType||this.responseType,l=void 0!==e.body?e.body:this.body,h=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,p=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let y=e.headers||this.headers,C=e.params||this.params;const T=null!=(R=e.context)?R:this.context;return void 0!==e.setHeaders&&(y=Object.keys(e.setHeaders).reduce((V,U)=>V.set(U,e.setHeaders[U]),y)),e.setParams&&(C=Object.keys(e.setParams).reduce((V,U)=>V.set(U,e.setParams[U]),C)),new T0(t,r,l,{params:C,headers:y,context:T,reportProgress:p,responseType:o,withCredentials:h})}}var as=(()=>((as=as||{})[as.Sent=0]="Sent",as[as.UploadProgress=1]="UploadProgress",as[as.ResponseHeader=2]="ResponseHeader",as[as.DownloadProgress=3]="DownloadProgress",as[as.Response=4]="Response",as[as.User=5]="User",as))();class qP extends class{constructor(e,t=200,r="OK"){this.headers=e.headers||new hp,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(e={}){super(e),this.type=as.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new qP({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}function WP(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let lF=(()=>{class n{constructor(t){this.handler=t}request(t,r,o={}){let l;if(t instanceof T0)l=t;else{let y,C;y=o.headers instanceof hp?o.headers:new hp(o.headers),o.params&&(C=o.params instanceof fp?o.params:new fp({fromObject:o.params})),l=new T0(t,r,void 0!==o.body?o.body:null,{headers:y,context:o.context,params:C,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}const h=st(l).pipe(lo(y=>this.handler.handle(y)));if(t instanceof T0||"events"===o.observe)return h;const p=h.pipe(Kr(y=>y instanceof qP));switch(o.observe||"body"){case"body":switch(l.responseType){case"arraybuffer":return p.pipe((0,Je.U)(y=>{if(null!==y.body&&!(y.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return y.body}));case"blob":return p.pipe((0,Je.U)(y=>{if(null!==y.body&&!(y.body instanceof Blob))throw new Error("Response is not a Blob.");return y.body}));case"text":return p.pipe((0,Je.U)(y=>{if(null!==y.body&&"string"!=typeof y.body)throw new Error("Response is not a string.");return y.body}));default:return p.pipe((0,Je.U)(y=>y.body))}case"response":return p;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new fp).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,o={}){return this.request("PATCH",t,WP(o,r))}post(t,r,o={}){return this.request("POST",t,WP(o,r))}put(t,r,o={}){return this.request("PUT",t,WP(o,r))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(JU))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const cj=["*"];let KS;function S0(n){var e;return(null==(e=function(){if(void 0===KS&&(KS=null,"undefined"!=typeof window)){const n=window;void 0!==n.trustedTypes&&(KS=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return KS}())?void 0:e.createHTML(n))||n}function cF(n){return Error(`Unable to find icon with the name "${n}"`)}function uF(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function dF(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class r_{constructor(e,t,r){this.url=e,this.svgText=t,this.options=r}}let YS=(()=>{class n{constructor(t,r,o,l){this._httpClient=t,this._sanitizer=r,this._errorHandler=l,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=o}addSvgIcon(t,r,o){return this.addSvgIconInNamespace("",t,r,o)}addSvgIconLiteral(t,r,o){return this.addSvgIconLiteralInNamespace("",t,r,o)}addSvgIconInNamespace(t,r,o,l){return this._addSvgIconConfig(t,r,new r_(o,null,l))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,r,o,l){const h=this._sanitizer.sanitize(d.q3G.HTML,o);if(!h)throw dF(o);const p=S0(h);return this._addSvgIconConfig(t,r,new r_("",p,l))}addSvgIconSet(t,r){return this.addSvgIconSetInNamespace("",t,r)}addSvgIconSetLiteral(t,r){return this.addSvgIconSetLiteralInNamespace("",t,r)}addSvgIconSetInNamespace(t,r,o){return this._addSvgIconSetConfig(t,new r_(r,null,o))}addSvgIconSetLiteralInNamespace(t,r,o){const l=this._sanitizer.sanitize(d.q3G.HTML,r);if(!l)throw dF(r);const h=S0(l);return this._addSvgIconSetConfig(t,new r_("",h,o))}registerFontClassAlias(t,r=t){return this._fontCssClassesByAlias.set(t,r),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const r=this._sanitizer.sanitize(d.q3G.RESOURCE_URL,t);if(!r)throw uF(t);const o=this._cachedIconsByUrl.get(r);return o?st(QS(o)):this._loadSvgIconFromConfig(new r_(t,null)).pipe((0,fn.b)(l=>this._cachedIconsByUrl.set(r,l)),(0,Je.U)(l=>QS(l)))}getNamedSvgIcon(t,r=""){const o=hF(r,t);let l=this._svgIconConfigs.get(o);if(l)return this._getSvgFromConfig(l);if(l=this._getIconConfigFromResolvers(r,t),l)return this._svgIconConfigs.set(o,l),this._getSvgFromConfig(l);const h=this._iconSetConfigs.get(r);return h?this._getSvgFromIconSetConfigs(t,h):function(n,e){const t=(0,cn.m)(n)?n:()=>n,r=o=>o.error(t());return new hn.y(r)}(cF(o))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?st(QS(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe((0,Je.U)(r=>QS(r)))}_getSvgFromIconSetConfigs(t,r){const o=this._extractIconWithNameFromAnySet(t,r);return o?st(o):H0(r.filter(h=>!h.svgText).map(h=>this._loadSvgIconSetFromConfig(h).pipe(pr(p=>{const C=`Loading icon set URL: ${this._sanitizer.sanitize(d.q3G.RESOURCE_URL,h.url)} failed: ${p.message}`;return this._errorHandler.handleError(new Error(C)),st(null)})))).pipe((0,Je.U)(()=>{const h=this._extractIconWithNameFromAnySet(t,r);if(!h)throw cF(t);return h}))}_extractIconWithNameFromAnySet(t,r){for(let o=r.length-1;o>=0;o--){const l=r[o];if(l.svgText&&l.svgText.toString().indexOf(t)>-1){const h=this._svgElementFromConfig(l),p=this._extractSvgIconFromSet(h,t,l.options);if(p)return p}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe((0,fn.b)(r=>t.svgText=r),(0,Je.U)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?st(null):this._fetchIcon(t).pipe((0,fn.b)(r=>t.svgText=r))}_extractSvgIconFromSet(t,r,o){const l=t.querySelector(`[id="${r}"]`);if(!l)return null;const h=l.cloneNode(!0);if(h.removeAttribute("id"),"svg"===h.nodeName.toLowerCase())return this._setSvgAttributes(h,o);if("symbol"===h.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(h),o);const p=this._svgElementFromString(S0("<svg></svg>"));return p.appendChild(h),this._setSvgAttributes(p,o)}_svgElementFromString(t){const r=this._document.createElement("DIV");r.innerHTML=t;const o=r.querySelector("svg");if(!o)throw Error("<svg> tag not found");return o}_toSvgElement(t){const r=this._svgElementFromString(S0("<svg></svg>")),o=t.attributes;for(let l=0;l<o.length;l++){const{name:h,value:p}=o[l];"id"!==h&&r.setAttribute(h,p)}for(let l=0;l<t.childNodes.length;l++)t.childNodes[l].nodeType===this._document.ELEMENT_NODE&&r.appendChild(t.childNodes[l].cloneNode(!0));return r}_setSvgAttributes(t,r){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),r&&r.viewBox&&t.setAttribute("viewBox",r.viewBox),t}_fetchIcon(t){var C;const{url:r,options:o}=t,l=null!=(C=null==o?void 0:o.withCredentials)&&C;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const h=this._sanitizer.sanitize(d.q3G.RESOURCE_URL,r);if(!h)throw uF(r);const p=this._inProgressUrlFetches.get(h);if(p)return p;const y=this._httpClient.get(h,{responseType:"text",withCredentials:l}).pipe((0,Je.U)(T=>S0(T)),Ji(()=>this._inProgressUrlFetches.delete(h)),(0,gE.B)());return this._inProgressUrlFetches.set(h,y),y}_addSvgIconConfig(t,r,o){return this._svgIconConfigs.set(hF(t,r),o),this}_addSvgIconSetConfig(t,r){const o=this._iconSetConfigs.get(t);return o?o.push(r):this._iconSetConfigs.set(t,[r]),this}_svgElementFromConfig(t){if(!t.svgElement){const r=this._svgElementFromString(t.svgText);this._setSvgAttributes(r,t.options),t.svgElement=r}return t.svgElement}_getIconConfigFromResolvers(t,r){for(let o=0;o<this._resolvers.length;o++){const l=this._resolvers[o](r,t);if(l)return fj(l)?new r_(l.url,null,l.options):new r_(l,null)}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(lF,8),d.LFG(Vo),d.LFG(ne,8),d.LFG(d.qLn))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function QS(n){return n.cloneNode(!0)}function hF(n,e){return n+":"+e}function fj(n){return!(!n.url||!n.options)}const pj=BP(class{constructor(n){this._elementRef=n}}),gj=new d.OlP("mat-icon-location",{providedIn:"root",factory:function(){const n=(0,d.f3M)(ne),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),fF=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],_j=fF.map(n=>`[${n}]`).join(", "),yj=/^url\(['"]?#(.*?)['"]?\)$/;let ZP=(()=>{class n extends pj{constructor(t,r,o,l,h){super(t),this._iconRegistry=r,this._location=l,this._errorHandler=h,this._inline=!1,this._currentIconFetch=hi.w0.EMPTY,o||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=So(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const r=this._cleanupFontValue(t);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const r=this._cleanupFontValue(t);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const r=t.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const r=t.querySelectorAll("style");for(let l=0;l<r.length;l++)r[l].textContent+=" ";const o=this._location.getPathname();this._previousPath=o,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(o),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let r=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){const o=t.childNodes[r];(1!==o.nodeType||"svg"===o.nodeName.toLowerCase())&&o.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,r=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();r!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),r&&t.classList.add(r),this._previousFontSetClass=r),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const r=this._elementsWithExternalReferences;r&&r.forEach((o,l)=>{o.forEach(h=>{l.setAttribute(h.name,`url('${t}#${h.value}')`)})})}_cacheChildrenWithExternalReferences(t){const r=t.querySelectorAll(_j),o=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let l=0;l<r.length;l++)fF.forEach(h=>{const p=r[l],y=p.getAttribute(h),C=y?y.match(yj):null;if(C){let T=o.get(p);T||(T=[],o.set(p,T)),T.push({name:h,value:C[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[r,o]=this._splitIconName(t);r&&(this._svgNamespace=r),o&&(this._svgName=o),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(o,r).pipe((0,fi.q)(1)).subscribe(l=>this._setSvgElement(l),l=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${r}:${o}! ${l.message}`))})}}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(YS),d.$8M("aria-hidden"),d.Y36(gj),d.Y36(d.qLn))},n.\u0275cmp=d.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(t,r){2&t&&(d.uIk("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet),d.ekj("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[d.qOj],ngContentSelectors:cj,decls:1,vars:0,template:function(t,r){1&t&&(d.F$t(),d.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;-moz-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),n})(),vj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[al],al]}),n})();const bj=function(n){return{background:n}};function Ej(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"div"),d.TgZ(1,"div",2),d.NdJ("click",function(){const l=d.CHM(t).$implicit;return d.oxw().onColorEmit(l)}),d.qZA(),d.qZA()}if(2&n){const t=e.$implicit;d.xp6(1),d.Q6J("ngStyle",d.VKq(1,bj,t))}}var XS=(()=>(function(n){n.RED="#e92c64",n.GREEN="#009886",n.BLUE="#208eed",n.VIOLET="#912f84",n.YELLOW="#b36619",n.PINK="#6e1d96"}(XS||(XS={})),XS))();let wj=(()=>{class n{constructor(){this.emitColor=new d.vpe,this.colorsData=Object.values(XS)}ngOnInit(){}onColorEmit(t){this.emitColor.emit(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-color-panel"]],outputs:{emitColor:"emitColor"},decls:2,vars:1,consts:[[1,"d-flex","justify-content-center","align-items-center","py-2","shadow-sm"],[4,"ngFor","ngForOf"],[1,"color-panel-item","shadow-sm","mr-2",3,"ngStyle","click"]],template:function(t,r){1&t&&(d.TgZ(0,"div",0),d.YNc(1,Ej,2,3,"div",1),d.qZA()),2&t&&(d.xp6(1),d.Q6J("ngForOf",r.colorsData))},directives:[ya,Gr],styles:[".color-panel-item[_ngcontent-%COMP%]{width:20px;height:20px;border-radius:3px;cursor:pointer;transition:ease-in-out opacity .1s}.color-panel-item[_ngcontent-%COMP%]:hover{opacity:.6}"]}),n})();function Cj(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"button",12),d.NdJ("click",function(){d.CHM(t);const o=d.oxw(2);return o.onCommentTextEmmit(o.item.id)}),d.TgZ(1,"mat-icon"),d._uU(2,"done"),d.qZA(),d.qZA()}}function Dj(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"div"),d.TgZ(1,"mat-form-field",9),d.TgZ(2,"mat-label"),d._uU(3,"Leave a comment"),d.qZA(),d.TgZ(4,"textarea",10),d.NdJ("ngModelChange",function(o){return d.CHM(t),d.oxw().commentInput=o})("mousedown",function(o){return o.stopPropagation()}),d.qZA(),d.YNc(5,Cj,3,0,"button",11),d.qZA(),d.Hsn(6),d.qZA()}if(2&n){const t=d.oxw();d.xp6(4),d.Q6J("ngModel",t.commentInput),d.xp6(1),d.Q6J("ngIf",t.commentInput)}}const Ij=["*"];let Tj=(()=>{class n{constructor(){this.emitText=new d.vpe,this.emitCardItem=new d.vpe,this.emitDeleteCard=new d.vpe,this.commentInput="",this.open=!1}ngOnInit(){}onOpenComment(){this.open=!this.open}onCommentTextEmmit(t){this.emitText.emit({id:t,text:this.commentInput}),this.commentInput=""}onCardItemEmit(t,r){this.emitCardItem.emit({card:t,increase:r})}onCardDelete(t){this.emitDeleteCard.emit(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-board-item"]],inputs:{item:"item"},outputs:{emitText:"emitText",emitCardItem:"emitCardItem",emitDeleteCard:"emitDeleteCard"},ngContentSelectors:Ij,decls:18,vars:4,consts:[[1,"d-flex","justify-content-between","align-items-start","mb-2"],[1,"mt1"],["mat-icon-button","",1,"icon-delete",3,"click"],[2,"font-size","18px"],[1,"d-flex","justify-content-end","align-items-center","mb-2"],["mat-icon-button","","disableRipple","",1,"icon-button",3,"click"],[1,"icon"],[1,"icon-text"],[4,"ngIf"],[1,"w-100","mb-2"],["matInput","",3,"ngModel","ngModelChange","mousedown"],["mat-button","","matSuffix","","mat-icon-button","","color","primary","class","icon-confirm",3,"click",4,"ngIf"],["mat-button","","matSuffix","","mat-icon-button","","color","primary",1,"icon-confirm",3,"click"]],template:function(t,r){1&t&&(d.F$t(),d.TgZ(0,"div",0),d.TgZ(1,"div",1),d._uU(2),d.qZA(),d.TgZ(3,"button",2),d.NdJ("click",function(){return r.onCardDelete(r.item.id)}),d.TgZ(4,"mat-icon",3),d._uU(5,"delete"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(6,"div",4),d.TgZ(7,"button",5),d.NdJ("click",function(){return r.onCardItemEmit(r.item,!0)}),d.TgZ(8,"mat-icon",6),d._uU(9,"thumb_up_off_alt"),d.qZA(),d.qZA(),d.TgZ(10,"span",7),d._uU(11),d.qZA(),d.TgZ(12,"button",5),d.NdJ("click",function(){return r.open=!r.open}),d.TgZ(13,"mat-icon",6),d._uU(14,"chat_bubble_outline"),d.qZA(),d.qZA(),d.TgZ(15,"span",7),d._uU(16),d.qZA(),d.qZA(),d.YNc(17,Dj,7,2,"div",8)),2&t&&(d.xp6(2),d.Oqu(r.item.text),d.xp6(9),d.Oqu(r.item.like.length),d.xp6(5),d.Oqu(r.item.comments.length),d.xp6(1),d.Q6J("ngIf",r.open))},directives:[ZS,ZP,zi,K1,WS,J1,tg,sg,sy,OU],styles:[".icon[_ngcontent-%COMP%]{font-size:18px}.mat-icon-button[_ngcontent-%COMP%]{width:25px;height:25px;display:flex;justify-content:center;align-items:center;transition:color ease .2s}.mat-icon-button[_ngcontent-%COMP%]:hover{color:#fff}.mat-icon-button[_ngcontent-%COMP%]   .mat-button-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{vertical-align:none!important}mat-form-field.mat-form-field[_ngcontent-%COMP%]{background-color:#d4d4d4;padding:10px 10px 0}  .mat-form-field.mat-focused .mat-form-field-required-marker{color:#000}  .mat-form-field.mat-focused .mat-input-element{color:#000}.icon-confirm[_ngcontent-%COMP%]{font-size:20px!important}.icon-button[_ngcontent-%COMP%]{margin-left:10px}.icon-text[_ngcontent-%COMP%]{margin-left:2px}"]}),n})(),Sj=(()=>{class n{constructor(){this.emitComment=new d.vpe}ngOnInit(){}onCommentEmit(t){this.emitComment.emit(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-comment-item"]],inputs:{comment:"comment"},outputs:{emitComment:"emitComment"},decls:5,vars:1,consts:[[1,"shadow-sm","p-3","mb-2","comment-item","position-relative"],["mat-icon-button","",1,"icon-delete",3,"click"],[2,"font-size","18px"]],template:function(t,r){1&t&&(d.TgZ(0,"div",0),d._uU(1),d.TgZ(2,"button",1),d.NdJ("click",function(){return r.onCommentEmit(r.comment)}),d.TgZ(3,"mat-icon",2),d._uU(4,"delete"),d.qZA(),d.qZA(),d.qZA()),2&t&&(d.xp6(1),d.hij(" ",r.comment.text," "))},directives:[ZS,ZP],styles:[".comment-item[_ngcontent-%COMP%]{border:1px solid rgba(223,223,223,.37)}.icon-delete[_ngcontent-%COMP%]{position:absolute;top:0;right:0}"]}),n})();function Aj(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"div"),d.TgZ(1,"app-comment-item",19),d.NdJ("emitComment",function(o){d.CHM(t);const l=d.oxw().$implicit,h=d.oxw().$implicit;return d.oxw().onDeleteComment(o,h.id,l)}),d.qZA(),d.qZA()}if(2&n){const t=e.$implicit;d.xp6(1),d.Q6J("comment",t)}}const xj=function(n){return{background:n}};function Mj(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"div",16),d.TgZ(1,"app-board-item",17),d.NdJ("emitText",function(o){d.CHM(t);const l=d.oxw().$implicit;return d.oxw().onAddComment(o,l.id)})("emitCardItem",function(o){d.CHM(t);const l=d.oxw().$implicit;return d.oxw().onChangeLike(o,l.id)})("emitDeleteCard",function(o){const h=d.CHM(t).$implicit,p=d.oxw().$implicit;return d.oxw().onDeleteCard(o,p.id,p.title,h.text,h.id)}),d.YNc(2,Aj,2,1,"div",18),d.qZA(),d.qZA()}if(2&n){const t=e.$implicit,r=d.oxw().$implicit;d.Q6J("ngStyle",d.VKq(3,xj,r.color)),d.xp6(1),d.Q6J("item",t),d.xp6(1),d.Q6J("ngForOf",t.comments)}}function Rj(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"div",6),d.TgZ(1,"div",7),d.TgZ(2,"h2",8),d._uU(3),d.qZA(),d.TgZ(4,"button",9),d.NdJ("click",function(){const l=d.CHM(t).$implicit;return d.oxw().onDeleteColumn(l.id,l.title)}),d.TgZ(5,"mat-icon",10),d._uU(6,"delete"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(7,"app-dialog",11),d.NdJ("emitText",function(o){const h=d.CHM(t).$implicit;return d.oxw().onAddCard(o,h.id,h.title)}),d.TgZ(8,"button",12),d._uU(9,"+"),d.qZA(),d.qZA(),d.TgZ(10,"app-color-panel",13),d.NdJ("emitColor",function(o){const h=d.CHM(t).$implicit;return d.oxw().onColorChange(o,h.id)}),d.qZA(),d.TgZ(11,"div",14),d.NdJ("cdkDropListDropped",function(o){const h=d.CHM(t).$implicit;return d.oxw().drop(o,h.id)}),d.YNc(12,Mj,3,5,"div",15),d.qZA(),d.qZA()}if(2&n){const t=e.$implicit;d.xp6(3),d.Oqu(t.title),d.xp6(4),d.Q6J("question","Add new card in "+t.title+"column"),d.xp6(4),d.Q6J("cdkDropListData",t.list)("id",t.id),d.xp6(1),d.Q6J("ngForOf",t.list)}}let Pj=(()=>{class n{constructor(t,r,o,l){this.boardService=t,this.firebaseService=r,this.firebaseFirestore=o,this.firebaseAuth=l}ngOnInit(){console.log("onInitWorks");let t=[];t=this.firebaseService.getBoardFromFirestore(),console.log("items",t),this.boardService.generateInitBoard(t)}addColumn(t){t&&this.boardService.addColumn(t)}onDeleteCard(t,r,o,l,h){this.firebaseService.deleteCardFromColumnFirestore(r,h),console.log("event",t),console.log("cardId",h),this.boardService.deleteCard(t,r)}onChangeLike(t,r){const{card:{id:o}}=t;let h;this.firebaseService.getCurrentUser().then(y=>{h=y,this.firebaseService.changeLikeInCard(o,r,h,C=>{this.boardService.changeLike(o,r,C,h)})})}onAddComment(t,r){this.boardService.addComment(r,t.id,t.text)}onDeleteComment(t,r,o){this.firebaseService.deleteCommentFromFirestore(r,o.id,t.id),this.boardService.deleteComment(r,o.id,t.id)}onDeleteColumn(t,r){this.firebaseService.deleteColumnFromFirestore(t),this.boardService.deleteColumn(t)}onAddCard(t,r,o){t&&this.boardService.addCard(t,r,o)}onColorChange(t,r){this.firebaseService.updateColumnColorInFirestore(t,r),this.boardService.changeColumnColor(t,r)}drop(t,r){t.previousContainer===t.container?pN(t.container.data,t.previousIndex,t.currentIndex):function(n,e,t,r){const o=b0(t,n.length-1),l=b0(r,e.length);n.length&&e.splice(l,0,n.splice(o,1)[0])}(t.previousContainer.data,t.container.data,t.previousIndex,t.currentIndex);let o=JSON.parse(JSON.stringify(t.container.data[t.currentIndex]));const l=t.previousContainer.element.nativeElement.id,h=t.container.element.nativeElement.id;this.firebaseService.updateCurrentColumnInFirestore(+h,o),this.firebaseService.updatePreviousColumnInFirestore(+l,o),console.log(),console.log("movedItem",o),console.log("previousId",l),console.log("currentId",h)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(TS),d.Y36(hb),d.Y36(_S),d.Y36(tu))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-board"]],decls:11,vars:3,consts:[[1,"container-fluid"],[1,"d-flex","justify-content-between"],["question","Add new column",3,"emitText"],["mat-raised-button","","color","primary"],["cdkDropListGroup","",1,"row"],["class","col-sm-6 col-lg-3 mb-3",4,"ngFor","ngForOf"],[1,"col-sm-6","col-lg-3","mb-3"],[1,"d-flex","justify-content-between","align-items-center","p-2","shadow-sm","column-header"],[1,"m-0"],["mat-icon-button","",1,"icon-delete",3,"click"],[2,"font-size","20px"],[3,"question","emitText"],["mat-raised-button","",1,"w-100","b-1","btn-add"],[3,"emitColor"],["cdkDropList","",1,"example-list",3,"cdkDropListData","id","cdkDropListDropped"],["cdkDrag","","class","example-box",3,"ngStyle",4,"ngFor","ngForOf"],["cdkDrag","",1,"example-box",3,"ngStyle"],[3,"item","emitText","emitCardItem","emitDeleteCard"],[4,"ngFor","ngForOf"],[3,"comment","emitComment"]],template:function(t,r){1&t&&(d.TgZ(0,"div",0),d.TgZ(1,"div",1),d.TgZ(2,"div"),d.TgZ(3,"app-dialog",2),d.NdJ("emitText",function(l){return r.addColumn(l)}),d.TgZ(4,"button",3),d._uU(5," New column "),d.qZA(),d.qZA(),d.qZA(),d._UZ(6,"app-logout"),d.qZA(),d._UZ(7,"hr"),d.TgZ(8,"div",4),d.YNc(9,Rj,13,5,"div",5),d.ALo(10,"async"),d.qZA(),d.qZA()),2&t&&(d.xp6(9),d.Q6J("ngForOf",d.lcZ(10,1,r.boardService.getBoard$())))},directives:[YU,ZS,QU,LV,ya,ZP,wj,BV,$V,Gr,Tj,Sj],pipes:[Fu],styles:[".example-list[_ngcontent-%COMP%]{min-height:60px;border-radius:4px;overflow:hidden;display:block;height:100%}.example-box[_ngcontent-%COMP%]{padding:10px 10px 5px;border:solid 1px #ccc;color:#ecececde;border-radius:2px;cursor:move;font-size:14px}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.example-box[_ngcontent-%COMP%]:last-child{border:none}.example-list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .example-box[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.btn-add[_ngcontent-%COMP%]{background-color:#cecece}.column-header[_ngcontent-%COMP%]{border:1px solid rgb(207,207,207)}"]}),n})(),kj=(()=>{class n{constructor(t,r){this.afAuth=t,this.router=r}canActivate(t,r){var o=this;return(0,de.Z)(function*(){let l=null!==localStorage.getItem("user");return l?(o.isSignedIn=!0,l):(o.router.navigate(["sign-in"]),!1)})()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(tu),d.LFG(An))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Oj=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-start-page"]],decls:5,vars:0,consts:[[1,"d-flex","w-75","m-auto","justify-content-center"],["routerLink","/sign-in",1,"btn","btn-success","mr-5"],["routerLink","/sign-up",1,"btn","btn-success"]],template:function(t,r){1&t&&(d.TgZ(0,"div",0),d.TgZ(1,"button",1),d._uU(2,"Sign In"),d.qZA(),d.TgZ(3,"button",2),d._uU(4,"Sign Up"),d.qZA(),d.qZA())},directives:[Dd],styles:[""]}),n})();var Nj=N(7979);const pF=(0,Je.U)(n=>!!n),KP=()=>(n=>(0,Nj.z)(pF,(0,Je.U)(e=>e&&n||!0)))(["board"]),Bj=[{path:"",component:Oj,data:{authGuardPipe:KP}},{path:"sign-in",component:EL,data:{authGuardPipe:KP}},{path:"sign-up",component:DL,data:{authGuardPipe:KP}},{path:"board",component:Pj,canActivate:[kj]}];let Uj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[Jp.forRoot(Bj)],Jp]}),n})();const gF_firebase={projectId:"fir-retroboard",appId:"1:815507379044:web:1ff6b29ab503fcc6f8a071",storageBucket:"fir-retroboard.appspot.com",apiKey:"AIzaSyBrjWR1nbjfh-N8oAGYGB55tdBobO76ZZM",authDomain:"fir-retroboard.firebaseapp.com",messagingSenderId:"815507379044"};let jj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})(),Hj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[to,al,jj,sP]]}),n})(),_F=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[to,_y,tF,eF,$1]]}),n})(),$j=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[to,tP,eF,vj,tF,tP,Hj,_y,_F,$1]]}),n})(),zj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n,bootstrap:[j0]}),n.\u0275inj=d.cJS({providers:[hb,TS],imports:[[Xu,Uj,_y,Ls.hO.initializeApp(gF_firebase),sx,yL,tP,to,$j,N2,_F]]}),n})();(0,d.G48)(),Pa().bootstrapModule(zj).catch(n=>console.error(n))},9162:(Ye,be,N)=>{"use strict";function ae(re,pe,Ee,Te){return new(Ee||(Ee=Promise))(function(ye,Mt){function Qt(Ct){try{Rt(Te.next(Ct))}catch(Nt){Mt(Nt)}}function tr(Ct){try{Rt(Te.throw(Ct))}catch(Nt){Mt(Nt)}}function Rt(Ct){Ct.done?ye(Ct.value):function(ye){return ye instanceof Ee?ye:new Ee(function(Mt){Mt(ye)})}(Ct.value).then(Qt,tr)}Rt((Te=Te.apply(re,pe||[])).next())})}function ve(re){return this instanceof ve?(this.v=re,this):new ve(re)}function X(re,pe,Ee){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ve,Te=Ee.apply(re,pe||[]),ye=[];return Ve={},Mt("next"),Mt("throw"),Mt("return"),Ve[Symbol.asyncIterator]=function(){return this},Ve;function Mt(mn){Te[mn]&&(Ve[mn]=function($r){return new Promise(function(oi,dn){ye.push([mn,$r,oi,dn])>1||Qt(mn,$r)})})}function Qt(mn,$r){try{!function(mn){mn.value instanceof ve?Promise.resolve(mn.value.v).then(Rt,Ct):Nt(ye[0][2],mn)}(Te[mn]($r))}catch(oi){Nt(ye[0][3],oi)}}function Rt(mn){Qt("next",mn)}function Ct(mn){Qt("throw",mn)}function Nt(mn,$r){mn($r),ye.shift(),ye.length&&Qt(ye[0][0],ye[0][1])}}function Pe(re){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ee,pe=re[Symbol.asyncIterator];return pe?pe.call(re):(re=function(re){var pe="function"==typeof Symbol&&Symbol.iterator,Ee=pe&&re[pe],Te=0;if(Ee)return Ee.call(re);if(re&&"number"==typeof re.length)return{next:function(){return re&&Te>=re.length&&(re=void 0),{value:re&&re[Te++],done:!re}}};throw new TypeError(pe?"Object is not iterable.":"Symbol.iterator is not defined.")}(re),Ee={},Te("next"),Te("throw"),Te("return"),Ee[Symbol.asyncIterator]=function(){return this},Ee);function Te(ye){Ee[ye]=re[ye]&&function(Mt){return new Promise(function(Qt,tr){!function(ye,Mt,Qt,tr){Promise.resolve(tr).then(function(Rt){ye({value:Rt,done:Qt})},Mt)}(Qt,tr,(Mt=re[ye](Mt)).done,Mt.value)})}}}N.d(be,{mG:()=>ae,qq:()=>ve,FC:()=>X,KL:()=>Pe})},3668:(Ye,be,N)=>{"use strict";N.d(be,{deG:()=>Dh,tb:()=>Iv,AFp:()=>JI,ip1:()=>Cv,CZH:()=>Nf,hGG:()=>yC,z2F:()=>Bf,sBO:()=>AM,Sil:()=>pu,_Vd:()=>Eo,EJc:()=>Tv,SBq:()=>os,qLn:()=>Ua,vpe:()=>sa,tBr:()=>ts,XFs:()=>it,OlP:()=>Sn,zs3:()=>Fn,ZZ4:()=>zv,aQg:()=>Cm,soG:()=>js,YKP:()=>RI,h0i:()=>uu,PXZ:()=>Zd,R0b:()=>Hs,FiY:()=>Yn,Lbi:()=>jr,g9A:()=>eT,Qsj:()=>Bx,FYo:()=>Ef,JOm:()=>vs,Tiy:()=>rv,q3G:()=>$n,tp0:()=>Vr,Rgc:()=>Sf,dDg:()=>oT,q4F:()=>cu,GfV:()=>ti,s_b:()=>cm,ifc:()=>Ze,eFA:()=>Rv,G48:()=>Vf,Gpc:()=>z,f3M:()=>un,X6Q:()=>ca,_c5:()=>ST,VLi:()=>ws,c2e:()=>Ff,zSh:()=>tf,wAp:()=>bt,vHH:()=>Ue,EiD:()=>Ba,mCW:()=>qo,qzn:()=>Bl,JVY:()=>Ph,pB0:()=>Rp,eBb:()=>Mp,L6k:()=>I_,LAX:()=>T_,cg1:()=>Bd,Tjo:()=>Eu,kL8:()=>aw,yhl:()=>dd,dqk:()=>Tt,sIi:()=>Cg,CqO:()=>uf,QGY:()=>Ag,F4k:()=>xt,RDi:()=>vp,AaK:()=>ae,z3N:()=>pi,qOj:()=>bE,TTD:()=>Js,_Bn:()=>Dw,xp6:()=>jb,uIk:()=>DE,ekj:()=>kg,Suo:()=>zd,Xpm:()=>Rn,lG2:()=>xo,Yz7:()=>dn,cJS:()=>xn,oAB:()=>cl,Yjl:()=>ku,Y36:()=>cf,_UZ:()=>OE,BQk:()=>FE,ynx:()=>NE,qZA:()=>Sg,TgZ:()=>Od,EpF:()=>et,n5z:()=>Ac,Ikx:()=>By,LFG:()=>Le,$8M:()=>Pl,$Z:()=>kE,NdJ:()=>xg,CRH:()=>pm,oxw:()=>BD,ALo:()=>Pw,lcZ:()=>du,Hsn:()=>Jr,F$t:()=>Mg,Q6J:()=>Sy,VKq:()=>Rw,iGM:()=>Za,MAs:()=>CD,CHM:()=>hs,LSH:()=>Ul,WFA:()=>Nd,d8E:()=>ff,YNc:()=>wD,_uU:()=>XE,Oqu:()=>Fg,hij:()=>Lg,Gf:()=>Bw});var d=N(273),te=N(7908),L=N(8410),le=N(3719),oe=N(3174);function me(i){for(let s in i)if(i[s]===me)return s;throw Error("Could not find renamed property on target object.")}function ne(i,s){for(const a in s)s.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=s[a])}function ae(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(ae).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function he(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const G=me({__forward_ref__:me});function z(i){return i.__forward_ref__=z,i.toString=function(){return ae(this())},i}function Y(i){return je(i)?i():i}function je(i){return"function"==typeof i&&i.hasOwnProperty(G)&&i.__forward_ref__===z}class Ue extends Error{constructor(s,a){super(function(i,s){return`${i?`NG0${i}: `:""}${s}`}(s,a)),this.code=s}}function X(i){return"string"==typeof i?i:null==i?"":String(i)}function _e(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():X(i)}function ke(i,s){const a=s?` in ${s}`:"";throw new Ue("201",`No provider for ${_e(i)} found${a}`)}function Ct(i,s){null==i&&function(i,s,a,c){throw new Error(`ASSERTION ERROR: ${i}`+(null==c?"":` [Expected=> ${a} ${c} ${s} <=Actual]`))}(s,i,null,"!=")}function dn(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function xn(i){return{providers:i.providers||[],imports:i.imports||[]}}function lr(i){return Zt(i,cs)||Zt(i,cr)}function Zt(i,s){return i.hasOwnProperty(s)?i[s]:null}function Bi(i){return i&&(i.hasOwnProperty(Me)||i.hasOwnProperty(qn))?i[Me]:null}const cs=me({\u0275prov:me}),Me=me({\u0275inj:me}),cr=me({ngInjectableDef:me}),qn=me({ngInjectorDef:me});var it=(()=>((it=it||{})[it.Default=0]="Default",it[it.Host=1]="Host",it[it.Self=2]="Self",it[it.SkipSelf=4]="SkipSelf",it[it.Optional=8]="Optional",it))();let Yt;function ai(i){const s=Yt;return Yt=i,s}function pt(i,s,a){const c=lr(i);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:a&it.Optional?null:void 0!==s?s:void ke(ae(i),"Injector")}function Ut(i){return{toString:i}.toString()}var jt=(()=>((jt=jt||{})[jt.OnPush=0]="OnPush",jt[jt.Default=1]="Default",jt))(),Ze=(()=>{return(i=Ze||(Ze={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",Ze;var i})();const dt="undefined"!=typeof globalThis&&globalThis,Ru="undefined"!=typeof window&&window,Ks="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Tt=dt||"undefined"!=typeof global&&global||Ru||Ks,q={},j=[],K=me({\u0275cmp:me}),Ie=me({\u0275dir:me}),ie=me({\u0275pipe:me}),Xe=me({\u0275mod:me}),_t=me({\u0275fac:me}),rn=me({__NG_ELEMENT_ID__:me});let wr=0;function Rn(i){return Ut(()=>{const a={},c={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===jt.OnPush,directiveDefs:null,pipeDefs:null,selectors:i.selectors||j,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||Ze.Emulated,id:"c",styles:i.styles||j,_:null,setInput:null,schemas:i.schemas||null,tView:null},u=i.directives,f=i.features,_=i.pipes;return c.id+=wr++,c.inputs=oc(i.inputs,a),c.outputs=oc(i.outputs),f&&f.forEach(b=>b(c)),c.directiveDefs=u?()=>("function"==typeof u?u():u).map(Gt):null,c.pipeDefs=_?()=>("function"==typeof _?_():_).map(Cr):null,c})}function Gt(i){return _n(i)||function(i){return i[Ie]||null}(i)}function Cr(i){return function(i){return i[ie]||null}(i)}const Ao={};function cl(i){return Ut(()=>{const s={type:i.type,bootstrap:i.bootstrap||j,declarations:i.declarations||j,imports:i.imports||j,exports:i.exports||j,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null};return null!=i.id&&(Ao[i.id]=i.type),s})}function oc(i,s){if(null==i)return q;const a={};for(const c in i)if(i.hasOwnProperty(c)){let u=i[c],f=u;Array.isArray(u)&&(f=u[1],u=u[0]),a[u]=c,s&&(s[u]=f)}return a}const xo=Rn;function ku(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,onDestroy:i.type.prototype.ngOnDestroy||null}}function _n(i){return i[K]||null}function Dr(i,s){const a=i[Xe]||null;if(!a&&!0===s)throw new Error(`Type ${ae(i)} does not have '\u0275mod' property.`);return a}function Gi(i){return Array.isArray(i)&&"object"==typeof i[1]}function us(i){return Array.isArray(i)&&!0===i[1]}function nr(i){return 0!=(8&i.flags)}function Ts(i){return 2==(2&i.flags)}function Nu(i){return 1==(1&i.flags)}function Gr(i){return null!==i.template}function gp(i){return 0!=(512&i[2])}function ds(i,s){return i.hasOwnProperty(_t)?i[_t]:null}class uc{constructor(s,a,c){this.previousValue=s,this.currentValue=a,this.firstChange=c}isFirstChange(){return this.firstChange}}function Js(){return Ea}function Ea(i){return i.type.prototype.ngOnChanges&&(i.setInput=to),eo}function eo(){const i=Ir(this),s=null==i?void 0:i.current;if(s){const a=i.previous;if(a===q)i.previous=s;else for(let c in s)a[c]=s[c];i.current=null,this.ngOnChanges(s)}}function to(i,s,a,c){const u=Ir(i)||function(i,s){return i[mh]=s}(i,{previous:q,current:null}),f=u.current||(u.current={}),_=u.previous,b=this.declaredInputs[a],w=_[b];f[b]=new uc(w&&w.currentValue,s,_===q),i[c]=s}Js.ngInherit=!0;const mh="__ngSimpleChanges__";function Ir(i){return i[mh]||null}let dc;function vp(i){dc=i}function ln(i){return!!i.listen}const ju={createRenderer:(i,s)=>void 0!==dc?dc:"undefined"!=typeof document?document:void 0};function Un(i){for(;Array.isArray(i);)i=i[0];return i}function Wi(i,s){return Un(s[i])}function jn(i,s){return Un(s[i.index])}function Oo(i,s){return i.data[s]}function No(i,s){return i[s]}function sn(i,s){const a=s[i];return Gi(a)?a:a[0]}function As(i){return 4==(4&i[2])}function yl(i){return 128==(128&i[2])}function Zi(i,s){return null==s?null:i[s]}function Hu(i){i[18]=0}function wa(i,s){i[5]+=s;let a=i,c=i[3];for(;null!==c&&(1===s&&1===a[5]||-1===s&&0===a[5]);)c[5]+=s,a=c,c=c[3]}const nt={lFrame:Wu(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Gu(){return nt.bindingsEnabled}function Se(){return nt.lFrame.lView}function Ht(){return nt.lFrame.tView}function hs(i){return nt.lFrame.contextLView=i,i[8]}function yn(){let i=no();for(;null!==i&&64===i.type;)i=i.parent;return i}function no(){return nt.lFrame.currentTNode}function rr(i,s){const a=nt.lFrame;a.currentTNode=i,a.isParent=s}function bl(){return nt.lFrame.isParent}function ro(){nt.lFrame.isParent=!1}function Ca(){return nt.isInCheckNoChangesMode}function Da(i){nt.isInCheckNoChangesMode=i}function ur(){const i=nt.lFrame;let s=i.bindingRootIndex;return-1===s&&(s=i.bindingRootIndex=i.tView.bindingStartIndex),s}function Yi(){return nt.lFrame.bindingIndex++}function Lo(i,s){const a=nt.lFrame;a.bindingIndex=a.bindingRootIndex=i,Ia(s)}function Ia(i){nt.lFrame.currentDirectiveIndex=i}function Ta(i){const s=nt.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}function bc(){return nt.lFrame.currentQueryIndex}function wl(i){nt.lFrame.currentQueryIndex=i}function qu(i){const s=i[1];return 2===s.type?s.declTNode:1===s.type?i[6]:null}function Sa(i,s,a){if(a&it.SkipSelf){let u=s,f=i;for(;!(u=u.parent,null!==u||a&it.Host||(u=qu(f),null===u||(f=f[15],10&u.type))););if(null===u)return!1;s=u,i=f}const c=nt.lFrame=xa();return c.currentTNode=s,c.lView=i,!0}function Aa(i){const s=xa(),a=i[1];nt.lFrame=s,s.currentTNode=a.firstChild,s.lView=i,s.tView=a,s.contextLView=i,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function xa(){const i=nt.lFrame,s=null===i?null:i.child;return null===s?Wu(i):s}function Wu(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function Cl(){const i=nt.lFrame;return nt.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const bp=Cl;function Ma(){const i=Cl();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function Zn(){return nt.lFrame.selectedIndex}function so(i){nt.lFrame.selectedIndex=i}function En(){const i=nt.lFrame;return Oo(i.tView,i.selectedIndex)}function xs(i,s){for(let a=s.directiveStart,c=s.directiveEnd;a<c;a++){const f=i.data[a].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:b,ngAfterViewInit:w,ngAfterViewChecked:I,ngOnDestroy:M}=f;_&&(i.contentHooks||(i.contentHooks=[])).push(-a,_),b&&((i.contentHooks||(i.contentHooks=[])).push(a,b),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(a,b)),w&&(i.viewHooks||(i.viewHooks=[])).push(-a,w),I&&((i.viewHooks||(i.viewHooks=[])).push(a,I),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(a,I)),null!=M&&(i.destroyHooks||(i.destroyHooks=[])).push(a,M)}}function Ec(i,s,a){Qu(i,s,3,a)}function Ra(i,s,a,c){(3&i[2])===a&&Qu(i,s,a,c)}function Yu(i,s){let a=i[2];(3&a)===s&&(a&=2047,a+=1,i[2]=a)}function Qu(i,s,a,c){const f=null!=c?c:-1,_=s.length-1;let b=0;for(let w=void 0!==c?65535&i[18]:0;w<_;w++)if("number"==typeof s[w+1]){if(b=s[w],null!=c&&b>=c)break}else s[w]<0&&(i[18]+=65536),(b<f||-1==f)&&(Ep(i,a,s,w),i[18]=(4294901760&i[18])+w+2),w++}function Ep(i,s,a,c){const u=a[c]<0,f=a[c+1],b=i[u?-a[c]:a[c]];if(u){if(i[2]>>11<i[18]>>16&&(3&i[2])===s){i[2]+=2048;try{f.call(b)}finally{}}}else try{f.call(b)}finally{}}class Pa{constructor(s,a,c){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=c}}function wc(i,s,a){const c=ln(i);let u=0;for(;u<a.length;){const f=a[u];if("number"==typeof f){if(0!==f)break;u++;const _=a[u++],b=a[u++],w=a[u++];c?i.setAttribute(s,b,w,_):s.setAttributeNS(_,b,w)}else{const _=f,b=a[++u];dr(_)?c&&i.setProperty(s,_,b):c?i.setAttribute(s,_,b):s.setAttribute(_,b),u++}}return u}function wh(i){return 3===i||4===i||6===i}function dr(i){return 64===i.charCodeAt(0)}function Cc(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let a=-1;for(let c=0;c<s.length;c++){const u=s[c];"number"==typeof u?a=u:0===a||p_(i,a,u,null,-1===a||2===a?s[++c]:null)}}return i}function p_(i,s,a,c,u){let f=0,_=i.length;if(-1===s)_=-1;else for(;f<i.length;){const b=i[f++];if("number"==typeof b){if(b===s){_=-1;break}if(b>s){_=f-1;break}}}for(;f<i.length;){const b=i[f];if("number"==typeof b)break;if(b===a){if(null===c)return void(null!==u&&(i[f+1]=u));if(c===i[f+1])return void(i[f+2]=u)}f++,null!==c&&f++,null!==u&&f++}-1!==_&&(i.splice(_,0,s),f=_+1),i.splice(f++,0,a),null!==c&&i.splice(f++,0,c),null!==u&&i.splice(f++,0,u)}function g_(i){return-1!==i}function Tl(i){return 32767&i}function Dc(i,s){let a=function(i){return i>>16}(i),c=s;for(;a>0;)c=c[15],a--;return c}let Ic=!0;function Sl(i){const s=Ic;return Ic=i,s}let __=0;function fs(i,s){const a=gt(i,s);if(-1!==a)return a;const c=s[1];c.firstCreatePass&&(i.injectorIndex=s.length,st(c.data,i),st(s,null),st(c.blueprint,null));const u=hr(i,s),f=i.injectorIndex;if(g_(u)){const _=Tl(u),b=Dc(u,s),w=b[1].data;for(let I=0;I<8;I++)s[f+I]=b[_+I]|w[_+I]}return s[f+8]=u,f}function st(i,s){i.push(0,0,0,0,0,0,0,0,s)}function gt(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function hr(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,c=null,u=s;for(;null!==u;){const f=u[1],_=f.type;if(c=2===_?f.declTNode:1===_?u[6]:null,null===c)return-1;if(a++,u=u[15],-1!==c.injectorIndex)return c.injectorIndex|a<<16}return-1}function hn(i,s,a){!function(i,s,a){let c;"string"==typeof a?c=a.charCodeAt(0)||0:a.hasOwnProperty(rn)&&(c=a[rn]),null==c&&(c=a[rn]=__++);const u=255&c;s.data[i+(u>>5)]|=1<<u}(i,s,a)}function ps(i,s,a){if(a&it.Optional)return i;ke(s,"NodeInjector")}function ed(i,s,a,c){if(a&it.Optional&&void 0===c&&(c=null),0==(a&(it.Self|it.Host))){const u=i[9],f=ai(void 0);try{return u?u.get(s,c,a&it.Optional):pt(s,c,a&it.Optional)}finally{ai(f)}}return ps(c,s,a)}function td(i,s,a,c=it.Default,u){if(null!==i){const f=function(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(rn)?i[rn]:void 0;return"number"==typeof s?s>=0?255&s:xl:s}(a);if("function"==typeof f){if(!Sa(s,i,c))return c&it.Host?ps(u,a,c):ed(s,a,c,u);try{const _=f(c);if(null!=_||c&it.Optional)return _;ke(a)}finally{bp()}}else if("number"==typeof f){let _=null,b=gt(i,s),w=-1,I=c&it.Host?s[16][6]:null;for((-1===b||c&it.SkipSelf)&&(w=-1===b?hr(i,s):s[b+8],-1!==w&&nd(c,!1)?(_=s[1],b=Tl(w),s=Dc(w,s)):b=-1);-1!==b;){const M=s[1];if(oo(f,b,M.data)){const O=Ml(b,s,a,_,c,I);if(O!==Al)return O}w=s[b+8],-1!==w&&nd(c,s[1].data[b+8]===I)&&oo(f,b,s)?(_=M,b=Tl(w),s=Dc(w,s)):b=-1}}}return ed(s,a,c,u)}const Al={};function xl(){return new kt(yn(),Se())}function Ml(i,s,a,c,u,f){const _=s[1],b=_.data[i+8],M=Je(b,_,a,null==c?Ts(b)&&Ic:c!=_&&0!=(3&b.type),u&it.Host&&f===b);return null!==M?jo(s,_,M,b):Al}function Je(i,s,a,c,u){const f=i.providerIndexes,_=s.data,b=1048575&f,w=i.directiveStart,M=f>>20,F=u?b+M:i.directiveEnd;for(let H=c?b:b+M;H<F;H++){const W=_[H];if(H<w&&a===W||H>=w&&W.type===a)return H}if(u){const H=_[w];if(H&&Gr(H)&&H.type===a)return w}return null}function jo(i,s,a,c){let u=i[a];const f=s.data;if(function(i){return i instanceof Pa}(u)){const _=u;_.resolving&&function(i,s){throw new Ue("200",`Circular dependency in DI detected for ${i}`)}(_e(f[a]));const b=Sl(_.canSeeViewProviders);_.resolving=!0;const w=_.injectImpl?ai(_.injectImpl):null;Sa(i,c,it.Default);try{u=i[a]=_.factory(void 0,f,i,c),s.firstCreatePass&&a>=c.directiveStart&&function(i,s,a){const{ngOnChanges:c,ngOnInit:u,ngDoCheck:f}=s.type.prototype;if(c){const _=Ea(s);(a.preOrderHooks||(a.preOrderHooks=[])).push(i,_),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,_)}u&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-i,u),f&&((a.preOrderHooks||(a.preOrderHooks=[])).push(i,f),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,f))}(a,f[a],s)}finally{null!==w&&ai(w),Sl(b),_.resolving=!1,bp()}}return u}function oo(i,s,a){return!!(a[s+(i>>5)]&1<<i)}function nd(i,s){return!(i&it.Self||i&it.Host&&s)}class kt{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,c){return td(this._tNode,this._lView,s,c,a)}}function Ac(i){return Ut(()=>{const s=i.prototype.constructor,a=s[_t]||Rl(s),c=Object.prototype;let u=Object.getPrototypeOf(i.prototype).constructor;for(;u&&u!==c;){const f=u[_t]||Rl(u);if(f&&f!==a)return f;u=Object.getPrototypeOf(u)}return f=>new f})}function Rl(i){return je(i)?()=>{const s=Rl(Y(i));return s&&s()}:ds(i)}function Pl(i){return function(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const a=i.attrs;if(a){const c=a.length;let u=0;for(;u<c;){const f=a[u];if(wh(f))break;if(0===f)u+=2;else if("number"==typeof f)for(u++;u<c&&"string"==typeof a[u];)u++;else{if(f===s)return a[u+1];u+=2}}}return null}(yn(),i)}const ao="__parameters__";function Wr(i,s,a){return Ut(()=>{const c=function(i){return function(...a){if(i){const c=i(...a);for(const u in c)this[u]=c[u]}}}(s);function u(...f){if(this instanceof u)return c.apply(this,f),this;const _=new u(...f);return b.annotation=_,b;function b(w,I,M){const O=w.hasOwnProperty(ao)?w[ao]:Object.defineProperty(w,ao,{value:[]})[ao];for(;O.length<=M;)O.push(null);return(O[M]=O[M]||[]).push(_),w}}return a&&(u.prototype=Object.create(a.prototype)),u.prototype.ngMetadataName=i,u.annotationCls=u,u})}class Sn{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=dn({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Dh=new Sn("AnalyzeForEntryComponents");function Yr(i,s){void 0===s&&(s=i);for(let a=0;a<i.length;a++){let c=i[a];Array.isArray(c)?(s===i&&(s=i.slice(0,a)),Yr(c,s)):s!==i&&s.push(c)}return s}function ms(i,s){i.forEach(a=>Array.isArray(a)?ms(a,s):s(a))}function _s(i,s,a){s>=i.length?i.push(a):i.splice(s,0,a)}function fn(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function Ji(i,s){const a=[];for(let c=0;c<i;c++)a.push(s);return a}function Pi(i,s,a){let c=Ho(i,s);return c>=0?i[1|c]=a:(c=~c,function(i,s,a,c){let u=i.length;if(u==s)i.push(a,c);else if(1===u)i.push(c,i[0]),i[0]=a;else{for(u--,i.push(i[u-1],i[u]);u>s;)i[u]=i[u-2],u--;i[s]=a,i[s+1]=c}}(i,c,s,a)),c}function Sh(i,s){const a=Ho(i,s);if(a>=0)return i[1|a]}function Ho(i,s){return function(i,s,a){let c=0,u=i.length>>a;for(;u!==c;){const f=c+(u-c>>1),_=i[f<<a];if(s===_)return f<<a;_>s?u=f:c=f+1}return~(u<<a)}(i,s,1)}const fo={},Nl="__NG_DI_FLAG__",$o="ngTempTokenPath",S=/\n/gm,B="__source",J=me({provide:String,useValue:me});let ue;function Ae(i){const s=ue;return ue=i,s}function He(i,s=it.Default){if(void 0===ue)throw new Error("inject() must be called from an injection context");return null===ue?pt(i,void 0,s):ue.get(i,s&it.Optional?null:void 0,s)}function Le(i,s=it.Default){return(Yt||He)(Y(i),s)}const un=Le;function Hn(i){const s=[];for(let a=0;a<i.length;a++){const c=Y(i[a]);if(Array.isArray(c)){if(0===c.length)throw new Error("Arguments array must have arguments.");let u,f=it.Default;for(let _=0;_<c.length;_++){const b=c[_],w=gr(b);"number"==typeof w?-1===w?u=b.token:f|=w:u=b}s.push(Le(u,f))}else s.push(Le(c))}return s}function Kn(i,s){return i[Nl]=s,i.prototype[Nl]=s,i}function gr(i){return i[Nl]}function po(i,s,a,c){const u=i[$o];throw s[B]&&u.unshift(s[B]),i.message=function(i,s,a,c=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.substr(2):i;let u=ae(s);if(Array.isArray(s))u=s.map(ae).join(" -> ");else if("object"==typeof s){let f=[];for(let _ in s)if(s.hasOwnProperty(_)){let b=s[_];f.push(_+":"+("string"==typeof b?JSON.stringify(b):ae(b)))}u=`{${f.join(", ")}}`}return`${a}${c?"("+c+")":""}[${u}]: ${i.replace(S,"\n  ")}`}("\n"+i.message,u,a,c),i.ngTokenPath=u,i[$o]=null,i}const ts=Kn(Wr("Inject",i=>({token:i})),-1),Yn=Kn(Wr("Optional"),8),Vr=Kn(Wr("SkipSelf"),4);let Ll;function Vl(i){var s;return(null==(s=function(){if(void 0===Ll&&(Ll=null,Tt.trustedTypes))try{Ll=Tt.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch(i){}return Ll}())?void 0:s.createHTML(i))||i}class zo{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Go extends zo{getTypeName(){return"HTML"}}class Oc extends zo{getTypeName(){return"Style"}}class Rh extends zo{getTypeName(){return"Script"}}class D_ extends zo{getTypeName(){return"URL"}}class Ib extends zo{getTypeName(){return"ResourceURL"}}function pi(i){return i instanceof zo?i.changingThisBreaksApplicationSecurity:i}function Bl(i,s){const a=dd(i);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===s}function dd(i){return i instanceof zo&&i.getTypeName()||null}function Ph(i){return new Go(i)}function I_(i){return new Oc(i)}function Mp(i){return new Rh(i)}function T_(i){return new D_(i)}function Rp(i){return new Ib(i)}class Tb{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const a=(new window.DOMParser).parseFromString(Vl(s),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(s):(a.removeChild(a.firstChild),a)}catch(a){return null}}}class hd{constructor(s){if(this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const a=this.inertDocument.createElement("html");this.inertDocument.appendChild(a);const c=this.inertDocument.createElement("body");a.appendChild(c)}}getInertBodyElement(s){const a=this.inertDocument.createElement("template");if("content"in a)return a.innerHTML=Vl(s),a;const c=this.inertDocument.createElement("body");return c.innerHTML=Vl(s),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(c),c}stripCustomNsAttrs(s){const a=s.attributes;for(let u=a.length-1;0<u;u--){const _=a.item(u).name;("xmlns:ns1"===_||0===_.indexOf("ns1:"))&&s.removeAttribute(_)}let c=s.firstChild;for(;c;)c.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(c),c=c.nextSibling}}const Sb=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Oh=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function qo(i){return(i=String(i)).match(Sb)||i.match(Oh)?i:"unsafe:"+i}function ys(i){const s={};for(const a of i.split(","))s[a]=!0;return s}function Nc(...i){const s={};for(const a of i)for(const c in a)a.hasOwnProperty(c)&&(s[c]=!0);return s}const S_=ys("area,br,col,hr,img,wbr"),Fh=ys("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),A_=ys("rp,rt"),Fc=Nc(S_,Nc(Fh,ys("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Nc(A_,ys("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Nc(A_,Fh)),Lh=ys("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),fd=ys("srcset"),Vh=Nc(Lh,fd,ys("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ys("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),R_=ys("script,style,template");class xb{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let a=s.firstChild,c=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?c=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,c&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let u=this.checkClobberedElement(a,a.nextSibling);if(u){a=u;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(s){const a=s.nodeName.toLowerCase();if(!Fc.hasOwnProperty(a))return this.sanitizedSomething=!0,!R_.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const c=s.attributes;for(let u=0;u<c.length;u++){const f=c.item(u),_=f.name,b=_.toLowerCase();if(!Vh.hasOwnProperty(b)){this.sanitizedSomething=!0;continue}let w=f.value;Lh[b]&&(w=qo(w)),fd[b]&&(i=w,w=(i=String(i)).split(",").map(s=>qo(s.trim())).join(", ")),this.buf.push(" ",_,'="',Va(w),'"')}var i;return this.buf.push(">"),!0}endElement(s){const a=s.nodeName.toLowerCase();Fc.hasOwnProperty(a)&&!S_.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(s){this.buf.push(Va(s))}checkClobberedElement(s,a){if(a&&(s.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return a}}const Mb=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Op=/([^\#-~ |!])/g;function Va(i){return i.replace(/&/g,"&amp;").replace(Mb,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(Op,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let _o;function Ba(i,s){let a=null;try{_o=_o||function(i){const s=new hd(i);return function(){try{return!!(new window.DOMParser).parseFromString(Vl(""),"text/html")}catch(i){return!1}}()?new Tb(s):s}(i);let c=s?String(s):"";a=_o.getInertBodyElement(c);let u=5,f=c;do{if(0===u)throw new Error("Failed to sanitize html because the input is unstable");u--,c=f,f=a.innerHTML,a=_o.getInertBodyElement(c)}while(c!==f);return Vl((new xb).sanitizeChildren(Np(a)||a))}finally{if(a){const c=Np(a)||a;for(;c.firstChild;)c.removeChild(c.firstChild)}}}function Np(i){return"content"in i&&function(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}var $n=(()=>(($n=$n||{})[$n.NONE=0]="NONE",$n[$n.HTML=1]="HTML",$n[$n.STYLE=2]="STYLE",$n[$n.SCRIPT=3]="SCRIPT",$n[$n.URL=4]="URL",$n[$n.RESOURCE_URL=5]="RESOURCE_URL",$n))();function Ul(i){const s=function(){const i=Se();return i&&i[12]}();return s?s.sanitize($n.URL,i)||"":Bl(i,"URL")?pi(i):qo(X(i))}const md="__ngContext__";function Qn(i,s){i[md]=s}function jp(i){const s=function(i){return i[md]||null}(i);return s?Array.isArray(s)?s:s.lView:null}function vd(i){return i.ngOriginalError}function qp(i,...s){i.error(...s)}class Ua{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s),c=this._findContext(s),u=(i=s)&&i.ngErrorLogger||qp;var i;u(this._console,"ERROR",s),a&&u(this._console,"ORIGINAL ERROR",a),c&&u(this._console,"ERROR CONTEXT",c)}_findContext(s){return s?s.ngDebugContext||this._findContext(vd(s)):null}_findOriginalError(s){let a=s&&vd(s);for(;a&&vd(a);)a=vd(a);return a||null}}const Kp=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Tt))();function Os(i){return i instanceof Function?i():i}var vs=(()=>((vs=vs||{})[vs.Important=1]="Important",vs[vs.DashCase=2]="DashCase",vs))();function yo(i,s){return undefined(i,s)}function zl(i){const s=i[3];return us(s)?s[3]:s}function Yp(i){return $_(i[13])}function Qp(i){return $_(i[4])}function $_(i){for(;null!==i&&!us(i);)i=i[4];return i}function g(i,s,a,c,u){if(null!=c){let f,_=!1;us(c)?f=c:Gi(c)&&(_=!0,c=c[0]);const b=Un(c);0===i&&null!==a?null==u?Xp(s,a,b):Ha(s,a,b,u||null,!0):1===i&&null!==a?Ha(s,a,b,u||null,!0):2===i?function(i,s,a){const c=Td(i,s);c&&function(i,s,a,c){ln(i)?i.removeChild(s,a,c):s.removeChild(a)}(i,c,s,a)}(s,b,_):3===i&&s.destroyNode(b),null!=f&&function(i,s,a,c,u){const f=a[7];f!==Un(a)&&g(s,i,c,f,u);for(let b=10;b<a.length;b++){const w=a[b];eg(w[1],w,i,s,c,f)}}(s,i,f,a,u)}}function P(i,s,a){return ln(i)?i.createElement(s,a):null===a?i.createElement(s):i.createElementNS(a,s)}function qt(i,s){const a=i[9],c=a.indexOf(s),u=s[3];1024&s[2]&&(s[2]&=-1025,wa(u,-1)),a.splice(c,1)}function ir(i,s){if(i.length<=10)return;const a=10+s,c=i[a];if(c){const u=c[17];null!==u&&u!==i&&qt(u,c),s>0&&(i[a-1][4]=c[4]);const f=fn(i,10+s);!function(i,s){eg(i,s,s[11],2,null,null),s[0]=null,s[6]=null}(c[1],c);const _=f[19];null!==_&&_.detachView(f[1]),c[3]=null,c[4]=null,c[2]&=-129}return c}function An(i,s){if(!(256&s[2])){const a=s[11];ln(a)&&a.destroyNode&&eg(i,s,a,3,null,null),function(i){let s=i[13];if(!s)return jc(i[1],i);for(;s;){let a=null;if(Gi(s))a=s[13];else{const c=s[10];c&&(a=c)}if(!a){for(;s&&!s[4]&&s!==i;)Gi(s)&&jc(s[1],s),s=s[3];null===s&&(s=i),Gi(s)&&jc(s[1],s),a=s&&s[4]}s=a}}(s)}}function jc(i,s){if(!(256&s[2])){s[2]&=-129,s[2]|=256,function(i,s){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let c=0;c<a.length;c+=2){const u=s[a[c]];if(!(u instanceof Pa)){const f=a[c+1];if(Array.isArray(f))for(let _=0;_<f.length;_+=2){const b=u[f[_]],w=f[_+1];try{w.call(b)}finally{}}else try{f.call(u)}finally{}}}}(i,s),function(i,s){const a=i.cleanup,c=s[7];let u=-1;if(null!==a)for(let f=0;f<a.length-1;f+=2)if("string"==typeof a[f]){const _=a[f+1],b="function"==typeof _?_(s):Un(s[_]),w=c[u=a[f+2]],I=a[f+3];"boolean"==typeof I?b.removeEventListener(a[f],w,I):I>=0?c[u=I]():c[u=-I].unsubscribe(),f+=2}else{const _=c[u=a[f+1]];a[f].call(_)}if(null!==c){for(let f=u+1;f<c.length;f++)c[f]();s[7]=null}}(i,s),1===s[1].type&&ln(s[11])&&s[11].destroy();const a=s[17];if(null!==a&&us(s[3])){a!==s[3]&&qt(a,s);const c=s[19];null!==c&&c.detachView(i)}}}function Gl(i,s,a){return function(i,s,a){let c=s;for(;null!==c&&40&c.type;)c=(s=c).parent;if(null===c)return a[0];if(2&c.flags){const u=i.data[c.directiveStart].encapsulation;if(u===Ze.None||u===Ze.Emulated)return null}return jn(c,a)}(i,s.parent,a)}function Ha(i,s,a,c,u){ln(i)?i.insertBefore(s,a,c,u):s.insertBefore(a,c,u)}function Xp(i,s,a){ln(i)?i.appendChild(s,a):s.appendChild(a)}function Id(i,s,a,c,u){null!==c?Ha(i,s,a,c,u):Xp(i,s,a)}function Td(i,s){return ln(i)?i.parentNode(s):s.parentNode}function Gh(i,s,a){return $c(i,s,a)}let $c=function(i,s,a){return 40&i.type?jn(i,a):null};function q_(i,s,a,c){const u=Gl(i,c,s),f=s[11],b=Gh(c.parent||s[6],c,s);if(null!=u)if(Array.isArray(a))for(let w=0;w<a.length;w++)Id(f,u,a[w],b,!1);else Id(f,u,a,b,!1)}function Jp(i,s){if(null!==s){const a=s.type;if(3&a)return jn(s,i);if(4&a)return Lb(-1,i[s.index]);if(8&a){const c=s.child;if(null!==c)return Jp(i,c);{const u=i[s.index];return us(u)?Lb(-1,u):Un(u)}}if(32&a)return yo(s,i)()||Un(i[s.index]);{const c=F0(i,s);return null!==c?Array.isArray(c)?c[0]:Jp(zl(i[16]),c):Jp(i,s.next)}}return null}function F0(i,s){return null!==s?i[16][6].projection[s.projection]:null}function Lb(i,s){const a=10+i+1;if(a<s.length){const c=s[a],u=c[1].firstChild;if(null!==u)return Jp(c,u)}return s[7]}function W_(i,s,a,c,u,f,_){for(;null!=a;){const b=c[a.index],w=a.type;if(_&&0===s&&(b&&Qn(Un(b),c),a.flags|=4),64!=(64&a.flags))if(8&w)W_(i,s,a.child,c,u,f,!1),g(s,i,u,b,f);else if(32&w){const I=yo(a,c);let M;for(;M=I();)g(s,i,u,M,f);g(s,i,u,b,f)}else 16&w?V0(i,s,c,a,u,f):g(s,i,u,b,f);a=_?a.projectionNext:a.next}}function eg(i,s,a,c,u,f){W_(a,c,i.firstChild,s,u,f,!1)}function V0(i,s,a,c,u,f){const _=a[16],w=_[6].projection[c.projection];if(Array.isArray(w))for(let I=0;I<w.length;I++)g(s,i,u,w[I],f);else W_(i,s,w,_[3],u,f,!0)}function B0(i,s,a){ln(i)?i.setAttribute(s,"style",a):s.style.cssText=a}function Z_(i,s,a){ln(i)?""===a?i.removeAttribute(s,"class"):i.setAttribute(s,"class",a):s.className=a}function U0(i,s,a){let c=i.length;for(;;){const u=i.indexOf(s,a);if(-1===u)return u;if(0===u||i.charCodeAt(u-1)<=32){const f=s.length;if(u+f===c||i.charCodeAt(u+f)<=32)return u}a=u+1}}const j0="ng-template";function H0(i,s,a){let c=0;for(;c<i.length;){let u=i[c++];if(a&&"class"===u){if(u=i[c],-1!==U0(u.toLowerCase(),s,0))return!0}else if(1===u){for(;c<i.length&&"string"==typeof(u=i[c++]);)if(u.toLowerCase()===s)return!0;return!1}}return!1}function Bb(i){return 4===i.type&&i.value!==j0}function Sd(i,s,a){return s===(4!==i.type||a?i.value:j0)}function $a(i,s,a){let c=4;const u=i.attrs||[],f=function(i){for(let s=0;s<i.length;s++)if(wh(i[s]))return s;return i.length}(u);let _=!1;for(let b=0;b<s.length;b++){const w=s[b];if("number"!=typeof w){if(!_)if(4&c){if(c=2|1&c,""!==w&&!Sd(i,w,a)||""===w&&1===s.length){if(Ko(c))return!1;_=!0}}else{const I=8&c?w:s[++b];if(8&c&&null!==i.attrs){if(!H0(i.attrs,I,a)){if(Ko(c))return!1;_=!0}continue}const O=$0(8&c?"class":w,u,Bb(i),a);if(-1===O){if(Ko(c))return!1;_=!0;continue}if(""!==I){let F;F=O>f?"":u[O+1].toLowerCase();const H=8&c?F:null;if(H&&-1!==U0(H,I,0)||2&c&&I!==F){if(Ko(c))return!1;_=!0}}}}else{if(!_&&!Ko(c)&&!Ko(w))return!1;if(_&&Ko(w))continue;_=!1,c=w|1&c}}return Ko(c)||_}function Ko(i){return 0==(1&i)}function $0(i,s,a,c){if(null===s)return-1;let u=0;if(c||!a){let f=!1;for(;u<s.length;){const _=s[u];if(_===i)return u;if(3===_||6===_)f=!0;else{if(1===_||2===_){let b=s[++u];for(;"string"==typeof b;)b=s[++u];continue}if(4===_)break;if(0===_){u+=4;continue}}u+=f?1:2}return-1}return function(i,s){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const c=i[a];if("number"==typeof c)return-1;if(c===s)return a;a++}return-1}(s,i)}function z0(i,s,a=!1){for(let c=0;c<s.length;c++)if($a(i,s[c],a))return!0;return!1}function zc(i,s){e:for(let a=0;a<s.length;a++){const c=s[a];if(i.length===c.length){for(let u=0;u<i.length;u++)if(i[u]!==c[u])continue e;return!0}}return!1}function Ub(i,s){return i?":not("+s.trim()+")":s}function Oi(i){let s=i[0],a=1,c=2,u="",f=!1;for(;a<i.length;){let _=i[a];if("string"==typeof _)if(2&c){const b=i[++a];u+="["+_+(b.length>0?'="'+b+'"':"")+"]"}else 8&c?u+="."+_:4&c&&(u+=" "+_);else""!==u&&!Ko(_)&&(s+=Ub(f,u),u=""),c=_,f=f||!Ko(c);a++}return""!==u&&(s+=Ub(f,u)),s}const Ot={};function jb(i){Hb(Ht(),Se(),Zn()+i,Ca())}function Hb(i,s,a,c){if(!c)if(3==(3&s[2])){const f=i.preOrderCheckHooks;null!==f&&Ec(s,f,a)}else{const f=i.preOrderHooks;null!==f&&Ra(s,f,0,a)}so(a)}function ng(i,s){return i<<17|s<<2}function vo(i){return i>>17&32767}function K_(i){return 2|i}function Ns(i){return(131068&i)>>2}function Y_(i,s){return-131069&i|s<<2}function Q_(i){return 1|i}function eD(i,s){const a=i.contentQueries;if(null!==a)for(let c=0;c<a.length;c+=2){const u=a[c],f=a[c+1];if(-1!==f){const _=i.data[f];wl(u),_.contentQueries(2,s[f],f)}}}function ty(i,s,a,c,u,f,_,b,w,I){const M=s.blueprint.slice();return M[0]=u,M[2]=140|c,Hu(M),M[3]=M[15]=i,M[8]=a,M[10]=_||i&&i[10],M[11]=b||i&&i[11],M[12]=w||i&&i[12]||null,M[9]=I||i&&i[9]||null,M[6]=f,M[16]=2==s.type?i[16]:M,M}function Zh(i,s,a,c,u){let f=i.data[s];if(null===f)f=function(i,s,a,c,u){const f=no(),_=bl(),w=i.data[s]=function(i,s,a,c,u,f){return{type:a,index:c,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:u,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?f:f&&f.parent,a,s,c,u);return null===i.firstChild&&(i.firstChild=w),null!==f&&(_?null==f.child&&null!==w.parent&&(f.child=w):null===f.next&&(f.next=w)),w}(i,s,a,c,u),nt.lFrame.inI18n&&(f.flags|=64);else if(64&f.type){f.type=a,f.value=c,f.attrs=u;const _=function(){const i=nt.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}();f.injectorIndex=null===_?-1:_.injectorIndex}return rr(f,!0),f}function Kh(i,s,a,c){if(0===a)return-1;const u=s.length;for(let f=0;f<a;f++)s.push(c),i.blueprint.push(c),i.data.push(null);return u}function Yh(i,s,a){Aa(s);try{const c=i.viewQuery;null!==c&&fy(1,c,a);const u=i.template;null!==u&&gA(i,s,u,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&eD(i,s),i.staticViewQueries&&fy(2,i.viewQuery,a);const f=i.components;null!==f&&function(i,s){for(let a=0;a<s.length;a++)lE(i,s[a])}(s,f)}catch(c){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),c}finally{s[2]&=-5,Ma()}}function Wc(i,s,a,c){const u=s[2];if(256==(256&u))return;Aa(s);const f=Ca();try{Hu(s),function(i){nt.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==a&&gA(i,s,a,2,c);const _=3==(3&u);if(!f)if(_){const I=i.preOrderCheckHooks;null!==I&&Ec(s,I,null)}else{const I=i.preOrderHooks;null!==I&&Ra(s,I,0,null),Yu(s,0)}if(function(i){for(let s=Yp(i);null!==s;s=Qp(s)){if(!s[2])continue;const a=s[9];for(let c=0;c<a.length;c++){const u=a[c],f=u[3];0==(1024&u[2])&&wa(f,1),u[2]|=1024}}}(s),function(i){for(let s=Yp(i);null!==s;s=Qp(s))for(let a=10;a<s.length;a++){const c=s[a],u=c[1];yl(c)&&Wc(u,c,u.template,c[8])}}(s),null!==i.contentQueries&&eD(i,s),!f)if(_){const I=i.contentCheckHooks;null!==I&&Ec(s,I)}else{const I=i.contentHooks;null!==I&&Ra(s,I,1),Yu(s,1)}!function(i,s){const a=i.hostBindingOpCodes;if(null!==a)try{for(let c=0;c<a.length;c++){const u=a[c];if(u<0)so(~u);else{const f=u,_=a[++c],b=a[++c];Lo(_,f),b(2,s[f])}}}finally{so(-1)}}(i,s);const b=i.components;null!==b&&function(i,s){for(let a=0;a<s.length;a++)oE(i,s[a])}(s,b);const w=i.viewQuery;if(null!==w&&fy(2,w,c),!f)if(_){const I=i.viewCheckHooks;null!==I&&Ec(s,I)}else{const I=i.viewHooks;null!==I&&Ra(s,I,2),Yu(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),f||(s[2]&=-73),1024&s[2]&&(s[2]&=-1025,wa(s[3],-1))}finally{Ma()}}function ny(i,s,a,c){const u=s[10],f=!Ca(),_=As(s);try{f&&!_&&u.begin&&u.begin(),_&&Yh(i,s,c),Wc(i,s,a,c)}finally{f&&!_&&u.end&&u.end()}}function gA(i,s,a,c,u){const f=Zn(),_=2&c;try{so(-1),_&&s.length>20&&Hb(i,s,20,Ca()),a(c,u)}finally{so(f)}}function Qh(i,s,a){if(nr(s)){const u=s.directiveEnd;for(let f=s.directiveStart;f<u;f++){const _=i.data[f];_.contentQueries&&_.contentQueries(1,a[f],f)}}}function Xh(i,s,a){!Gu()||(function(i,s,a,c){const u=a.directiveStart,f=a.directiveEnd;i.firstCreatePass||fs(a,s),Qn(c,s);const _=a.initialInputs;for(let b=u;b<f;b++){const w=i.data[b],I=Gr(w);I&&sD(s,a,w);const M=jo(s,i,b,a);Qn(M,s),null!==_&&oD(0,b-u,M,w,0,_),I&&(sn(a.index,s)[8]=M)}}(i,s,a,jn(a,s)),128==(128&a.flags)&&function(i,s,a){const c=a.directiveStart,u=a.directiveEnd,_=a.index,b=nt.lFrame.currentDirectiveIndex;try{so(_);for(let w=c;w<u;w++){const I=i.data[w],M=s[w];Ia(w),(null!==I.hostBindings||0!==I.hostVars||null!==I.hostAttrs)&&oy(I,M)}}finally{so(-1),Ia(b)}}(i,s,a))}function Zc(i,s,a=jn){const c=s.localNames;if(null!==c){let u=s.index+1;for(let f=0;f<c.length;f+=2){const _=c[f+1],b=-1===_?a(s,i):i[_];i[u++]=b}}}function Jh(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=ry(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):s}function ry(i,s,a,c,u,f,_,b,w,I){const M=20+c,O=M+u,F=function(i,s){const a=[];for(let c=0;c<s;c++)a.push(c<i?null:Ot);return a}(M,O),H="function"==typeof I?I():I;return F[1]={type:i,blueprint:F,template:a,queries:null,viewQuery:b,declTNode:s,data:F.slice().fill(null,M),bindingStartIndex:M,expandoStartIndex:O,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:w,consts:H,incompleteFirstPass:!1}}function iy(i,s,a,c){const u=py(s);null===a?u.push(c):(u.push(a),i.firstCreatePass&&cD(i).push(c,u.length-1))}function ug(i,s,a){for(let c in i)if(i.hasOwnProperty(c)){const u=i[c];(a=null===a?{}:a).hasOwnProperty(c)?a[c].push(s,u):a[c]=[s,u]}return a}function Fs(i,s,a,c,u,f,_,b){const w=jn(s,a);let M,I=s.inputs;!b&&null!=I&&(M=I[c])?(hg(i,a,M,c,u),Ts(s)&&function(i,s){const a=sn(s,i);16&a[2]||(a[2]|=64)}(a,s.index)):3&s.type&&(c=function(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(c),u=null!=_?_(u,s.value||"",c):u,ln(f)?f.setProperty(w,c,u):dr(c)||(w.setProperty?w.setProperty(c,u):w[c]=u))}function nE(i,s,a,c){let u=!1;if(Gu()){const f=function(i,s,a){const c=i.directiveRegistry;let u=null;if(c)for(let f=0;f<c.length;f++){const _=c[f];z0(a,_.selectors,!1)&&(u||(u=[]),hn(fs(a,s),i,_.type),Gr(_)?(iE(i,a),u.unshift(_)):u.push(_))}return u}(i,s,a),_=null===c?null:{"":-1};if(null!==f){u=!0,sE(a,i.data.length,f.length);for(let M=0;M<f.length;M++){const O=f[M];O.providersResolver&&O.providersResolver(O)}let b=!1,w=!1,I=Kh(i,s,f.length,null);for(let M=0;M<f.length;M++){const O=f[M];a.mergedAttrs=Cc(a.mergedAttrs,O.hostAttrs),iD(i,a,s,I,O),tk(I,O,_),null!==O.contentQueries&&(a.flags|=8),(null!==O.hostBindings||null!==O.hostAttrs||0!==O.hostVars)&&(a.flags|=128);const F=O.type.prototype;!b&&(F.ngOnChanges||F.ngOnInit||F.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(a.index),b=!0),!w&&(F.ngOnChanges||F.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(a.index),w=!0),I++}!function(i,s){const c=s.directiveEnd,u=i.data,f=s.attrs,_=[];let b=null,w=null;for(let I=s.directiveStart;I<c;I++){const M=u[I],O=M.inputs,F=null===f||Bb(s)?null:wA(O,f);_.push(F),b=ug(O,I,b),w=ug(M.outputs,I,w)}null!==b&&(b.hasOwnProperty("class")&&(s.flags|=16),b.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=_,s.inputs=b,s.outputs=w}(i,a)}_&&function(i,s,a){if(s){const c=i.localNames=[];for(let u=0;u<s.length;u+=2){const f=a[s[u+1]];if(null==f)throw new Ue("301",`Export of name '${s[u+1]}' not found!`);c.push(s[u],f)}}}(a,c,_)}return a.mergedAttrs=Cc(a.mergedAttrs,a.attrs),u}function rE(i,s,a,c,u,f){const _=f.hostBindings;if(_){let b=i.hostBindingOpCodes;null===b&&(b=i.hostBindingOpCodes=[]);const w=~s.index;(function(i){let s=i.length;for(;s>0;){const a=i[--s];if("number"==typeof a&&a<0)return a}return 0})(b)!=w&&b.push(w),b.push(c,u,_)}}function oy(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function iE(i,s){s.flags|=2,(i.components||(i.components=[])).push(s.index)}function tk(i,s,a){if(a){if(s.exportAs)for(let c=0;c<s.exportAs.length;c++)a[s.exportAs[c]]=i;Gr(s)&&(a[""]=i)}}function sE(i,s,a){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+a,i.providerIndexes=s}function iD(i,s,a,c,u){i.data[c]=u;const f=u.factory||(u.factory=ds(u.type)),_=new Pa(f,Gr(u),null);i.blueprint[c]=_,a[c]=_,rE(i,s,0,c,Kh(i,a,u.hostVars,Ot),u)}function sD(i,s,a){const c=jn(s,i),u=Jh(a),f=i[10],_=cy(i,ty(i,u,null,a.onPush?64:16,c,s,f,f.createRenderer(c,a),null,null));i[s.index]=_}function Ga(i,s,a,c,u,f){const _=jn(i,s);!function(i,s,a,c,u,f,_){if(null==f)ln(i)?i.removeAttribute(s,u,a):s.removeAttribute(u);else{const b=null==_?X(f):_(f,c||"",u);ln(i)?i.setAttribute(s,u,b,a):a?s.setAttributeNS(a,u,b):s.setAttribute(u,b)}}(s[11],_,f,i.value,a,c,u)}function oD(i,s,a,c,u,f){const _=f[s];if(null!==_){const b=c.setInput;for(let w=0;w<_.length;){const I=_[w++],M=_[w++],O=_[w++];null!==b?c.setInput(a,O,I,M):a[M]=O}}}function wA(i,s){let a=null,c=0;for(;c<s.length;){const u=s[c];if(0!==u)if(5!==u){if("number"==typeof u)break;i.hasOwnProperty(u)&&(null===a&&(a=[]),a.push(u,i[u],s[c+1])),c+=2}else c+=2;else c+=4}return a}function aD(i,s,a,c){return new Array(i,!0,!1,s,null,0,c,a,null,null)}function oE(i,s){const a=sn(s,i);if(yl(a)){const c=a[1];80&a[2]?Wc(c,a,c.template,a[8]):a[5]>0&&aE(a)}}function aE(i){for(let c=Yp(i);null!==c;c=Qp(c))for(let u=10;u<c.length;u++){const f=c[u];if(1024&f[2]){const _=f[1];Wc(_,f,_.template,f[8])}else f[5]>0&&aE(f)}const a=i[1].components;if(null!==a)for(let c=0;c<a.length;c++){const u=sn(a[c],i);yl(u)&&u[5]>0&&aE(u)}}function lE(i,s){const a=sn(s,i),c=a[1];(function(i,s){for(let a=s.length;a<i.blueprint.length;a++)s.push(i.blueprint[a])})(c,a),Yh(c,a,a[8])}function cy(i,s){return i[13]?i[14][4]=s:i[13]=s,i[14]=s,s}function uy(i){for(;i;){i[2]|=64;const s=zl(i);if(gp(i)&&!s)return i;i=s}return null}function cE(i,s,a){const c=s[10];c.begin&&c.begin();try{Wc(i,s,i.template,a)}catch(u){throw dE(s,u),u}finally{c.end&&c.end()}}function hy(i){!function(i){for(let s=0;s<i.components.length;s++){const a=i.components[s],c=jp(a),u=c[1];ny(u,c,u.template,a)}}(i[8])}function fy(i,s,a){wl(0),s(i,a)}const rk=(()=>Promise.resolve(null))();function py(i){return i[7]||(i[7]=[])}function cD(i){return i.cleanup||(i.cleanup=[])}function uE(i,s,a){return(null===i||Gr(i))&&(a=function(i){for(;Array.isArray(i);){if("object"==typeof i[1])return i;i=i[0]}return null}(a[s.index])),a[11]}function dE(i,s){const a=i[9],c=a?a.get(Ua,null):null;c&&c.handleError(s)}function hg(i,s,a,c,u){for(let f=0;f<a.length;){const _=a[f++],b=a[f++],w=s[_],I=i.data[_];null!==I.setInput?I.setInput(w,u,c,b):w[b]=u}}function ql(i,s,a){const c=Wi(s,i);!function(i,s,a){ln(i)?i.setValue(s,a):s.textContent=a}(i[11],c,a)}function fg(i,s,a){let c=a?i.styles:null,u=a?i.classes:null,f=0;if(null!==s)for(let _=0;_<s.length;_++){const b=s[_];"number"==typeof b?f=b:1==f?u=he(u,b):2==f&&(c=he(c,b+": "+s[++_]+";"))}a?i.styles=c:i.stylesWithoutHost=c,a?i.classes=u:i.classesWithoutHost=u}const pg=new Sn("INJECTOR",-1);class gy{get(s,a=fo){if(a===fo){const c=new Error(`NullInjectorError: No provider for ${ae(s)}!`);throw c.name="NullInjectorError",c}return a}}const tf=new Sn("Set Injector scope."),gg={},dD={};let hE;function fE(){return void 0===hE&&(hE=new gy),hE}function pE(i,s=null,a=null,c){return new MA(i,a,s||fE(),c)}class MA{constructor(s,a,c,u=null){this.parent=c,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const f=[];a&&ms(a,b=>this.processProvider(b,s,a)),ms([s],b=>this.processInjectorType(b,[],f)),this.records.set(pg,nf(void 0,this));const _=this.records.get(tf);this.scope=null!=_?_.value:null,this.source=u||("object"==typeof s?null:ae(s))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(s=>s.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(s,a=fo,c=it.Default){this.assertNotDestroyed();const u=Ae(this),f=ai(void 0);try{if(!(c&it.SkipSelf)){let b=this.records.get(s);if(void 0===b){const w=("function"==typeof(i=s)||"object"==typeof i&&i instanceof Sn)&&lr(s);b=w&&this.injectableDefInScope(w)?nf(my(s),gg):null,this.records.set(s,b)}if(null!=b)return this.hydrate(s,b)}return(c&it.Self?fE():this.parent).get(s,a=c&it.Optional&&a===fo?null:a)}catch(_){if("NullInjectorError"===_.name){if((_[$o]=_[$o]||[]).unshift(ae(s)),u)throw _;return po(_,s,"R3InjectorError",this.source)}throw _}finally{ai(f),Ae(u)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(s=>this.get(s))}toString(){const s=[];return this.records.forEach((c,u)=>s.push(ae(u))),`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(s,a,c){if(!(s=Y(s)))return!1;let u=Bi(s);const f=null==u&&s.ngModule||void 0,_=void 0===f?s:f,b=-1!==c.indexOf(_);if(void 0!==f&&(u=Bi(f)),null==u)return!1;if(null!=u.imports&&!b){let M;c.push(_);try{ms(u.imports,O=>{this.processInjectorType(O,a,c)&&(void 0===M&&(M=[]),M.push(O))})}finally{}if(void 0!==M)for(let O=0;O<M.length;O++){const{ngModule:F,providers:H}=M[O];ms(H,W=>this.processProvider(W,F,H||j))}}this.injectorDefTypes.add(_);const w=ds(_)||(()=>new _);this.records.set(_,nf(w,gg));const I=u.providers;if(null!=I&&!b){const M=s;ms(I,O=>this.processProvider(O,M,I))}return void 0!==f&&void 0!==s.providers}processProvider(s,a,c){let u=mg(s=Y(s))?s:Y(s&&s.provide);const f=(i=s,_y(i)?nf(void 0,i.useValue):nf(RA(i),gg));var i;if(mg(s)||!0!==s.multi)this.records.get(u);else{let _=this.records.get(u);_||(_=nf(void 0,gg,!0),_.factory=()=>Hn(_.multi),this.records.set(u,_)),u=s,_.multi.push(s)}this.records.set(u,f)}hydrate(s,a){return a.value===gg&&(a.value=dD,a.value=a.factory()),"object"==typeof a.value&&a.value&&null!==(i=a.value)&&"object"==typeof i&&"function"==typeof i.ngOnDestroy&&this.onDestroy.add(a.value),a.value;var i}injectableDefInScope(s){if(!s.providedIn)return!1;const a=Y(s.providedIn);return"string"==typeof a?"any"===a||a===this.scope:this.injectorDefTypes.has(a)}}function my(i){const s=lr(i),a=null!==s?s.factory:ds(i);if(null!==a)return a;if(i instanceof Sn)throw new Error(`Token ${ae(i)} is missing a \u0275prov definition.`);if(i instanceof Function)return function(i){const s=i.length;if(s>0){const c=Ji(s,"?");throw new Error(`Can't resolve all parameters for ${ae(i)}: (${c.join(", ")}).`)}const a=function(i){const s=i&&(i[cs]||i[cr]);if(s){const a=function(i){if(i.hasOwnProperty("name"))return i.name;const s=(""+i).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),s}return null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new Error("unreachable")}function RA(i,s,a){let c;if(mg(i)){const u=Y(i);return ds(u)||my(u)}if(_y(i))c=()=>Y(i.useValue);else if(function(i){return!(!i||!i.useFactory)}(i))c=()=>i.useFactory(...Hn(i.deps||[]));else if(function(i){return!(!i||!i.useExisting)}(i))c=()=>Le(Y(i.useExisting));else{const u=Y(i&&(i.useClass||i.provide));if(!function(i){return!!i.deps}(i))return ds(u)||my(u);c=()=>new u(...Hn(i.deps))}return c}function nf(i,s,a=!1){return{factory:i,value:s,multi:a?[]:void 0}}function _y(i){return null!==i&&"object"==typeof i&&J in i}function mg(i){return"function"==typeof i}const gE=function(i,s,a){return function(i,s=null,a=null,c){const u=pE(i,s,a,c);return u._resolveInjectorDefTypes(),u}({name:a},s,i,a)};let Fn=(()=>{class i{static create(a,c){return Array.isArray(a)?gE(a,c,""):gE(a.providers,a.parent,a.name||"")}}return i.THROW_IF_NOT_FOUND=fo,i.NULL=new gy,i.\u0275prov=dn({token:i,providedIn:"any",factory:()=>Le(pg)}),i.__NG_ELEMENT_ID__=-1,i})();function bo(i,s){xs(jp(i)[1],yn())}function bE(i){let s=function(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),a=!0;const c=[i];for(;s;){let u;if(Gr(i))u=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new Error("Directives cannot inherit Components");u=s.\u0275dir}if(u){if(a){c.push(u);const _=i;_.inputs=bg(i.inputs),_.declaredInputs=bg(i.declaredInputs),_.outputs=bg(i.outputs);const b=u.hostBindings;b&&jA(i,b);const w=u.viewQuery,I=u.contentQueries;if(w&&BA(i,w),I&&UA(i,I),ne(i.inputs,u.inputs),ne(i.declaredInputs,u.declaredInputs),ne(i.outputs,u.outputs),Gr(u)&&u.data.animation){const M=i.data;M.animation=(M.animation||[]).concat(u.data.animation)}}const f=u.features;if(f)for(let _=0;_<f.length;_++){const b=f[_];b&&b.ngInherit&&b(i),b===bE&&(a=!1)}}s=Object.getPrototypeOf(s)}!function(i){let s=0,a=null;for(let c=i.length-1;c>=0;c--){const u=i[c];u.hostVars=s+=u.hostVars,u.hostAttrs=Cc(u.hostAttrs,a=Cc(a,u.hostAttrs))}}(c)}function bg(i){return i===q?{}:i===j?[]:i}function BA(i,s){const a=i.viewQuery;i.viewQuery=a?(c,u)=>{s(c,u),a(c,u)}:s}function UA(i,s){const a=i.contentQueries;i.contentQueries=a?(c,u,f)=>{s(c,u,f),a(c,u,f)}:s}function jA(i,s){const a=i.hostBindings;i.hostBindings=a?(c,u)=>{s(c,u),a(c,u)}:s}let wg=null;function Wl(){if(!wg){const i=Tt.Symbol;if(i&&i.iterator)wg=i.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<s.length;++a){const c=s[a];"entries"!==c&&"size"!==c&&Map.prototype[c]===Map.prototype.entries&&(wg=c)}}}return wg}function Cg(i){return!!CE(i)&&(Array.isArray(i)||!(i instanceof Map)&&Wl()in i)}function CE(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function mi(i,s,a){return!Object.is(i[s],a)&&(i[s]=a,!0)}function DE(i,s,a,c){const u=Se();return mi(u,Yi(),s)&&(Ht(),Ga(En(),u,i,s,a,c)),DE}function wD(i,s,a,c,u,f,_,b){const w=Se(),I=Ht(),M=i+20,O=I.firstCreatePass?function(i,s,a,c,u,f,_,b,w){const I=s.consts,M=Zh(s,i,4,_||null,Zi(I,b));nE(s,a,M,Zi(I,w)),xs(s,M);const O=M.tViews=ry(2,M,c,u,f,s.directiveRegistry,s.pipeRegistry,null,s.schemas,I);return null!==s.queries&&(s.queries.template(s,M),O.queries=s.queries.embeddedTView(M)),M}(M,I,w,s,a,c,u,f,_):I.data[M];rr(O,!1);const F=w[11].createComment("");q_(I,w,F,O),Qn(F,w),cy(w,w[M]=aD(F,w,F,O)),Nu(O)&&Xh(I,w,O),null!=_&&Zc(w,O,b)}function CD(i){return No(nt.lFrame.contextLView,20+i)}function cf(i,s=it.Default){const a=Se();return null===a?Le(i,s):td(yn(),a,Y(i),s)}function kE(){throw new Error("invalid")}function Sy(i,s,a){const c=Se();return mi(c,Yi(),s)&&Fs(Ht(),En(),c,i,s,c[11],a,!1),Sy}function tu(i,s,a,c,u){const _=u?"class":"style";hg(i,a,s.inputs[_],_,c)}function Od(i,s,a,c){const u=Se(),f=Ht(),_=20+i,b=u[11],w=u[_]=P(b,s,nt.lFrame.currentNamespace),I=f.firstCreatePass?function(i,s,a,c,u,f,_){const b=s.consts,I=Zh(s,i,2,u,Zi(b,f));return nE(s,a,I,Zi(b,_)),null!==I.attrs&&fg(I,I.attrs,!1),null!==I.mergedAttrs&&fg(I,I.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,I),I}(_,f,u,0,s,a,c):f.data[_];rr(I,!0);const M=I.mergedAttrs;null!==M&&wc(b,w,M);const O=I.classes;null!==O&&Z_(b,w,O);const F=I.styles;null!==F&&B0(b,w,F),64!=(64&I.flags)&&q_(f,u,w,I),0===nt.lFrame.elementDepthCount&&Qn(w,u),nt.lFrame.elementDepthCount++,Nu(I)&&(Xh(f,u,I),Qh(f,I,u)),null!==c&&Zc(u,I)}function Sg(){let i=yn();bl()?ro():(i=i.parent,rr(i,!1));const s=i;nt.lFrame.elementDepthCount--;const a=Ht();a.firstCreatePass&&(xs(a,i),nr(i)&&a.queries.elementEnd(i)),null!=s.classesWithoutHost&&function(i){return 0!=(16&i.flags)}(s)&&tu(a,s,Se(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function(i){return 0!=(32&i.flags)}(s)&&tu(a,s,Se(),s.stylesWithoutHost,!1)}function OE(i,s,a,c){Od(i,s,a,c),Sg()}function NE(i,s,a){const c=Se(),u=Ht(),f=i+20,_=u.firstCreatePass?function(i,s,a,c,u){const f=s.consts,_=Zi(f,c),b=Zh(s,i,8,"ng-container",_);return null!==_&&fg(b,_,!0),nE(s,a,b,Zi(f,u)),null!==s.queries&&s.queries.elementStart(s,b),b}(f,u,c,s,a):u.data[f];rr(_,!0);const b=c[f]=c[11].createComment("");q_(u,c,b,_),Qn(b,c),Nu(_)&&(Xh(u,c,_),Qh(u,_,c)),null!=a&&Zc(c,_)}function FE(){let i=yn();const s=Ht();bl()?ro():(i=i.parent,rr(i,!1)),s.firstCreatePass&&(xs(s,i),nr(i)&&s.queries.elementEnd(i))}function et(){return Se()}function Ag(i){return!!i&&"function"==typeof i.then}function xt(i){return!!i&&"function"==typeof i.subscribe}const uf=xt;function xg(i,s,a,c){const u=Se(),f=Ht(),_=yn();return Ay(f,u,u[11],_,i,s,!!a,c),xg}function Nd(i,s){const a=yn(),c=Se(),u=Ht();return Ay(u,c,uE(Ta(u.data),a,c),a,i,s,!1),Nd}function Ay(i,s,a,c,u,f,_,b){const w=Nu(c),M=i.firstCreatePass&&cD(i),O=s[8],F=py(s);let H=!0;if(3&c.type||b){const ee=jn(c,s),Fe=b?b(ee):ee,we=F.length,at=b?It=>b(Un(It[c.index])):c.index;if(ln(a)){let It=null;if(!b&&w&&(It=function(i,s,a,c){const u=i.cleanup;if(null!=u)for(let f=0;f<u.length-1;f+=2){const _=u[f];if(_===a&&u[f+1]===c){const b=s[7],w=u[f+2];return b.length>w?b[w]:null}"string"==typeof _&&(f+=2)}return null}(i,s,u,c.index)),null!==It)(It.__ngLastListenerFn__||It).__ngNextListenerFn__=f,It.__ngLastListenerFn__=f,H=!1;else{f=LE(c,s,O,f,!1);const zt=a.listen(Fe,u,f);F.push(f,zt),M&&M.push(u,at,we,we+1)}}else f=LE(c,s,O,f,!0),Fe.addEventListener(u,f,_),F.push(f),M&&M.push(u,at,we,_)}else f=LE(c,s,O,f,!1);const W=c.outputs;let ce;if(H&&null!==W&&(ce=W[u])){const ee=ce.length;if(ee)for(let Fe=0;Fe<ee;Fe+=2){const Bn=s[ce[Fe]][ce[Fe+1]].subscribe(f),kr=F.length;F.push(f,Bn),M&&M.push(u,c.index,kr,-(kr+1))}}}function VD(i,s,a,c){try{return!1!==a(c)}catch(u){return dE(i,u),!1}}function LE(i,s,a,c,u){return function f(_){if(_===Function)return c;const b=2&i.flags?sn(i.index,s):s;0==(32&s[2])&&uy(b);let w=VD(s,0,c,_),I=f.__ngNextListenerFn__;for(;I;)w=VD(s,0,I,_)&&w,I=I.__ngNextListenerFn__;return u&&!1===w&&(_.preventDefault(),_.returnValue=!1),w}}function BD(i=1){return function(i){return(nt.lFrame.contextLView=function(i,s){for(;i>0;)s=s[15],i--;return s}(i,nt.lFrame.contextLView))[8]}(i)}function _i(i,s){let a=null;const c=function(i){const s=i.attrs;if(null!=s){const a=s.indexOf(5);if(0==(1&a))return s[a+1]}return null}(i);for(let u=0;u<s.length;u++){const f=s[u];if("*"!==f){if(null===c?z0(i,f,!0):zc(c,f))return u}else a=u}return a}function Mg(i){const s=Se()[16][6];if(!s.projection){const c=s.projection=Ji(i?i.length:1,null),u=c.slice();let f=s.child;for(;null!==f;){const _=i?_i(f,i):0;null!==_&&(u[_]?u[_].projectionNext=f:c[_]=f,u[_]=f),f=f.next}}}function Jr(i,s=0,a){const c=Se(),u=Ht(),f=Zh(u,20+i,16,null,a||null);null===f.projection&&(f.projection=s),ro(),64!=(64&f.flags)&&function(i,s,a){V0(s[11],0,s,a,Gl(i,a,s),Gh(a.parent||s[6],a,s))}(u,c,f)}function zE(i,s,a,c,u){const f=i[a+1],_=null===s;let b=c?vo(f):Ns(f),w=!1;for(;0!==b&&(!1===w||_);){const M=i[b+1];HD(i[b],s)&&(w=!0,i[b+1]=c?Q_(M):K_(M)),b=c?vo(M):Ns(M)}w&&(i[a+1]=c?K_(f):Q_(f))}function HD(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&Ho(i,s)>=0}function kg(i,s){return function(i,s,a,c){const u=Se(),f=Ht(),_=function(i){const s=nt.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,a}(2);f.firstUpdatePass&&function(i,s,a,c){const u=i.data;if(null===u[a+1]){const f=u[Zn()],_=function(i,s){return s>=i.expandoStartIndex}(i,a);(function(i,s){return 0!=(i.flags&(s?16:32))})(f,c)&&null===s&&!_&&(s=!1),s=function(i,s,a,c){const u=Ta(i);let f=c?s.residualClasses:s.residualStyles;if(null===u)0===(c?s.classBindings:s.styleBindings)&&(a=nu(a=hf(null,i,s,a,c),s.attrs,c),f=null);else{const _=s.directiveStylingLast;if(-1===_||i[_]!==u)if(a=hf(u,i,s,a,c),null===f){let w=function(i,s,a){const c=a?s.classBindings:s.styleBindings;if(0!==Ns(c))return i[vo(c)]}(i,s,c);void 0!==w&&Array.isArray(w)&&(w=hf(null,i,s,w[1],c),w=nu(w,s.attrs,c),function(i,s,a,c){i[vo(a?s.classBindings:s.styleBindings)]=c}(i,s,c,w))}else f=function(i,s,a){let c;const u=s.directiveEnd;for(let f=1+s.directiveStylingLast;f<u;f++)c=nu(c,i[f].hostAttrs,a);return nu(c,s.attrs,a)}(i,s,c)}return void 0!==f&&(c?s.residualClasses=f:s.residualStyles=f),a}(u,f,s,c),function(i,s,a,c,u,f){let _=f?s.classBindings:s.styleBindings,b=vo(_),w=Ns(_);i[c]=a;let M,I=!1;if(Array.isArray(a)){const O=a;M=O[1],(null===M||Ho(O,M)>0)&&(I=!0)}else M=a;if(u)if(0!==w){const F=vo(i[b+1]);i[c+1]=ng(F,b),0!==F&&(i[F+1]=Y_(i[F+1],c)),i[b+1]=function(i,s){return 131071&i|s<<17}(i[b+1],c)}else i[c+1]=ng(b,0),0!==b&&(i[b+1]=Y_(i[b+1],c)),b=c;else i[c+1]=ng(w,0),0===b?b=c:i[w+1]=Y_(i[w+1],c),w=c;I&&(i[c+1]=K_(i[c+1])),zE(i,M,c,!0),zE(i,M,c,!1),function(i,s,a,c,u){const f=u?i.residualClasses:i.residualStyles;null!=f&&"string"==typeof s&&Ho(f,s)>=0&&(a[c+1]=Q_(a[c+1]))}(s,M,i,c,f),_=ng(b,w),f?s.classBindings=_:s.styleBindings=_}(u,f,s,a,_,c)}}(f,i,_,c),s!==Ot&&mi(u,_,s)&&function(i,s,a,c,u,f,_,b){if(!(3&s.type))return;const w=i.data,I=w[b+1];Ng(function(i){return 1==(1&i)}(I)?YE(w,s,a,u,Ns(I),_):void 0)||(Ng(f)||function(i){return 2==(2&i)}(I)&&(f=YE(w,null,a,u,b,_)),function(i,s,a,c,u){const f=ln(i);if(s)u?f?i.addClass(a,c):a.classList.add(c):f?i.removeClass(a,c):a.classList.remove(c);else{let _=-1===c.indexOf("-")?void 0:vs.DashCase;if(null==u)f?i.removeStyle(a,c,_):a.style.removeProperty(c);else{const b="string"==typeof u&&u.endsWith("!important");b&&(u=u.slice(0,-10),_|=vs.Important),f?i.setStyle(a,c,u,_):a.style.setProperty(c,u,b?"important":"")}}}(c,_,Wi(Zn(),a),u,f))}(f,f.data[Zn()],u,u[11],i,u[_+1]=function(i,s){return null==i||("string"==typeof s?i+=s:"object"==typeof i&&(i=ae(pi(i)))),i}(s,a),c,_)}(i,s,null,!0),kg}function hf(i,s,a,c,u){let f=null;const _=a.directiveEnd;let b=a.directiveStylingLast;for(-1===b?b=a.directiveStart:b++;b<_&&(f=s[b],c=nu(c,f.hostAttrs,u),f!==i);)b++;return null!==i&&(a.directiveStylingLast=b),c}function nu(i,s,a){const c=a?1:2;let u=-1;if(null!==s)for(let f=0;f<s.length;f++){const _=s[f];"number"==typeof _?u=_:u===c&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),Pi(i,_,!!a||s[++f]))}return void 0===i?null:i}function YE(i,s,a,c,u,f){const _=null===s;let b;for(;u>0;){const w=i[u],I=Array.isArray(w),M=I?w[1]:w,O=null===M;let F=a[u+1];F===Ot&&(F=O?j:void 0);let H=O?Sh(F,c):M===c?F:void 0;if(I&&!Ng(H)&&(H=Sh(w,c)),Ng(H)&&(b=H,_))return b;const W=i[u+1];u=_?vo(W):Ns(W)}if(null!==s){let w=f?s.residualClasses:s.residualStyles;null!=w&&(b=Sh(w,c))}return b}function Ng(i){return void 0!==i}function XE(i,s=""){const a=Se(),c=Ht(),u=i+20,f=c.firstCreatePass?Zh(c,u,1,s,null):c.data[u],_=a[u]=function(i,s){return ln(i)?i.createText(s):i.createTextNode(s)}(a[11],s);q_(c,a,_,f),rr(f,!1)}function Fg(i){return Lg("",i,""),Fg}function Lg(i,s,a){const c=Se(),u=function(i,s,a,c){return mi(i,Yi(),a)?s+X(a)+c:Ot}(c,i,s,a);return u!==Ot&&ql(c,Zn(),u),Lg}function By(i,s,a){const c=Se();return mi(c,Yi(),s)&&Fs(Ht(),En(),c,i,s,c[11],a,!0),By}function ff(i,s,a){const c=Se();if(mi(c,Yi(),s)){const f=Ht(),_=En();Fs(f,_,c,i,s,uE(Ta(f.data),_,c),a,!0)}return ff}const iu=void 0;var sI=["en",[["a","p"],["AM","PM"],iu],[["AM","PM"],iu,iu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],iu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],iu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",iu,"{1} 'at' {0}",iu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(i){const a=Math.floor(Math.abs(i)),c=i.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===c?1:5}];let Ar={};function Bd(i){const s=function(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=Uy(s);if(a)return a;const c=s.split("-")[0];if(a=Uy(c),a)return a;if("en"===c)return sI;throw new Error(`Missing locale data for the locale "${i}".`)}function aw(i){return Bd(i)[bt.PluralCase]}function Uy(i){return i in Ar||(Ar[i]=Tt.ng&&Tt.ng.common&&Tt.ng.common.locales&&Tt.ng.common.locales[i]),Ar[i]}var bt=(()=>((bt=bt||{})[bt.LocaleId=0]="LocaleId",bt[bt.DayPeriodsFormat=1]="DayPeriodsFormat",bt[bt.DayPeriodsStandalone=2]="DayPeriodsStandalone",bt[bt.DaysFormat=3]="DaysFormat",bt[bt.DaysStandalone=4]="DaysStandalone",bt[bt.MonthsFormat=5]="MonthsFormat",bt[bt.MonthsStandalone=6]="MonthsStandalone",bt[bt.Eras=7]="Eras",bt[bt.FirstDayOfWeek=8]="FirstDayOfWeek",bt[bt.WeekendRange=9]="WeekendRange",bt[bt.DateFormat=10]="DateFormat",bt[bt.TimeFormat=11]="TimeFormat",bt[bt.DateTimeFormat=12]="DateTimeFormat",bt[bt.NumberSymbols=13]="NumberSymbols",bt[bt.NumberFormats=14]="NumberFormats",bt[bt.CurrencyCode=15]="CurrencyCode",bt[bt.CurrencySymbol=16]="CurrencySymbol",bt[bt.CurrencyName=17]="CurrencyName",bt[bt.Currencies=18]="Currencies",bt[bt.Directionality=19]="Directionality",bt[bt.PluralCase=20]="PluralCase",bt[bt.ExtraData=21]="ExtraData",bt))();const pf="en-US";let zg=pf;function vf(i,s,a,c,u){if(i=Y(i),Array.isArray(i))for(let f=0;f<i.length;f++)vf(i[f],s,a,c,u);else{const f=Ht(),_=Se();let b=mg(i)?i:Y(i.provide),w=RA(i);const I=yn(),M=1048575&I.providerIndexes,O=I.directiveStart,F=I.providerIndexes>>20;if(mg(i)||!i.multi){const H=new Pa(w,u,cf),W=bf(b,s,u?M:M+F,O);-1===W?(hn(fs(I,_),f,b),Xy(f,i,s.length),s.push(b),I.directiveStart++,I.directiveEnd++,u&&(I.providerIndexes+=1048576),a.push(H),_.push(H)):(a[W]=H,_[W]=H)}else{const H=bf(b,s,M+F,O),W=bf(b,s,M,M+F),ce=H>=0&&a[H],ee=W>=0&&a[W];if(u&&!ee||!u&&!ce){hn(fs(I,_),f,b);const Fe=function(i,s,a,c,u){const f=new Pa(i,a,cf);return f.multi=[],f.index=s,f.componentProviders=0,Jy(f,u,c&&!a),f}(u?II:Nx,a.length,u,c,w);!u&&ee&&(a[W].providerFactory=Fe),Xy(f,i,s.length,0),s.push(b),I.directiveStart++,I.directiveEnd++,u&&(I.providerIndexes+=1048576),a.push(Fe),_.push(Fe)}else Xy(f,i,H>-1?H:W,Jy(a[u?W:H],w,!u&&c));!u&&c&&ee&&a[W].componentProviders++}}}function Xy(i,s,a,c){const u=mg(s);if(u||function(i){return!!i.useClass}(s)){const _=(s.useClass||s).prototype.ngOnDestroy;if(_){const b=i.destroyHooks||(i.destroyHooks=[]);if(!u&&s.multi){const w=b.indexOf(a);-1===w?b.push(a,[c,_]):b[w+1].push(c,_)}else b.push(a,_)}}}function Jy(i,s,a){return a&&i.componentProviders++,i.multi.push(s)-1}function bf(i,s,a,c){for(let u=a;u<c;u++)if(s[u]===i)return u;return-1}function Nx(i,s,a,c){return Ud(this.multi,[])}function II(i,s,a,c){const u=this.multi;let f;if(this.providerFactory){const _=this.providerFactory.componentProviders,b=jo(a,a[1],this.providerFactory.index,c);f=b.slice(0,_),Ud(u,f);for(let w=_;w<b.length;w++)f.push(b[w])}else f=[],Ud(u,f);return f}function Ud(i,s){for(let a=0;a<i.length;a++)s.push((0,i[a])());return s}function Dw(i,s=[]){return a=>{a.providersResolver=(c,u)=>function(i,s,a){const c=Ht();if(c.firstCreatePass){const u=Gr(i);vf(a,c.data,c.blueprint,u,!0),vf(s,c.data,c.blueprint,u,!1)}}(c,u?u(i):i,s)}}class ev{}const tm="ngComponent";class SI{resolveComponentFactory(s){throw function(i){const s=Error(`No component factory found for ${ae(i)}. Did you add it to @NgModule.entryComponents?`);return s[tm]=i,s}(s)}}let Eo=(()=>{class i{}return i.NULL=new SI,i})();function nm(...i){}function Xl(i,s){return new os(jn(i,s))}const xI=function(){return Xl(yn(),Se())};let os=(()=>{class i{constructor(a){this.nativeElement=a}}return i.__NG_ELEMENT_ID__=xI,i})();function MI(i){return i instanceof os?i.nativeElement:i}class Ef{}let Bx=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>Hx(),i})();const Hx=function(){const i=Se(),a=sn(yn().index,i);return function(i){return i[11]}(Gi(a)?a:i)};let rv=(()=>{class i{}return i.\u0275prov=dn({token:i,providedIn:"root",factory:()=>null}),i})();class ti{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const cu=new ti("13.0.1"),Us={};function wf(i,s,a,c,u=!1){for(;null!==a;){const f=s[a.index];if(null!==f&&c.push(Un(f)),us(f))for(let b=10;b<f.length;b++){const w=f[b],I=w[1].firstChild;null!==I&&wf(w[1],w,I,c)}const _=a.type;if(8&_)wf(i,s,a.child,c);else if(32&_){const b=yo(a,s);let w;for(;w=b();)c.push(w)}else if(16&_){const b=F0(s,a);if(Array.isArray(b))c.push(...b);else{const w=zl(s[16]);wf(w[1],w,b,c,!0)}}a=u?a.projectionNext:a.next}return c}class rm{constructor(s,a){this._lView=s,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,a=s[1];return wf(a,s,a.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(us(s)){const a=s[8],c=a?a.indexOf(this):-1;c>-1&&(ir(s,c),fn(a,c))}this._attachedToViewContainer=!1}An(this._lView[1],this._lView)}onDestroy(s){iy(this._lView[1],this._lView,null,s)}markForCheck(){uy(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){cE(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(i,s,a){Da(!0);try{cE(i,s,a)}finally{Da(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var s;this._appRef=null,eg(this._lView[1],s=this._lView,s[11],2,null,null)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=s}}class $e extends rm{constructor(s){super(s),this._view=s}detectChanges(){hy(this._view)}checkNoChanges(){!function(i){Da(!0);try{hy(i)}finally{Da(!1)}}(this._view)}get context(){return null}}class _r extends Eo{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=_n(s);return new Aw(a,this.ngModule)}}function Cf(i){const s=[];for(let a in i)i.hasOwnProperty(a)&&s.push({propName:i[a],templateName:a});return s}const ft=new Sn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Kp});class Aw extends ev{constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=s.selectors.map(Oi).join(","),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return Cf(this.componentDef.inputs)}get outputs(){return Cf(this.componentDef.outputs)}create(s,a,c,u){const f=(u=u||this.ngModule)?function(i,s){return{get:(a,c,u)=>{const f=i.get(a,Us,u);return f!==Us||c===Us?f:s.get(a,c,u)}}}(s,u.injector):s,_=f.get(Ef,ju),b=f.get(rv,null),w=_.createRenderer(null,this.componentDef),I=this.componentDef.selectors[0][0]||"div",M=c?function(i,s,a){if(ln(i))return i.selectRootElement(s,a===Ze.ShadowDom);let c="string"==typeof s?i.querySelector(s):s;return c.textContent="",c}(w,c,this.componentDef.encapsulation):P(_.createRenderer(null,this.componentDef),I,function(i){const s=i.toLowerCase();return"svg"===s?"http://www.w3.org/2000/svg":"math"===s?"http://www.w3.org/1998/MathML/":null}(I)),O=this.componentDef.onPush?576:528,F=function(i,s){return{components:[],scheduler:i||Kp,clean:rk,playerHandler:s||null,flags:0}}(),H=ry(0,null,null,1,0,null,null,null,null,null),W=ty(null,H,F,O,null,null,_,w,b,f);let ce,ee;Aa(W);try{const Fe=function(i,s,a,c,u,f){const _=a[1];a[20]=i;const w=Zh(_,20,2,"#host",null),I=w.mergedAttrs=s.hostAttrs;null!==I&&(fg(w,I,!0),null!==i&&(wc(u,i,I),null!==w.classes&&Z_(u,i,w.classes),null!==w.styles&&B0(u,i,w.styles)));const M=c.createRenderer(i,s),O=ty(a,Jh(s),null,s.onPush?64:16,a[20],w,c,M,f||null,null);return _.firstCreatePass&&(hn(fs(w,a),_,s.type),iE(_,w),sE(w,a.length,1)),cy(a,O),a[20]=O}(M,this.componentDef,W,_,w);if(M)if(c)wc(w,M,["ng-version",cu.full]);else{const{attrs:we,classes:at}=function(i){const s=[],a=[];let c=1,u=2;for(;c<i.length;){let f=i[c];if("string"==typeof f)2===u?""!==f&&s.push(f,i[++c]):8===u&&a.push(f);else{if(!Ko(u))break;u=f}c++}return{attrs:s,classes:a}}(this.componentDef.selectors[0]);we&&wc(w,M,we),at&&at.length>0&&Z_(w,M,at.join(" "))}if(ee=Oo(H,20),void 0!==a){const we=ee.projection=[];for(let at=0;at<this.ngContentSelectors.length;at++){const It=a[at];we.push(null!=It?Array.from(It):null)}}ce=function(i,s,a,c,u){const f=a[1],_=function(i,s,a){const c=yn();i.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),iD(i,c,s,Kh(i,s,1,null),a));const u=jo(s,i,c.directiveStart,c);Qn(u,s);const f=jn(c,s);return f&&Qn(f,s),u}(f,a,s);if(c.components.push(_),i[8]=_,u&&u.forEach(w=>w(_,s)),s.contentQueries){const w=yn();s.contentQueries(1,_,w.directiveStart)}const b=yn();return!f.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(so(b.index),rE(a[1],b,0,b.directiveStart,b.directiveEnd,s),oy(s,_)),_}(Fe,this.componentDef,W,F,[bo]),Yh(H,W,null)}finally{Ma()}return new Oe(this.componentType,ce,Xl(ee,W),W,ee)}}class Oe extends class{}{constructor(s,a,c,u,f){super(),this.location=c,this._rootLView=u,this._tNode=f,this.instance=a,this.hostView=this.changeDetectorRef=new $e(u),this.componentType=s}get injector(){return new kt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}class uu{}class RI{}const Df=new Map;class Mw extends uu{constructor(s,a){super(),this._parent=a,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new _r(this);const c=Dr(s);this._bootstrapComponents=Os(c.bootstrap),this._r3Injector=pE(s,a,[{provide:uu,useValue:this},{provide:Eo,useValue:this.componentFactoryResolver}],ae(s)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(s)}get(s,a=Fn.THROW_IF_NOT_FOUND,c=it.Default){return s===Fn||s===uu||s===pg?this:this._r3Injector.get(s,a,c)}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class Mr extends RI{constructor(s){super(),this.moduleType=s,null!==Dr(s)&&function(i){const s=new Set;!function a(c){const u=Dr(c,!0),f=u.id;null!==f&&(function(i,s,a){if(s&&s!==a)throw new Error(`Duplicate module registered for ${i} - ${ae(s)} vs ${ae(s.name)}`)}(f,Df.get(f),c),Df.set(f,c));const _=Os(u.imports);for(const b of _)s.has(b)||(s.add(b),a(b))}(i)}(s)}create(s){return new Mw(this.moduleType,s)}}function Rw(i,s,a,c){return OI(Se(),ur(),i,s,a,c)}function OI(i,s,a,c,u,f){const _=s+a;return mi(i,_,u)?function(i,s,a){return i[s]=a}(i,_+1,f?c.call(f,u):c(u)):function(i,s){const a=i[s];return a===Ot?void 0:a}(i,_+1)}function Pw(i,s){const a=Ht();let c;const u=i+20;a.firstCreatePass?(c=function(i,s){if(s)for(let a=s.length-1;a>=0;a--){const c=s[a];if(i===c.name)return c}throw new Ue("302",`The pipe '${i}' could not be found!`)}(s,a.pipeRegistry),a.data[u]=c,c.onDestroy&&(a.destroyHooks||(a.destroyHooks=[])).push(u,c.onDestroy)):c=a.data[u];const f=c.factory||(c.factory=ds(c.type)),_=ai(cf);try{const b=Sl(!1),w=f();return Sl(b),function(i,s,a,c){a>=i.data.length&&(i.data[a]=null,i.blueprint[a]=null),s[a]=c}(a,Se(),u,w),w}finally{ai(_)}}function du(i,s,a){const c=i+20,u=Se(),f=No(u,c);return function(i,s){return i[1].data[s].pure}(u,c)?OI(u,ur(),s,f.transform,a,f):f.transform(a)}function hu(i){return s=>{setTimeout(i,void 0,s)}}const sa=class extends d.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,a,c){var w,I,M;let u=s,f=a||(()=>null),_=c;if(s&&"object"==typeof s){const O=s;u=null==(w=O.next)?void 0:w.bind(O),f=null==(I=O.error)?void 0:I.bind(O),_=null==(M=O.complete)?void 0:M.bind(O)}this.__isAsync&&(f=hu(f),u&&(u=hu(u)),_&&(_=hu(_)));const b=super.subscribe({next:u,error:f,complete:_});return s instanceof te.w0&&s.add(b),b}};function kw(){return this._results[Wl()]()}class Tf{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=Wl(),c=Tf.prototype;c[a]||(c[a]=kw)}get changes(){return this._changes||(this._changes=new sa)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){const c=this;c.dirty=!1;const u=Yr(s);(this._changesDetected=!function(i,s,a){if(i.length!==s.length)return!1;for(let c=0;c<i.length;c++){let u=i[c],f=s[c];if(a&&(u=a(u),f=a(f)),f!==u)return!1}return!0}(c._results,u,a))&&(c._results=u,c.length=u.length,c.last=u[this.length-1],c.first=u[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;const Ow=function(){return Ur(yn(),Se())};let Sf=(()=>{class i{}return i.__NG_ELEMENT_ID__=Ow,i})();const LI=Sf,av=class extends LI{constructor(s,a,c){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=c}createEmbeddedView(s){const a=this._declarationTContainer.tViews,c=ty(this._declarationLView,a,s,16,null,a.declTNode,null,null,null,null);c[17]=this._declarationLView[this._declarationTContainer.index];const f=this._declarationLView[19];return null!==f&&(c[19]=f.createEmbeddedView(a)),Yh(a,c,s),new rm(c)}};function Ur(i,s){return 4&i.type?new av(s,i,Xl(i,s)):null}const Zx=function(){return BI(yn(),Se())};let cm=(()=>{class i{}return i.__NG_ELEMENT_ID__=Zx,i})();const Kx=cm,dm=class extends Kx{constructor(s,a,c){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=c}get element(){return Xl(this._hostTNode,this._hostLView)}get injector(){return new kt(this._hostTNode,this._hostLView)}get parentInjector(){const s=hr(this._hostTNode,this._hostLView);if(g_(s)){const a=Dc(s,this._hostLView),c=Tl(s);return new kt(a[1].data[c+8],a)}return new kt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=hm(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,a,c){const u=s.createEmbeddedView(a||{});return this.insert(u,c),u}createComponent(s,a,c,u,f){const _=s&&!("function"==typeof s);let b;if(_)b=a;else{const O=a||{};b=O.index,c=O.injector,u=O.projectableNodes,f=O.ngModuleRef}const w=_?s:new Aw(_n(s)),I=c||this.parentInjector;if(!f&&null==w.ngModule&&I){const O=I.get(uu,null);O&&(f=O)}const M=w.create(I,u,void 0,f);return this.insert(M.hostView,b),M}insert(s,a){const c=s._lView,u=c[1];if(us(c[3])){const M=this.indexOf(s);if(-1!==M)this.detach(M);else{const O=c[3],F=new dm(O,O[6],O[3]);F.detach(F.indexOf(s))}}const f=this._adjustIndex(a),_=this._lContainer;!function(i,s,a,c){const u=10+c,f=a.length;c>0&&(a[u-1][4]=s),c<f-10?(s[4]=a[u],_s(a,10+c,s)):(a.push(s),s[4]=null),s[3]=a;const _=s[17];null!==_&&a!==_&&function(i,s){const a=i[9];s[16]!==s[3][3][16]&&(i[2]=!0),null===a?i[9]=[s]:a.push(s)}(_,s);const b=s[19];null!==b&&b.insertView(i),s[2]|=128}(u,c,_,f);const b=Lb(f,_),w=c[11],I=Td(w,_[7]);return null!==I&&function(i,s,a,c,u,f){c[0]=u,c[6]=s,eg(i,c,a,1,u,f)}(u,_[6],w,c,I,b),s.attachToViewContainerRef(),_s(bi(_),f,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=hm(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),c=ir(this._lContainer,a);c&&(fn(bi(this._lContainer),a),An(c[1],c))}detach(s){const a=this._adjustIndex(s,-1),c=ir(this._lContainer,a);return c&&null!=fn(bi(this._lContainer),a)?new rm(c):null}_adjustIndex(s,a=0){return null==s?this.length+a:s}};function hm(i){return i[8]}function bi(i){return i[8]||(i[8]=[])}function BI(i,s){let a;const c=s[i.index];if(us(c))a=c;else{let u;if(8&i.type)u=Un(c);else{const f=s[11];u=f.createComment("");const _=jn(i,s);Ha(f,Td(f,_),u,function(i,s){return ln(i)?i.nextSibling(s):s.nextSibling}(f,_),!1)}s[i.index]=a=aD(c,s,u,i),cy(s,a)}return new dm(a,i,s)}class lv{constructor(s){this.queryList=s,this.matches=null}clone(){return new lv(this.queryList)}setDirty(){this.queryList.setDirty()}}class Nw{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const c=null!==s.contentQueries?s.contentQueries[0]:a.length,u=[];for(let f=0;f<c;f++){const _=a.getByIndex(f);u.push(this.queries[_.indexInDeclarationView].clone())}return new Nw(u)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==Gd(s,a).matches&&this.queries[a].setDirty()}}class UI{constructor(s,a,c=null){this.predicate=s,this.flags=a,this.read=c}}class Fw{constructor(s=[]){this.queries=s}elementStart(s,a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let c=0;c<this.length;c++){const u=null!==a?a.length:0,f=this.getByIndex(c).embeddedTView(s,u);f&&(f.indexInDeclarationView=c,null!==a?a.push(f):a=[f])}return null!==a?new Fw(a):null}template(s,a){for(let c=0;c<this.queries.length;c++)this.queries[c].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class Lw{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new Lw(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let c=s.parent;for(;null!==c&&8&c.type&&c.index!==a;)c=c.parent;return a===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const c=this.metadata.predicate;if(Array.isArray(c))for(let u=0;u<c.length;u++){const f=c[u];this.matchTNodeWithReadOption(s,a,fm(a,f)),this.matchTNodeWithReadOption(s,a,Je(a,s,f,!1,!1))}else c===Sf?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,Je(a,s,c,!1,!1))}matchTNodeWithReadOption(s,a,c){if(null!==c){const u=this.metadata.read;if(null!==u)if(u===os||u===cm||u===Sf&&4&a.type)this.addMatch(a.index,-2);else{const f=Je(a,s,u,!1,!1);null!==f&&this.addMatch(a.index,f)}else this.addMatch(a.index,c)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function fm(i,s){const a=i.localNames;if(null!==a)for(let c=0;c<a.length;c+=2)if(a[c]===s)return a[c+1];return null}function Af(i,s,a,c){return-1===a?function(i,s){return 11&i.type?Xl(i,s):4&i.type?Ur(i,s):null}(s,i):-2===a?function(i,s,a){return a===os?Xl(s,i):a===Sf?Ur(s,i):a===cm?BI(s,i):void 0}(i,s,c):jo(i,i[1],a,s)}function Vw(i,s,a,c){const u=s[19].queries[c];if(null===u.matches){const f=i.data,_=a.matches,b=[];for(let w=0;w<_.length;w+=2){const I=_[w];b.push(I<0?null:Af(s,f[I],_[w+1],a.metadata.read))}u.matches=b}return u.matches}function uv(i,s,a,c){const u=i.queries.getByIndex(a),f=u.matches;if(null!==f){const _=Vw(i,s,u,a);for(let b=0;b<f.length;b+=2){const w=f[b];if(w>0)c.push(_[b/2]);else{const I=f[b+1],M=s[-w];for(let O=10;O<M.length;O++){const F=M[O];F[17]===F[3]&&uv(F[1],F,I,c)}if(null!==M[9]){const O=M[9];for(let F=0;F<O.length;F++){const H=O[F];uv(H[1],H,I,c)}}}}}return c}function Za(i){const s=Se(),a=Ht(),c=bc();wl(c+1);const u=Gd(a,c);if(i.dirty&&As(s)===(2==(2&u.metadata.flags))){if(null===u.matches)i.reset([]);else{const f=u.crossesNgTemplate?uv(a,s,c,[]):Vw(a,s,u,c);i.reset(f,MI),i.notifyOnChanges()}return!0}return!1}function Bw(i,s,a){const c=Ht();c.firstCreatePass&&(fv(c,new UI(i,s,a),-1),2==(2&s)&&(c.staticViewQueries=!0)),hv(c,Se(),s)}function zd(i,s,a,c){const u=Ht();if(u.firstCreatePass){const f=yn();fv(u,new UI(s,a,c),f.index),function(i,s){const a=i.contentQueries||(i.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(i.queries.length-1,s)}(u,i),2==(2&a)&&(u.staticContentQueries=!0)}hv(u,Se(),a)}function pm(){return i=Se(),s=bc(),i[19].queries[s].queryList;var i,s}function hv(i,s,a){const c=new Tf(4==(4&a));iy(i,s,c,c.destroy),null===s[19]&&(s[19]=new Nw),s[19].queries.push(new lv(c))}function fv(i,s,a){null===i.queries&&(i.queries=new Fw),i.queries.track(new Lw(s,a))}function Gd(i,s){return i.queries.getByIndex(s)}const Cv=new Sn("Application Initializer");let Nf=(()=>{class i{constructor(a){this.appInits=a,this.resolve=nm,this.reject=nm,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,u)=>{this.resolve=c,this.reject=u})}runInitializers(){if(this.initialized)return;const a=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let u=0;u<this.appInits.length;u++){const f=this.appInits[u]();if(Ag(f))a.push(f);else if(uf(f)){const _=new Promise((b,w)=>{f.subscribe({complete:b,error:w})});a.push(_)}}Promise.all(a).then(()=>{c()}).catch(u=>{this.reject(u)}),0===a.length&&c(),this.initialized=!0}}return i.\u0275fac=function(a){return new(a||i)(Le(Cv,8))},i.\u0275prov=dn({token:i,factory:i.\u0275fac}),i})();const JI=new Sn("AppId"),ym={provide:JI,useFactory:function(){return`${Dv()}${Dv()}${Dv()}`},deps:[]};function Dv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const eT=new Sn("Platform Initializer"),jr=new Sn("Platform ID"),Iv=new Sn("appBootstrapListener");let Ff=(()=>{class i{log(a){console.log(a)}warn(a){console.warn(a)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=dn({token:i,factory:i.\u0275fac}),i})();const js=new Sn("LocaleId"),Tv=new Sn("DefaultCurrencyCode");class fM{constructor(s,a){this.ngModuleFactory=s,this.componentFactories=a}}const eC=function(i){return new Mr(i)},rT=eC,_M=function(i){return Promise.resolve(eC(i))},tC=function(i){const s=eC(i),c=Os(Dr(i).declarations).reduce((u,f)=>{const _=_n(f);return _&&u.push(new Aw(_)),u},[]);return new fM(s,c)},iT=tC,Lf=function(i){return Promise.resolve(tC(i))};let pu=(()=>{class i{constructor(){this.compileModuleSync=rT,this.compileModuleAsync=_M,this.compileModuleAndAllComponentsSync=iT,this.compileModuleAndAllComponentsAsync=Lf}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=dn({token:i,factory:i.\u0275fac}),i})();const EM=(()=>Promise.resolve(0))();function Av(i){"undefined"==typeof Zone?EM.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class Hs{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new sa(!1),this.onMicrotaskEmpty=new sa(!1),this.onStable=new sa(!1),this.onError=new sa(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const u=this;u._nesting=0,u._outer=u._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(u._inner=u._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(u._inner=u._inner.fork(Zone.longStackTraceZoneSpec)),u.shouldCoalesceEventChangeDetection=!c&&a,u.shouldCoalesceRunChangeDetection=c,u.lastRequestAnimationFrameId=-1,u.nativeRequestAnimationFrame=function(){let i=Tt.requestAnimationFrame,s=Tt.cancelAnimationFrame;if("undefined"!=typeof Zone&&i&&s){const a=i[Zone.__symbol__("OriginalDelegate")];a&&(i=a);const c=s[Zone.__symbol__("OriginalDelegate")];c&&(s=c)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function(i){const s=()=>{!function(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(Tt,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,Qa(i),i.isCheckStableRunning=!0,la(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),Qa(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,c,u,f,_,b)=>{try{return kn(i),a.invokeTask(u,f,_,b)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||i.shouldCoalesceRunChangeDetection)&&s(),Ei(i)}},onInvoke:(a,c,u,f,_,b,w)=>{try{return kn(i),a.invoke(u,f,_,b,w)}finally{i.shouldCoalesceRunChangeDetection&&s(),Ei(i)}},onHasTask:(a,c,u,f)=>{a.hasTask(u,f),c===u&&("microTask"==f.change?(i._hasPendingMicrotasks=f.microTask,Qa(i),la(i)):"macroTask"==f.change&&(i.hasPendingMacrotasks=f.macroTask))},onHandleError:(a,c,u,f)=>(a.handleError(u,f),i.runOutsideAngular(()=>i.onError.emit(f)),!1)})}(u)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Hs.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Hs.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(s,a,c){return this._inner.run(s,a,c)}runTask(s,a,c,u){const f=this._inner,_=f.scheduleEventTask("NgZoneEvent: "+u,s,sT,nm,nm);try{return f.runTask(_,a,c)}finally{f.cancelTask(_)}}runGuarded(s,a,c){return this._inner.runGuarded(s,a,c)}runOutsideAngular(s){return this._outer.run(s)}}const sT={};function la(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function Qa(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function kn(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function Ei(i){i._nesting--,la(i)}class CM{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new sa,this.onMicrotaskEmpty=new sa,this.onStable=new sa,this.onError=new sa}run(s,a,c){return s.apply(a,c)}runGuarded(s,a,c){return s.apply(a,c)}runOutsideAngular(s){return s()}runTask(s,a,c,u){return s.apply(a,c)}}let oT=(()=>{class i{constructor(a){this._ngZone=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Hs.assertNotInAngularZone(),Av(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Av(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(a)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,c,u){let f=-1;c&&c>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==f),a(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:a,timeoutId:f,updateCb:u})}whenStable(a,c,u){if(u&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,c,u),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(a,c,u){return[]}}return i.\u0275fac=function(a){return new(a||i)(Le(Hs))},i.\u0275prov=dn({token:i,factory:i.\u0275fac}),i})(),Jn=(()=>{class i{constructor(){this._applications=new Map,Hr.addToWindow(this)}registerApplication(a,c){this._applications.set(a,c)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,c=!0){return Hr.findTestabilityInTree(this,a,c)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=dn({token:i,factory:i.\u0275fac}),i})();class Xa{addToWindow(s){}findTestabilityInTree(s,a,c){return null}}function ws(i){Hr=i}let Hr=new Xa,Cs=!0,gu=!1;function ca(){return gu=!0,Cs}function Vf(){if(gu)throw new Error("Cannot enable prod mode after platform setup.");Cs=!1}let Li;const lT=new Sn("AllowMultipleToken");class Zd{constructor(s,a){this.name=s,this.token=a}}function Rv(i,s,a=[]){const c=`Platform: ${s}`,u=new Sn(c);return(f=[])=>{let _=Pv();if(!_||_.injector.get(lT,!1))if(i)i(a.concat(f).concat({provide:u,useValue:!0}));else{const b=a.concat(f).concat({provide:u,useValue:!0},{provide:tf,useValue:"platform"});!function(i){if(Li&&!Li.destroyed&&!Li.injector.get(lT,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Li=i.get(kv);const s=i.get(eT,null);s&&s.forEach(a=>a())}(Fn.create({providers:b,name:c}))}return function(i){const s=Pv();if(!s)throw new Error("No platform exists!");if(!s.injector.get(i,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return s}(u)}}function Pv(){return Li&&!Li.destroyed?Li:null}let kv=(()=>{class i{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,c){const b=function(i,s){let a;return a="noop"===i?new CM:("zone.js"===i?void 0:i)||new Hs({enableLongStackTrace:ca(),shouldCoalesceEventChangeDetection:!!(null==s?void 0:s.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==s?void 0:s.ngZoneRunCoalescing)}),a}(c?c.ngZone:void 0,{ngZoneEventCoalescing:c&&c.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:c&&c.ngZoneRunCoalescing||!1}),w=[{provide:Hs,useValue:b}];return b.run(()=>{const I=Fn.create({providers:w,parent:this.injector,name:a.moduleType.name}),M=a.create(I),O=M.injector.get(Ua,null);if(!O)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return b.runOutsideAngular(()=>{const F=b.onError.subscribe({next:H=>{O.handleError(H)}});M.onDestroy(()=>{vm(this._modules,M),F.unsubscribe()})}),function(i,s,a){try{const c=a();return Ag(c)?c.catch(u=>{throw s.runOutsideAngular(()=>i.handleError(u)),u}):c}catch(c){throw s.runOutsideAngular(()=>i.handleError(c)),c}}(O,b,()=>{const F=M.injector.get(Nf);return F.runInitializers(),F.donePromise.then(()=>(function(i){Ct(i,"Expected localeId to be defined"),"string"==typeof i&&(zg=i.toLowerCase().replace(/_/g,"-"))}(M.injector.get(js,pf)||pf),this._moduleDoBootstrap(M),M))})})}bootstrapModule(a,c=[]){const u=Ov({},c);return function(i,s,a){const c=new Mr(a);return Promise.resolve(c)}(0,0,a).then(f=>this.bootstrapModuleFactory(f,u))}_moduleDoBootstrap(a){const c=a.injector.get(Bf);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(u=>c.bootstrap(u));else{if(!a.instance.ngDoBootstrap)throw new Error(`The module ${ae(a.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);a.instance.ngDoBootstrap(c)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(a){return new(a||i)(Le(Fn))},i.\u0275prov=dn({token:i,factory:i.\u0275fac}),i})();function Ov(i,s){return Array.isArray(s)?s.reduce(Ov,i):Ke(Ke({},i),s)}let Bf=(()=>{class i{constructor(a,c,u,f,_){this._zone=a,this._injector=c,this._exceptionHandler=u,this._componentFactoryResolver=f,this._initStatus=_,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const b=new L.y(I=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{I.next(this._stable),I.complete()})}),w=new L.y(I=>{let M;this._zone.runOutsideAngular(()=>{M=this._zone.onStable.subscribe(()=>{Hs.assertNotInAngularZone(),Av(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,I.next(!0))})})});const O=this._zone.onUnstable.subscribe(()=>{Hs.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{I.next(!1)}))});return()=>{M.unsubscribe(),O.unsubscribe()}});this.isStable=(0,le.T)(b,w.pipe((0,oe.B)()))}bootstrap(a,c){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let u;u=a instanceof ev?a:this._componentFactoryResolver.resolveComponentFactory(a),this.componentTypes.push(u.componentType);const f=function(i){return i.isBoundToModule}(u)?void 0:this._injector.get(uu),b=u.create(Fn.NULL,[],c||u.selector,f),w=b.location.nativeElement,I=b.injector.get(oT,null),M=I&&b.injector.get(Jn);return I&&M&&M.registerApplication(w,I),b.onDestroy(()=>{this.detachView(b.hostView),vm(this.components,b),M&&M.unregisterApplication(w)}),this._loadComponent(b),b}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const c=a;this._views.push(c),c.attachToAppRef(this)}detachView(a){const c=a;vm(this._views,c),c.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(Iv,[]).concat(this._bootstrapListeners).forEach(u=>u(a))}ngOnDestroy(){this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return i.\u0275fac=function(a){return new(a||i)(Le(Hs),Le(Fn),Le(Ua),Le(Eo),Le(Nf))},i.\u0275prov=dn({token:i,factory:i.\u0275fac}),i})();function vm(i,s){const a=i.indexOf(s);a>-1&&i.splice(a,1)}const rC=function(i){return function(i,s,a){if(Ts(i)&&!a){const c=sn(i.index,s);return new rm(c,c)}return 47&i.type?new rm(s[16],s):null}(yn(),Se(),16==(16&i))};let AM=(()=>{class i{}return i.__NG_ELEMENT_ID__=rC,i})();const Eu=function(i){return null};class jf{constructor(){}supports(s){return Cg(s)}create(s){return new hC(s)}}const jv=(i,s)=>s;class hC{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||jv}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,c=this._removalsHead,u=0,f=null;for(;a||c;){const _=!c||a&&a.currentIndex<fC(c,u,f)?a:c,b=fC(_,u,f),w=_.currentIndex;if(_===c)u--,c=c._nextRemoved;else if(a=a._next,null==_.previousIndex)u++;else{f||(f=[]);const I=b-u,M=w-u;if(I!=M){for(let F=0;F<I;F++){const H=F<f.length?f[F]:f[F]=0,W=H+F;M<=W&&W<I&&(f[F]=H+1)}f[_.previousIndex]=M-I}}b!==w&&s(_,b,w)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!Cg(s))throw new Error(`Error trying to diff '${ae(s)}'. Only arrays and iterables are allowed`);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let u,f,_,a=this._itHead,c=!1;if(Array.isArray(s)){this.length=s.length;for(let b=0;b<this.length;b++)f=s[b],_=this._trackByFn(b,f),null!==a&&Object.is(a.trackById,_)?(c&&(a=this._verifyReinsertion(a,f,_,b)),Object.is(a.item,f)||this._addIdentityChange(a,f)):(a=this._mismatch(a,f,_,b),c=!0),a=a._next}else u=0,function(i,s){if(Array.isArray(i))for(let a=0;a<i.length;a++)s(i[a]);else{const a=i[Wl()]();let c;for(;!(c=a.next()).done;)s(c.value)}}(s,b=>{_=this._trackByFn(u,b),null!==a&&Object.is(a.trackById,_)?(c&&(a=this._verifyReinsertion(a,b,_,u)),Object.is(a.item,b)||this._addIdentityChange(a,b)):(a=this._mismatch(a,b,_,u),c=!0),a=a._next,u++}),this.length=u;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,c,u){let f;return null===s?f=this._itTail:(f=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,f,u)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(c,u))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,f,u)):s=this._addAfter(new PM(a,c),f,u),s}_verifyReinsertion(s,a,c,u){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==f?s=this._reinsertAfter(f,s._prev,u):s.currentIndex!=u&&(s.currentIndex=u,this._addToMoves(s,u)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const u=s._prevRemoved,f=s._nextRemoved;return null===u?this._removalsHead=f:u._nextRemoved=f,null===f?this._removalsTail=u:f._prevRemoved=u,this._insertAfter(s,a,c),this._addToMoves(s,c),s}_moveAfter(s,a,c){return this._unlink(s),this._insertAfter(s,a,c),this._addToMoves(s,c),s}_addAfter(s,a,c){return this._insertAfter(s,a,c),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,c){const u=null===a?this._itHead:a._next;return s._next=u,s._prev=a,null===u?this._itTail=s:u._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new Hv),this._linkedRecords.put(s),s.currentIndex=c,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,c=s._next;return null===a?this._itHead=c:a._next=c,null===c?this._itTail=a:c._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Hv),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class PM{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class ET{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===a||a<=c.currentIndex)&&Object.is(c.trackById,s))return c;return null}remove(s){const a=s._prevDup,c=s._nextDup;return null===a?this._head=c:a._nextDup=c,null===c?this._tail=a:c._prevDup=a,null===this._head}}class Hv{constructor(){this.map=new Map}put(s){const a=s.trackById;let c=this.map.get(a);c||(c=new ET,this.map.set(a,c)),c.add(s)}get(s,a){const u=this.map.get(s);return u?u.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function fC(i,s,a){const c=i.previousIndex;if(null===c)return c;let u=0;return a&&c<a.length&&(u=a[c]),c+s+u}class wT{constructor(){}supports(s){return s instanceof Map||CE(s)}create(){return new CT}}class CT{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||CE(s)))throw new Error(`Error trying to diff '${ae(s)}'. Only maps and objects are allowed`)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(c,u)=>{if(a&&a.key===u)this._maybeAddToChanges(a,c),this._appendAfter=a,a=a._next;else{const f=this._getOrCreateRecordForKey(u,c);a=this._insertBeforeOrAppend(a,f)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let c=a;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const c=s._prev;return a._next=s,a._prev=c,s._prev=a,c&&(c._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const u=this._records.get(s);this._maybeAddToChanges(u,a);const f=u._prev,_=u._next;return f&&(f._next=_),_&&(_._prev=f),u._next=null,u._prev=null,u}const c=new DT(s);return this._records.set(s,c),c.currentValue=a,this._addToAdditions(c),c}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(c=>a(s[c],c))}}class DT{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function $v(){return new zv([new jf])}let zv=(()=>{class i{constructor(a){this.factories=a}static create(a,c){if(null!=c){const u=c.factories.slice();a=a.concat(u)}return new i(a)}static extend(a){return{provide:i,useFactory:c=>i.create(a,c||$v()),deps:[[i,new Vr,new Yn]]}}find(a){const c=this.factories.find(u=>u.supports(a));if(null!=c)return c;throw new Error(`Cannot find a differ supporting object '${a}' of type '${function(i){return i.name||typeof i}(a)}'`)}}return i.\u0275prov=dn({token:i,providedIn:"root",factory:$v}),i})();function TT(){return new Cm([new wT])}let Cm=(()=>{class i{constructor(a){this.factories=a}static create(a,c){if(c){const u=c.factories.slice();a=a.concat(u)}return new i(a)}static extend(a){return{provide:i,useFactory:c=>i.create(a,c||TT()),deps:[[i,new Vr,new Yn]]}}find(a){const c=this.factories.find(u=>u.supports(a));if(c)return c;throw new Error(`Cannot find a differ supporting object '${a}'`)}}return i.\u0275prov=dn({token:i,providedIn:"root",factory:TT}),i})();const kM=[new wT],$f=new zv([new jf]),pC=new Cm(kM),ST=Rv(null,"core",[{provide:jr,useValue:"unknown"},{provide:kv,deps:[Fn]},{provide:Jn,deps:[]},{provide:Ff,deps:[]}]),_C=[{provide:Bf,useClass:Bf,deps:[Hs,Fn,Ua,Eo,Nf]},{provide:ft,deps:[Hs],useFactory:function(i){let s=[];return i.onStable.subscribe(()=>{for(;s.length;)s.pop()()}),function(a){s.push(a)}}},{provide:Nf,useClass:Nf,deps:[[new Yn,Cv]]},{provide:pu,useClass:pu,deps:[]},ym,{provide:zv,useFactory:function(){return $f},deps:[]},{provide:Cm,useFactory:function(){return pC},deps:[]},{provide:js,useFactory:function(i){return i||"undefined"!=typeof $localize&&$localize.locale||pf},deps:[[new ts(js),new Yn,new Vr]]},{provide:Tv,useValue:"USD"}];let yC=(()=>{class i{constructor(a){}}return i.\u0275fac=function(a){return new(a||i)(Le(Bf))},i.\u0275mod=cl({type:i}),i.\u0275inj=xn({providers:_C}),i})()},6293:(Ye,be,N)=>{"use strict";N.d(be,{Z:()=>Ue});var d=N(4213),te=N(1177),L=N(1572),le=N(3855);class oe{constructor(ve,X){this._delegate=ve,this.firebase=X,(0,L._addComponent)(ve,new te.wA("app-compat",()=>this,"PUBLIC")),this.container=ve.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ve){this._delegate.automaticDataCollectionEnabled=ve}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ve=>{this._delegate.checkDestroyed(),ve()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,L.deleteApp)(this._delegate)))}_getService(ve,X=L._DEFAULT_ENTRY_NAME){var _e;this._delegate.checkDestroyed();const Pe=this._delegate.container.getProvider(ve);return!Pe.isInitialized()&&"EXPLICIT"===(null===(_e=Pe.getComponent())||void 0===_e?void 0:_e.instantiationMode)&&Pe.initialize(),Pe.getImmediate({identifier:X})}_removeServiceInstance(ve,X=L._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ve).clearInstance(X)}_addComponent(ve){(0,L._addComponent)(this._delegate,ve)}_addOrOverwriteComponent(ve){(0,L._addOrOverwriteComponent)(this._delegate,ve)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ne=new d.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),G=function he(){const tt=function(tt){const ve={},X={__esModule:!0,initializeApp:function(Qe,mt={}){const re=L.initializeApp(Qe,mt);if((0,d.r3)(ve,re.name))return ve[re.name];const pe=new tt(re,X);return ve[re.name]=pe,pe},app:Pe,registerVersion:L.registerVersion,setLogLevel:L.setLogLevel,onLog:L.onLog,apps:null,SDK_VERSION:L.SDK_VERSION,INTERNAL:{registerComponent:function(Qe){const mt=Qe.name,re=mt.replace("-compat","");if(L._registerComponent(Qe)&&"PUBLIC"===Qe.type){const pe=(Ee=Pe())=>{if("function"!=typeof Ee[re])throw ne.create("invalid-app-argument",{appName:mt});return Ee[re]()};void 0!==Qe.serviceProps&&(0,d.ZB)(pe,Qe.serviceProps),X[re]=pe,tt.prototype[re]=function(...Ee){return this._getService.bind(this,mt).apply(this,Qe.multipleInstances?Ee:[])}}return"PUBLIC"===Qe.type?X[re]:null},removeApp:function(Qe){delete ve[Qe]},useAsService:function(Qe,mt){return"serverAuth"===mt?null:mt},modularAPIs:L}};function Pe(Qe){if(!(0,d.r3)(ve,Qe=Qe||L._DEFAULT_ENTRY_NAME))throw ne.create("no-app",{appName:Qe});return ve[Qe]}return X.default=X,Object.defineProperty(X,"apps",{get:function(){return Object.keys(ve).map(Qe=>ve[Qe])}}),Pe.App=tt,X}(oe);return tt.INTERNAL=Object.assign(Object.assign({},tt.INTERNAL),{createFirebaseNamespace:he,extendNamespace:function(X){(0,d.ZB)(tt,X)},createSubscribe:d.ne,ErrorFactory:d.LL,deepExtend:d.ZB}),tt}(),z=new le.Yd("@firebase/app-compat");if((0,d.jU)()&&void 0!==self.firebase){z.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const tt=self.firebase.SDK_VERSION;tt&&tt.indexOf("LITE")>=0&&z.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ue=G;(0,L.registerVersion)("@firebase/app-compat","0.1.9",undefined)},1572:(Ye,be,N)=>{"use strict";N.r(be),N.d(be,{FirebaseError:()=>le.ZR,SDK_VERSION:()=>_a,_DEFAULT_ENTRY_NAME:()=>tr,_addComponent:()=>mn,_addOrOverwriteComponent:()=>$r,_apps:()=>Ct,_clearComponents:()=>xn,_components:()=>Nt,_getProvider:()=>dn,_registerComponent:()=>oi,_removeServiceInstance:()=>ll,deleteApp:()=>cr,getApp:()=>cs,getApps:()=>Me,initializeApp:()=>Bi,onLog:()=>Yt,registerVersion:()=>it,setLogLevel:()=>Ui});var d=N(8239),te=N(1177),L=N(3855),le=N(4213);class oe{constructor(yt){this.container=yt}getPlatformInfoString(){return this.container.getProviders().map(Ut=>{if(function(pt){const yt=pt.getComponent();return"VERSION"===(null==yt?void 0:yt.type)}(Ut)){const jt=Ut.getImmediate();return`${jt.library}/${jt.version}`}return null}).filter(Ut=>Ut).join(" ")}}const ne="@firebase/app",he=new L.Yd("@firebase/app"),tr="[DEFAULT]",Rt={[ne]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ct=new Map,Nt=new Map;function mn(pt,yt){try{pt.container.addComponent(yt)}catch(Ut){he.debug(`Component ${yt.name} failed to register with FirebaseApp ${pt.name}`,Ut)}}function $r(pt,yt){pt.container.addOrOverwriteComponent(yt)}function oi(pt){const yt=pt.name;if(Nt.has(yt))return he.debug(`There were multiple attempts to register component ${yt}.`),!1;Nt.set(yt,pt);for(const Ut of Ct.values())mn(Ut,pt);return!0}function dn(pt,yt){return pt.container.getProvider(yt)}function ll(pt,yt,Ut=tr){dn(pt,yt).clearInstance(Ut)}function xn(){Nt.clear()}const Zt=new le.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class Mn{constructor(yt,Ut,jt){this._isDeleted=!1,this._options=Object.assign({},yt),this._config=Object.assign({},Ut),this._name=Ut.name,this._automaticDataCollectionEnabled=Ut.automaticDataCollectionEnabled,this._container=jt,this.container.addComponent(new te.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(yt){this.checkDestroyed(),this._automaticDataCollectionEnabled=yt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(yt){this._isDeleted=yt}checkDestroyed(){if(this.isDeleted)throw Zt.create("app-deleted",{appName:this._name})}}const _a="9.4.1";function Bi(pt,yt={}){"object"!=typeof yt&&(yt={name:yt});const Ut=Object.assign({name:tr,automaticDataCollectionEnabled:!1},yt),jt=Ut.name;if("string"!=typeof jt||!jt)throw Zt.create("bad-app-name",{appName:String(jt)});const li=Ct.get(jt);if(li){if((0,le.vZ)(pt,li.options)&&(0,le.vZ)(Ut,li.config))return li;throw Zt.create("duplicate-app",{appName:jt})}const Jt=new te.H0(jt);for(const dt of Nt.values())Jt.addComponent(dt);const Ze=new Mn(pt,Ut,Jt);return Ct.set(jt,Ze),Ze}function cs(pt=tr){const yt=Ct.get(pt);if(!yt)throw Zt.create("no-app",{appName:pt});return yt}function Me(){return Array.from(Ct.values())}function cr(pt){return qn.apply(this,arguments)}function qn(){return(qn=(0,d.Z)(function*(pt){const yt=pt.name;Ct.has(yt)&&(Ct.delete(yt),yield Promise.all(pt.container.getProviders().map(Ut=>Ut.delete())),pt.isDeleted=!0)})).apply(this,arguments)}function it(pt,yt,Ut){var jt;let li=null!==(jt=Rt[pt])&&void 0!==jt?jt:pt;Ut&&(li+=`-${Ut}`);const Jt=li.match(/\s|\//),Ze=yt.match(/\s|\//);if(Jt||Ze){const dt=[`Unable to register library "${li}" with version "${yt}":`];return Jt&&dt.push(`library name "${li}" contains illegal characters (whitespace or "/")`),Jt&&Ze&&dt.push("and"),Ze&&dt.push(`version name "${yt}" contains illegal characters (whitespace or "/")`),void he.warn(dt.join(" "))}oi(new te.wA(`${li}-version`,()=>({library:li,version:yt}),"VERSION"))}function Yt(pt,yt){if(null!==pt&&"function"!=typeof pt)throw Zt.create("invalid-log-argument");(0,L.Am)(pt,yt)}function Ui(pt){(0,L.Ub)(pt)}oi(new te.wA("platform-logger",yt=>new oe(yt),"PRIVATE")),it(ne,"0.7.8",""),it(ne,"0.7.8","esm2017"),it("fire-js","")},1177:(Ye,be,N)=>{"use strict";N.d(be,{wA:()=>L,H0:()=>ae});var d=N(8239),te=N(4213);class L{constructor(G,z,Y){this.name=G,this.instanceFactory=z,this.type=Y,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(G){return this.instantiationMode=G,this}setMultipleInstances(G){return this.multipleInstances=G,this}setServiceProps(G){return this.serviceProps=G,this}setInstanceCreatedCallback(G){return this.onInstanceCreated=G,this}}const le="[DEFAULT]";class oe{constructor(G,z){this.name=G,this.container=z,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(G){const z=this.normalizeInstanceIdentifier(G);if(!this.instancesDeferred.has(z)){const Y=new te.BH;if(this.instancesDeferred.set(z,Y),this.isInitialized(z)||this.shouldAutoInitialize())try{const je=this.getOrInitializeService({instanceIdentifier:z});je&&Y.resolve(je)}catch(je){}}return this.instancesDeferred.get(z).promise}getImmediate(G){var z;const Y=this.normalizeInstanceIdentifier(null==G?void 0:G.identifier),je=null!==(z=null==G?void 0:G.optional)&&void 0!==z&&z;if(!this.isInitialized(Y)&&!this.shouldAutoInitialize()){if(je)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Y})}catch(xe){if(je)return null;throw xe}}getComponent(){return this.component}setComponent(G){if(G.name!==this.name)throw Error(`Mismatching Component ${G.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=G,this.shouldAutoInitialize()){if("EAGER"===G.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:le})}catch(z){}for(const[z,Y]of this.instancesDeferred.entries()){const je=this.normalizeInstanceIdentifier(z);try{const xe=this.getOrInitializeService({instanceIdentifier:je});Y.resolve(xe)}catch(xe){}}}}clearInstance(G=le){this.instancesDeferred.delete(G),this.instancesOptions.delete(G),this.instances.delete(G)}delete(){var G=this;return(0,d.Z)(function*(){const z=Array.from(G.instances.values());yield Promise.all([...z.filter(Y=>"INTERNAL"in Y).map(Y=>Y.INTERNAL.delete()),...z.filter(Y=>"_delete"in Y).map(Y=>Y._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(G=le){return this.instances.has(G)}getOptions(G=le){return this.instancesOptions.get(G)||{}}initialize(G={}){const{options:z={}}=G,Y=this.normalizeInstanceIdentifier(G.instanceIdentifier);if(this.isInitialized(Y))throw Error(`${this.name}(${Y}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const je=this.getOrInitializeService({instanceIdentifier:Y,options:z});for(const[xe,Ue]of this.instancesDeferred.entries())Y===this.normalizeInstanceIdentifier(xe)&&Ue.resolve(je);return je}onInit(G,z){var Y;const je=this.normalizeInstanceIdentifier(z),xe=null!==(Y=this.onInitCallbacks.get(je))&&void 0!==Y?Y:new Set;xe.add(G),this.onInitCallbacks.set(je,xe);const Ue=this.instances.get(je);return Ue&&G(Ue,je),()=>{xe.delete(G)}}invokeOnInitCallbacks(G,z){const Y=this.onInitCallbacks.get(z);if(Y)for(const je of Y)try{je(G,z)}catch(xe){}}getOrInitializeService({instanceIdentifier:G,options:z={}}){let Y=this.instances.get(G);if(!Y&&this.component&&(Y=this.component.instanceFactory(this.container,{instanceIdentifier:(he=G,he===le?void 0:he),options:z}),this.instances.set(G,Y),this.instancesOptions.set(G,z),this.invokeOnInitCallbacks(Y,G),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,G,Y)}catch(je){}var he;return Y||null}normalizeInstanceIdentifier(G=le){return this.component?this.component.multipleInstances?G:le:G}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ae{constructor(G){this.name=G,this.providers=new Map}addComponent(G){const z=this.getProvider(G.name);if(z.isComponentSet())throw new Error(`Component ${G.name} has already been registered with ${this.name}`);z.setComponent(G)}addOrOverwriteComponent(G){this.getProvider(G.name).isComponentSet()&&this.providers.delete(G.name),this.addComponent(G)}getProvider(G){if(this.providers.has(G))return this.providers.get(G);const z=new oe(G,this);return this.providers.set(G,z),z}getProviders(){return Array.from(this.providers.values())}}},3855:(Ye,be,N)=>{"use strict";N.d(be,{in:()=>te,Yd:()=>ne,Ub:()=>ae,Am:()=>he});const d=[];var te=(()=>{return(G=te||(te={}))[G.DEBUG=0]="DEBUG",G[G.VERBOSE=1]="VERBOSE",G[G.INFO=2]="INFO",G[G.WARN=3]="WARN",G[G.ERROR=4]="ERROR",G[G.SILENT=5]="SILENT",te;var G})();const L={debug:te.DEBUG,verbose:te.VERBOSE,info:te.INFO,warn:te.WARN,error:te.ERROR,silent:te.SILENT},le=te.INFO,oe={[te.DEBUG]:"log",[te.VERBOSE]:"log",[te.INFO]:"info",[te.WARN]:"warn",[te.ERROR]:"error"},me=(G,z,...Y)=>{if(z<G.logLevel)return;const je=(new Date).toISOString(),xe=oe[z];if(!xe)throw new Error(`Attempted to log a message with an invalid logType (value: ${z})`);console[xe](`[${je}]  ${G.name}:`,...Y)};class ne{constructor(z){this.name=z,this._logLevel=le,this._logHandler=me,this._userLogHandler=null,d.push(this)}get logLevel(){return this._logLevel}set logLevel(z){if(!(z in te))throw new TypeError(`Invalid value "${z}" assigned to \`logLevel\``);this._logLevel=z}setLogLevel(z){this._logLevel="string"==typeof z?L[z]:z}get logHandler(){return this._logHandler}set logHandler(z){if("function"!=typeof z)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=z}get userLogHandler(){return this._userLogHandler}set userLogHandler(z){this._userLogHandler=z}debug(...z){this._userLogHandler&&this._userLogHandler(this,te.DEBUG,...z),this._logHandler(this,te.DEBUG,...z)}log(...z){this._userLogHandler&&this._userLogHandler(this,te.VERBOSE,...z),this._logHandler(this,te.VERBOSE,...z)}info(...z){this._userLogHandler&&this._userLogHandler(this,te.INFO,...z),this._logHandler(this,te.INFO,...z)}warn(...z){this._userLogHandler&&this._userLogHandler(this,te.WARN,...z),this._logHandler(this,te.WARN,...z)}error(...z){this._userLogHandler&&this._userLogHandler(this,te.ERROR,...z),this._logHandler(this,te.ERROR,...z)}}function ae(G){d.forEach(z=>{z.setLogLevel(G)})}function he(G,z){for(const Y of d){let je=null;z&&z.level&&(je=L[z.level]),Y.userLogHandler=null===G?null:(xe,Ue,...tt)=>{const ve=tt.map(X=>{if(null==X)return null;if("string"==typeof X)return X;if("number"==typeof X||"boolean"==typeof X)return X.toString();if(X instanceof Error)return X.message;try{return JSON.stringify(X)}catch(_e){return null}}).filter(X=>X).join(" ");Ue>=(null!=je?je:xe.logLevel)&&G({level:te[Ue].toLowerCase(),message:ve,args:tt,type:xe.name})}}}},8239:(Ye,be,N)=>{"use strict";function d(L,le,oe,me,ne,ae,he){try{var G=L[ae](he),z=G.value}catch(Y){return void oe(Y)}G.done?le(z):Promise.resolve(z).then(me,ne)}function te(L){return function(){var le=this,oe=arguments;return new Promise(function(me,ne){var ae=L.apply(le,oe);function he(z){d(ae,me,ne,he,G,"next",z)}function G(z){d(ae,me,ne,he,G,"throw",z)}he(void 0)})}}N.d(be,{Z:()=>te})}},Ye=>{Ye(Ye.s=5639)}]);